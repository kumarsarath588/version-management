{"status":{"description":"* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix\/4u ]","source_mpi":"","state":"DRAFT","is_cloned":false,"message_list":[{"message":"Credential is invalid","reason":"INVALID_CREDENTIAL","details":[{"attribute_name":"default_credential"}]}],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"1c219728-52c0-4741-aa92-f592eeed3648","name":"action_create","state":"DRAFT","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"DAG","uuid":"b0330b16-0679-4a35-885c-92a03086a799","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureMaster","uuid":"07a710d1-d1ff-45cf-bca8-074a6286efc5"},{"kind":"app_task","name":"GetDBState","uuid":"b0a18e41-d2c2-4f27-8bbc-2f49c80f32e8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigureMaster","uuid":"07a710d1-d1ff-45cf-bca8-074a6286efc5"},"edge_type":"user_defined","type":"","uuid":"6fd82d8a-b596-4eef-88a7-5ae7d5b43614","to_task_reference":{"kind":"app_task","name":"GetDBState","uuid":"b0a18e41-d2c2-4f27-8bbc-2f49c80f32e8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"a6df9f70_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"07a710d1-d1ff-45cf-bca8-074a6286efc5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Run only on master\nif [ ${is_master} -eq 0 ]\nthen\nsudo sed -i \"\/\\[mysqld\\]\/a innodb_flush_log_at_trx_commit=1\" \/etc\/my.cnf.d\/nutanix.cnf\nsudo sed -i \"\/\\[mysqld\\]\/a sync_binlog=1\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mysql -u root -p${mysql_password}<<EOF\nCREATE USER 'replica'@'%' IDENTIFIED BY \"${mysql_password}\";\nGRANT REPLICATION SLAVE ON *.* to replica@'%';\nFLUSH PRIVILEGES;\nEOF\n\nfi\n\nsudo touch \/var\/run\/mysqld\/mysqld.sock\nsudo chown mysql:mysql \/var\/run\/mysqld\/mysqld.sock\nsudo systemctl restart mysqld\n\nsleep 5\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigureMaster"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"SET_VARIABLE","uuid":"b0a18e41-d2c2-4f27-8bbc-2f49c80f32e8","child_tasks_local_reference_list":[],"state":"DRAFT","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{address}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n\nif [ ${is_master} -eq 0 ]\nthen\n    while true\n    do\n      status=`sudo systemctl status mysqld | grep Active: | awk ' { print $3 }' | sed 's#[(|)]##g'`\n  \t  [ $status = \"running\" ] && break\n      echo $status\n  \t  sleep 2\n    done\n    \n    MYSQL_BIN=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $1}')\n\tMYSQL_POSITION=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $2}')\n    \n  echo \"MYSQL_BIN=$MYSQL_BIN\"\n  echo \"MYSQL_POSITION=$MYSQL_POSITION\"\nfi\n\n","eval_variables":["MYSQL_BIN","MYSQL_POSITION"],"eval_scope":"local","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"},"type":"","script_type":"sh"},"timeout_secs":"0","message_list":[{"message":"Credential is invalid","reason":"INVALID_CREDENTIAL","details":[{"attribute_name":"credential"}]}],"variable_list":[],"name":"GetDBState"}],"description":"","message_list":[],"uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac","state":"DRAFT","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a6df9f70_dag","uuid":"b0330b16-0679-4a35-885c-92a03086a799"},"name":"0a970522_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"1c869788-6142-4818-8f21-ac81abe4dbd8","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"DAG","uuid":"396df2c6-9a9f-45b4-b842-9ae82c8ccf00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3f9277cd_dag"}],"description":"","message_list":[],"uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f9277cd_dag","uuid":"396df2c6-9a9f-45b4-b842-9ae82c8ccf00"},"name":"5fd47ec3_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"28260b90-fe8a-41bf-977e-9623c4a7e0fa","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"DAG","uuid":"3cbe7b04-bc79-4246-93ae-6e7e0f35220f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"e4472841-dc17-406e-8fc5-48052debbf09"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"32e9c292_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"e4472841-dc17-406e-8fc5-48052debbf09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"32e9c292_dag","uuid":"3cbe7b04-bc79-4246-93ae-6e7e0f35220f"},"name":"5ddb28d1_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f383f6a1-919d-4faf-ade7-6c7e446e774f","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"DAG","uuid":"97eecf34-5b69-437e-8690-c1b8ffff9dd7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ce63573f_dag"}],"description":"","message_list":[],"uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ce63573f_dag","uuid":"97eecf34-5b69-437e-8690-c1b8ffff9dd7"},"name":"0aefbca3_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"49032167-1347-4521-911b-308c85186bcd","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"DAG","uuid":"dff0c7f5-3aad-43a6-b338-284e88b7b0c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c4afa1a6_dag"}],"description":"","message_list":[],"uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c4afa1a6_dag","uuid":"dff0c7f5-3aad-43a6-b338-284e88b7b0c7"},"name":"7e709238_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d233f9de-6ffd-4210-b410-5bd82ae4143a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"DAG","uuid":"df36e23b-ae1c-4a24-9fdb-d87fdc34a1d6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"c36914b2-e95a-4687-99c9-367b7ddad1e7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c36914b2-e95a-4687-99c9-367b7ddad1e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"df36e23b-ae1c-4a24-9fdb-d87fdc34a1d6"},"name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}}],"message_list":[],"uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","state":"DRAFT","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"fb95e0fb-0089-43d8-ab64-30bbc2f88cdc","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MYSQL_BIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"66d4afd6-4b9a-4734-b2b3-16ab24748138","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MYSQL_POSITION"}],"name":"MySQL_Master"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"1d218db7-3d41-4f71-836e-2aa9ca41640c","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"DAG","uuid":"c559b4ee-4f10-40c2-b322-07c223c6a309","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureSlaves","uuid":"29beacf0-8fc0-4c8f-b4ba-e60e76e9d05f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"93f99bda_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"29beacf0-8fc0-4c8f-b4ba-e60e76e9d05f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{MySQL_Master.address}@@\"\nmaster_bin=\"@@{MySQL_Master.MYSQL_BIN}@@\"\nmaster_position=\"@@{MySQL_Master.MYSQL_POSITION}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Runs on slaves\nif [ ${is_master} -ne 0 ]\nthen\n  sudo mysql -u root -p${mysql_password} -e \"change master to master_host='${master_ip}',master_user='replica',master_password='${mysql_password}',master_log_file='${master_bin}',master_log_pos=${master_position};\"\n  sudo mysql -u root -p${mysql_password} -e 'start slave;'\n  sudo mysql -u root -p${mysql_password} -e 'show slave status\\G' | grep -A11 Slave_IO_State\nfi\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ConfigureSlaves"}],"description":"","message_list":[],"uuid":"b92d8622-66db-4205-94f5-3657bb494a9d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"93f99bda_dag","uuid":"c559b4ee-4f10-40c2-b322-07c223c6a309"},"name":"d54168c9_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"84f67f13-3d80-4bad-9ab7-1a34ba69e148","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"DAG","uuid":"2ad1b6f6-1fd9-40c9-ac56-ecb803178412","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5066b603_dag"}],"description":"","message_list":[],"uuid":"9655aee0-4d89-4777-886f-0113b1879d12","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5066b603_dag","uuid":"2ad1b6f6-1fd9-40c9-ac56-ecb803178412"},"name":"92247e35_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"55571a1a-cbdc-4ea4-9ad5-43bc24728034","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"DAG","uuid":"12c562f2-bc5a-458a-a1a7-42dc71d0c0c3","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"705ff2e9-0b2b-46c4-9107-10b19d0b9a78"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"abefdcaf_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"705ff2e9-0b2b-46c4-9107-10b19d0b9a78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Start"}],"description":"","message_list":[],"uuid":"cf047020-ab75-4112-9ebe-4c127d658926","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"abefdcaf_dag","uuid":"12c562f2-bc5a-458a-a1a7-42dc71d0c0c3"},"name":"a027cde0_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"55068f9e-ea85-4ab6-a871-9e96e9e2bfe2","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"DAG","uuid":"9f6a204d-e390-4d18-89b5-88cba9cead13","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"097fa65d_dag"}],"description":"","message_list":[],"uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"097fa65d_dag","uuid":"9f6a204d-e390-4d18-89b5-88cba9cead13"},"name":"4a2ad0be_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f0359a73-92bd-439a-ba0b-816cd46a9a81","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"DAG","uuid":"622c5c9f-3c47-4cc4-bb17-9f6041999181","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"e1f94389_dag"}],"description":"","message_list":[],"uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1f94389_dag","uuid":"622c5c9f-3c47-4cc4-bb17-9f6041999181"},"name":"f2b2a076_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"48f6c989-25ec-4ee1-8b2f-19230dab4e7d","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"DAG","uuid":"e507c478-f84c-44f2-88da-4a7d51345a7b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3cf9896e-1d74-4a7c-9706-8ff2bf9d96b7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"3cf9896e-1d74-4a7c-9706-8ff2bf9d96b7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e507c478-f84c-44f2-88da-4a7d51345a7b"},"name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}}],"message_list":[],"uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","state":"ACTIVE","depends_on_list":[{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"}],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"MySQL_Slave"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"ef223e65-3734-4a93-8638-787a43ff819b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DAG","uuid":"184a714c-d9f5-4ee5-a7ad-22e383b98932","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"60ea245b-9679-4352-88d7-93a9a6302bb8"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"28094288-9df9-4d61-ab68-a7fc4748e1af"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"60ea245b-9679-4352-88d7-93a9a6302bb8"},"edge_type":"inherent","type":"","uuid":"df4ad452-19ed-45ff-93c9-b78145721a44","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"28094288-9df9-4d61-ab68-a7fc4748e1af"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"60ea245b-9679-4352-88d7-93a9a6302bb8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-master-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"28094288-9df9-4d61-ab68-a7fc4748e1af","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"1816dc54-41f5-412e-bbff-1c54d830dc49","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"184a714c-d9f5-4ee5-a7ad-22e383b98932"},"name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}},{"description":"System action for powering on an application","message_list":[],"uuid":"3588452f-cf21-4e6d-a851-094b19eac49a","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DAG","uuid":"7108b82b-fcd8-40e4-9d66-c43f1dd697fb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"6e805af4-74c5-4dd2-afa0-db08252c8e4c"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"c3458bab-7efc-4e18-b0ff-d4a2b4142692"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"6e805af4-74c5-4dd2-afa0-db08252c8e4c"},"edge_type":"inherent","type":"","uuid":"8485bd28-17d6-4067-abf7-18567a824e9b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"c3458bab-7efc-4e18-b0ff-d4a2b4142692"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"6e805af4-74c5-4dd2-afa0-db08252c8e4c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c3458bab-7efc-4e18-b0ff-d4a2b4142692","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"3f5b3665-e764-4e70-b72b-387f53e4fd50","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"7108b82b-fcd8-40e4-9d66-c43f1dd697fb"},"name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}},{"description":"System action for restarting an application","message_list":[],"uuid":"e27a5f9b-87a1-4f92-8d5c-9d8e6cafea43","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DAG","uuid":"bf545d15-95e3-414c-97b6-d96d40940731","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0021a1b7-fcbe-4339-9f5f-e80a1687fb96"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"04daa263-28f1-4d47-b254-8eb54229c4f6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0021a1b7-fcbe-4339-9f5f-e80a1687fb96"},"edge_type":"inherent","type":"","uuid":"35f5e09a-e8cb-43dd-bf74-726b93e6f746","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"04daa263-28f1-4d47-b254-8eb54229c4f6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"0021a1b7-fcbe-4339-9f5f-e80a1687fb96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"04daa263-28f1-4d47-b254-8eb54229c4f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVMaster_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"0a25627c-5334-40b3-a71b-e6765aab2d50","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"bf545d15-95e3-414c-97b6-d96d40940731"},"name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}},{"description":"System action for suspending an application","message_list":[],"uuid":"a89d6fbf-1789-4438-a55c-fcf67a6554f7","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DAG","uuid":"7fef26f3-968b-4f1d-bc7c-b2e61403b6f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"cf08e8eb-c676-4bea-ba68-9eb95579172c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"7fef26f3-968b-4f1d-bc7c-b2e61403b6f0"},"name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}},{"description":"System action for modifying an application","message_list":[],"uuid":"e1816d99-d009-47df-815d-dd028084a0f6","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DAG","uuid":"58aa5e99-2aac-47d9-b027-3d96284b21cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"922397e2-7bea-4082-b2d3-2344d10b6051","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"58aa5e99-2aac-47d9-b027-3d96284b21cd"},"name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}},{"description":"System action for powering off an application","message_list":[],"uuid":"815b3834-cd4a-4fc5-ac03-9c39a91d7ce4","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DAG","uuid":"4c7f826b-3407-440f-86b1-98cd7bf784d5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"9922db89-7686-4fd9-a64d-254cf583b34b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"9922db89-7686-4fd9-a64d-254cf583b34b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"952713eb-2786-4424-99a0-15783eee99c7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"4c7f826b-3407-440f-86b1-98cd7bf784d5"},"name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3f4f6022-19a9-4b64-ac0e-86a7d03c7e2f","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DAG","uuid":"7bb52bcf-b244-4396-bd15-570611c5b13e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"7d98e28f-6339-4e53-a52f-a1d5007c5604"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"7d98e28f-6339-4e53-a52f-a1d5007c5604","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"1b5f7fa1-29a3-4406-81d2-cd2a8c825290","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"7bb52bcf-b244-4396-bd15-570611c5b13e"},"name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"161ddc84-1636-4503-895f-271a251dcac9","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"DAG","uuid":"4d23df9e-3b57-4a87-817a-22edc2c9f9f2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"033e3756-9e33-43ee-b5dc-5313b563646d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"033e3756-9e33-43ee-b5dc-5313b563646d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"0fb3cdcc-da51-4415-a730-066d6aba3e67","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"4d23df9e-3b57-4a87-817a-22edc2c9f9f2"},"name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}}],"message_list":[],"uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e","state":"ACTIVE","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHVMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"fbd2566d-eba2-4582-84af-a8b7050cf9f6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DAG","uuid":"cb8e42b2-c4c2-47f4-b127-d9531e9721af","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"d5c3025f-1c31-4fbf-be63-f0592056195f"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"55874736-5dc4-4c1b-8fca-16c206f7b776"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"d5c3025f-1c31-4fbf-be63-f0592056195f"},"edge_type":"inherent","type":"","uuid":"0249a40b-f499-4f95-b52a-95149cde783c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"55874736-5dc4-4c1b-8fca-16c206f7b776"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"d5c3025f-1c31-4fbf-be63-f0592056195f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":-1,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"55874736-5dc4-4c1b-8fca-16c206f7b776","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"382e57e5-2223-46c3-99da-9ae65073e543","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"cb8e42b2-c4c2-47f4-b127-d9531e9721af"},"name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}},{"description":"System action for powering on an application","message_list":[],"uuid":"11e31448-bb7f-4eee-84af-1e8e2461027e","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DAG","uuid":"859bbbcf-6f61-4a51-bc17-f3d3590be735","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"edf21e5d-5587-4066-9726-db57feca2b0d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"605109f3-dd4a-4807-bb8a-8f9329327030"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"edf21e5d-5587-4066-9726-db57feca2b0d"},"edge_type":"inherent","type":"","uuid":"e5a3a504-0d9d-48fd-8245-b7fdbcd5b5a7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"605109f3-dd4a-4807-bb8a-8f9329327030"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"edf21e5d-5587-4066-9726-db57feca2b0d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"605109f3-dd4a-4807-bb8a-8f9329327030","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"3c222091-0ece-450b-99b0-909d5657aa1b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"859bbbcf-6f61-4a51-bc17-f3d3590be735"},"name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"434900f5-3b64-42d1-805d-29ad4c8ed29c","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DAG","uuid":"cb7f7640-aebf-403d-85d6-0868ca510141","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"9646ec34-4a68-4f89-a8eb-0db6178433dd"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"6d69197b-4db9-4781-af9b-f1ac31f41c53"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"9646ec34-4a68-4f89-a8eb-0db6178433dd"},"edge_type":"inherent","type":"","uuid":"3676d4d6-3a0b-4088-90ab-82c4bdceafd1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"6d69197b-4db9-4781-af9b-f1ac31f41c53"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"9646ec34-4a68-4f89-a8eb-0db6178433dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6d69197b-4db9-4781-af9b-f1ac31f41c53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AHVSlave_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"aedc35bb-c814-41b1-bb39-d1cb8c039a94","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"cb7f7640-aebf-403d-85d6-0868ca510141"},"name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}},{"description":"System action for suspending an application","message_list":[],"uuid":"f2255509-2a30-4a50-93db-efc560bfd883","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DAG","uuid":"7e06f730-59d6-47d7-9768-51b6e5ea71a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"5c73f59c-784a-4fd6-94f0-3dd8b408e415","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"7e06f730-59d6-47d7-9768-51b6e5ea71a6"},"name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}},{"description":"System action for modifying an application","message_list":[],"uuid":"ad13e558-62f1-4aef-8f0b-b7e9c0c39e77","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DAG","uuid":"498d8898-bcfb-4d22-836f-83bb633365d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"d8b6d2a9-c64f-439c-b38a-45cb7be57096","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"498d8898-bcfb-4d22-836f-83bb633365d0"},"name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}},{"description":"System action for powering off an application","message_list":[],"uuid":"eecfaa79-4691-4e1e-b8a3-9f5a5cad9c9d","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DAG","uuid":"214ffff4-97a6-4f8e-9763-f219e9378a08","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"3705980d-b194-44db-a98c-f58664a4c14a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"3705980d-b194-44db-a98c-f58664a4c14a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"38961b4d-70a7-4b87-a986-3d43908b7b69","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"214ffff4-97a6-4f8e-9763-f219e9378a08"},"name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"aad21532-7da3-41dc-81bd-f28d83478952","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DAG","uuid":"d35cd06e-0a84-43ca-975a-8d6bcce38b17","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"2351c1aa-773d-4f9a-a752-451c87bc8b1f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"2351c1aa-773d-4f9a-a752-451c87bc8b1f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"602c61b3-885e-4dfe-b15f-8f5066211908","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"d35cd06e-0a84-43ca-975a-8d6bcce38b17"},"name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"2af6ab33-e450-440f-8aa2-8a4fe225e00e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"DAG","uuid":"d91238d3-3c7f-4043-ad39-3a9f8f0a5190","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"8af3dc09-e70b-41cd-a8f9-661278475c55"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8af3dc09-e70b-41cd-a8f9-661278475c55","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"55c7f21a-9fd6-4adb-9aef-2545c01f1a4c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"d91238d3-3c7f-4043-ad39-3a9f8f0a5190"},"name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}}],"message_list":[{"message":"device_index should be an integer (minimum 0)","reason":"INVALID_VALUE","details":[{"attribute_name":"device_index"}]}],"uuid":"5f38dc89-b791-4600-864a-4bd50859597d","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":8192,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":-1,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"name":"AHVSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"823fa38c-d232-483d-a3cf-2f665e2a1881","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DAG","uuid":"f640303f-d202-4b2f-9c90-95919525435c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"bc036917-4946-46d7-938a-a746ea6f55c3"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"7c167b84-de53-4bba-a416-00596d4a8ec0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"bc036917-4946-46d7-938a-a746ea6f55c3"},"edge_type":"inherent","type":"","uuid":"84b6cdba-1cad-46a0-9c82-a51050de0746","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"7c167b84-de53-4bba-a416-00596d4a8ec0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"bc036917-4946-46d7-938a-a746ea6f55c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"7c167b84-de53-4bba-a416-00596d4a8ec0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"364e8772-0457-46b6-90c5-48b7d4564ec9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"f640303f-d202-4b2f-9c90-95919525435c"},"name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}},{"description":"System action for powering on an application","message_list":[],"uuid":"e17ea70d-566b-4141-9dad-eebad306e340","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DAG","uuid":"22502d88-dd5e-4f27-8173-ad032412002e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"eaf1d9ca-6e41-4b73-ac41-7a6b75ce6921"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"2658f955-6268-43ff-887e-a9b6278fa095"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"eaf1d9ca-6e41-4b73-ac41-7a6b75ce6921"},"edge_type":"inherent","type":"","uuid":"38335c6c-eb4e-4d91-918d-bb2867f6088a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"2658f955-6268-43ff-887e-a9b6278fa095"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"eaf1d9ca-6e41-4b73-ac41-7a6b75ce6921","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"2658f955-6268-43ff-887e-a9b6278fa095","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"cec3cdb9-a248-434f-86fa-195d022598f8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"22502d88-dd5e-4f27-8173-ad032412002e"},"name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}},{"description":"System action for restarting an application","message_list":[],"uuid":"39e8ad85-c85c-4941-8504-f5f5b49cbb4e","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DAG","uuid":"6a44077d-8759-4d84-9387-c5a8999138c4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"0f96bf1b-cfd3-4566-b91a-9b320542c961"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"8cacdb9f-1a89-4ac8-9470-28c6f64bd108"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"0f96bf1b-cfd3-4566-b91a-9b320542c961"},"edge_type":"inherent","type":"","uuid":"90e3ac5d-5f72-467f-8646-5ab7a12b912a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"8cacdb9f-1a89-4ac8-9470-28c6f64bd108"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"0f96bf1b-cfd3-4566-b91a-9b320542c961","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"8cacdb9f-1a89-4ac8-9470-28c6f64bd108","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSMaster_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"183f701b-bb93-4f93-9f75-a00a43e85df2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"6a44077d-8759-4d84-9387-c5a8999138c4"},"name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}},{"description":"System action for suspending an application","message_list":[],"uuid":"586195d8-a666-4159-8c8f-bc9a491d1e1b","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DAG","uuid":"194cece9-cef7-4cb4-a5bd-18b1ea160073","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"43690a11-738a-465b-9829-e851cea9dff3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"194cece9-cef7-4cb4-a5bd-18b1ea160073"},"name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}},{"description":"System action for modifying an application","message_list":[],"uuid":"bff8e903-530a-43ba-96df-2f93c54885e5","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DAG","uuid":"a2ea7c98-3f7a-41d7-8268-7b9492a7bf4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"f2e03de6-bff9-4fe4-b740-512b3c9151b6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"a2ea7c98-3f7a-41d7-8268-7b9492a7bf4a"},"name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}},{"description":"System action for powering off an application","message_list":[],"uuid":"750559fe-0547-4e1d-b6d1-c35db2d74c25","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DAG","uuid":"9cdaa0ff-7a7b-43ff-a322-e1152acdad4f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"d54a0639-a2d1-4228-bd2a-f541eada1fd5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"d54a0639-a2d1-4228-bd2a-f541eada1fd5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"112b203a-ca91-4353-a3db-1ac3e9c4ee51","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"9cdaa0ff-7a7b-43ff-a322-e1152acdad4f"},"name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"0481bd76-21d5-46ed-8b17-8163fcab1054","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DAG","uuid":"5e5ec536-f725-4f6c-9454-f9b7bdc63cfe","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"4f9834b8-c677-46f6-a5f6-55f0e0249f6d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"4f9834b8-c677-46f6-a5f6-55f0e0249f6d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"7ad8c8ab-fcae-46e6-bf5e-b4eccf5d9a1c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"5e5ec536-f725-4f6c-9454-f9b7bdc63cfe"},"name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7a6b917e-ef85-497d-9b81-37cc1ade1fc7","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"DAG","uuid":"db1e9257-d7b1-4fb7-8773-038da1ec8eac","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"c89ca73c-67b7-4259-96e7-b049aada7686"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c89ca73c-67b7-4259-96e7-b049aada7686","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"3fb43548-88bd-4c79-ae86-13c3682c4bfb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"db1e9257-d7b1-4fb7-8773-038da1ec8eac"},"name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}}],"message_list":[{"message":"Region is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"region"}]}],"uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"96713907-793f-4efb-828f-4ddd614e8e2b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DAG","uuid":"a2f676ef-81f7-4dc3-aa52-d3ba3aa64b3a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Provision_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"6d841067-b9e6-4d29-a350-83d1133f9703"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"5ce73d6c-9273-45f9-b264-e5ec580002b6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Provision_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"6d841067-b9e6-4d29-a350-83d1133f9703"},"edge_type":"inherent","type":"","uuid":"34001f0d-b220-4239-b586-510481608728","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"5ce73d6c-9273-45f9-b264-e5ec580002b6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"PROVISION_AWS_VM","uuid":"6d841067-b9e6-4d29-a350-83d1133f9703","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Provision_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"5ce73d6c-9273-45f9-b264-e5ec580002b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"65851118-760e-47ed-86b3-4d5d37fc68f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"a2f676ef-81f7-4dc3-aa52-d3ba3aa64b3a"},"name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}},{"description":"System action for powering on an application","message_list":[],"uuid":"31372def-f050-4c6c-b6b9-c118094dee50","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DAG","uuid":"3ddc8851-49c8-4f88-93f8-016a75c2000a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"bc625097-34b2-4903-9306-c272ebd297e7"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"6d6646e8-6199-4673-9fe9-ece2bcbe9290"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOn_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"bc625097-34b2-4903-9306-c272ebd297e7"},"edge_type":"inherent","type":"","uuid":"1c57ef1e-b77c-49c3-8fcd-02bf3786d2cd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"6d6646e8-6199-4673-9fe9-ece2bcbe9290"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"bc625097-34b2-4903-9306-c272ebd297e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOn_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"6d6646e8-6199-4673-9fe9-ece2bcbe9290","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"517c2de7-a1dd-415e-a59a-67789ee10836","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"3ddc8851-49c8-4f88-93f8-016a75c2000a"},"name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"25327bce-b5f0-4dad-8ae6-37174f431b53","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DAG","uuid":"87e33de9-6316-4ee8-97ff-e1e2dd131fa1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"bfa93bf4-78c8-4c17-9bce-63a94a873f96"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"55a5d883-4e95-45a8-a6bb-046e16e00a97"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Aws_Operation_Restart_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"bfa93bf4-78c8-4c17-9bce-63a94a873f96"},"edge_type":"inherent","type":"","uuid":"94e62aa6-aa67-46d8-8ab4-75733bfd192d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"55a5d883-4e95-45a8-a6bb-046e16e00a97"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"bfa93bf4-78c8-4c17-9bce-63a94a873f96","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_Restart_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"55a5d883-4e95-45a8-a6bb-046e16e00a97","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AWSSlave_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"77dc5f4b-880f-43ac-9331-d2a85219acdf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"87e33de9-6316-4ee8-97ff-e1e2dd131fa1"},"name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}},{"description":"System action for suspending an application","message_list":[],"uuid":"4f5da6c0-5364-430b-b665-7bc0f3bc12b9","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DAG","uuid":"78cee627-641f-4d85-b21d-536e44559663","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"544cd4f0-f0d8-4de6-b47b-0fa4d128e8f2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"78cee627-641f-4d85-b21d-536e44559663"},"name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}},{"description":"System action for modifying an application","message_list":[],"uuid":"7c9fefdf-b28e-43eb-9181-ca9275426e4d","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DAG","uuid":"1ab2d7bd-34fd-4477-84b5-56f177e079cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"ad78ad75-636b-445b-b4e2-4fdbeb11c980","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"1ab2d7bd-34fd-4477-84b5-56f177e079cd"},"name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}},{"description":"System action for powering off an application","message_list":[],"uuid":"66bd1e9f-5fcc-4dc1-9d3a-a94d83d42fb8","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DAG","uuid":"4c4da624-894a-450f-a94b-6faf63cc0878","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Operation_PowerOff_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"0657bf7d-15a5-4e5e-9721-6c50fe0e559e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"VMOPERATION_AWS_VM","uuid":"0657bf7d-15a5-4e5e-9721-6c50fe0e559e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Operation_PowerOff_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"ce6ce7cb-596e-4d42-94b0-a39a1f401ea9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"4c4da624-894a-450f-a94b-6faf63cc0878"},"name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"4ccde9f4-c91b-431c-9221-6426d203bb2b","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DAG","uuid":"1037f712-1f50-4e71-983c-0ceed916dece","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Aws_Delete_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"3782666a-fd33-4452-acc0-aad30866ec20"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DELETE_AWS_VM","uuid":"3782666a-fd33-4452-acc0-aad30866ec20","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Aws_Delete_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"3ae9f8a6-f940-4aea-8adc-bad6b3605210","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"1037f712-1f50-4e71-983c-0ceed916dece"},"name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"225bc6aa-54e0-4507-80c2-459625d4a4ab","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"DAG","uuid":"94e44e4f-4ed3-436d-b286-b64608de903d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"bc702519-142d-416f-a1b1-7af0dbb4b04f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"bc702519-142d-416f-a1b1-7af0dbb4b04f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"f8b175ac-5919-47d8-8ecc-5c146e2ff572","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"94e44e4f-4ed3-436d-b286-b64608de903d"},"name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}}],"message_list":[{"message":"Region is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"region"}]}],"uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","instance_type":"","subnet_id":"","key_name":"","region":"","availability_zone":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"name":"AWSSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"6291e5d6-2f23-4ff4-9967-49139a57b48e","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DAG","uuid":"afc0fc29-3f7c-4008-8bac-8e3b7825a896","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_91a64335_8b29_4876_84db_58e421f2177d","uuid":"299a7217-e136-4815-8a02-129425c2e24d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d","uuid":"7eda4688-4018-4002-a967-5f5f3dbd8456"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_91a64335_8b29_4876_84db_58e421f2177d","uuid":"299a7217-e136-4815-8a02-129425c2e24d"},"edge_type":"inherent","type":"","uuid":"b3ee6d41-a868-47f8-9a25-b841ec60793c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d","uuid":"7eda4688-4018-4002-a967-5f5f3dbd8456"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"299a7217-e136-4815-8a02-129425c2e24d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-standard","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"ceceec","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mysql-master-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"7eda4688-4018-4002-a967-5f5f3dbd8456","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"1ab1bd2d-cc33-4ab8-8cdf-57b010c557cd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"afc0fc29-3f7c-4008-8bac-8e3b7825a896"},"name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}},{"description":"System action for powering on an application","message_list":[],"uuid":"9a536353-3af5-454f-91a0-3e9e8bfca552","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DAG","uuid":"64706f7f-ae05-402b-b813-bf66355c4faa","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_91a64335_8b29_4876_84db_58e421f2177d","uuid":"fe0b2399-79f4-4ce0-a3c6-4d46ab97f6cb"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d","uuid":"309e1d72-3000-4a03-b1a6-b2aca4cd1baf"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_91a64335_8b29_4876_84db_58e421f2177d","uuid":"fe0b2399-79f4-4ce0-a3c6-4d46ab97f6cb"},"edge_type":"inherent","type":"","uuid":"646d8319-56be-454a-a0d6-fd2b2a43902e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d","uuid":"309e1d72-3000-4a03-b1a6-b2aca4cd1baf"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"fe0b2399-79f4-4ce0-a3c6-4d46ab97f6cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"309e1d72-3000-4a03-b1a6-b2aca4cd1baf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"e649d6f6-488d-4bdc-8685-b571775e4b98","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"64706f7f-ae05-402b-b813-bf66355c4faa"},"name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c0fbd75b-8ec1-4dc2-bd56-c4a3e2c5fced","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DAG","uuid":"da908dc7-74d8-41a8-bf89-f0f0d4689b61","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_91a64335_8b29_4876_84db_58e421f2177d","uuid":"dbdedc77-0a6e-473f-9ea4-89fcb2f14721"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d","uuid":"4bf1edc4-68ed-49cb-8def-cf2a1f435d1e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_91a64335_8b29_4876_84db_58e421f2177d","uuid":"dbdedc77-0a6e-473f-9ea4-89fcb2f14721"},"edge_type":"inherent","type":"","uuid":"099ee3a6-b57f-43db-8e45-4d866467fe61","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d","uuid":"4bf1edc4-68ed-49cb-8def-cf2a1f435d1e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"dbdedc77-0a6e-473f-9ea4-89fcb2f14721","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"4bf1edc4-68ed-49cb-8def-cf2a1f435d1e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPMaster_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"5c6a58e8-3f5c-45e1-aaa8-0658cf86d805","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"da908dc7-74d8-41a8-bf89-f0f0d4689b61"},"name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}},{"description":"System action for suspending an application","message_list":[],"uuid":"f4b60dbd-56e6-4de2-8008-9a47a9da63ad","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DAG","uuid":"64170720-aa15-481e-bbc1-24db1b3461a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"940e01a6-f341-4228-8e25-dd3ade33dbf2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"64170720-aa15-481e-bbc1-24db1b3461a7"},"name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}},{"description":"System action for modifying an application","message_list":[],"uuid":"26448c67-bb54-4b45-8714-3d4b82d39dd8","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DAG","uuid":"9162ba7a-9616-42fc-b53d-b944e4be3895","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"dfab0237-9b84-4709-b0d4-511358e72ecd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"9162ba7a-9616-42fc-b53d-b944e4be3895"},"name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}},{"description":"System action for powering off an application","message_list":[],"uuid":"7fde8645-433f-4dbc-8d71-a761c7e21790","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DAG","uuid":"4dc24a89-5e21-4c7a-86bf-aef1c3e522e8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_91a64335_8b29_4876_84db_58e421f2177d","uuid":"34f12aba-d355-4f6c-807f-1c4dc8d3c05f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"34f12aba-d355-4f6c-807f-1c4dc8d3c05f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"a979538c-13a4-443a-89d4-917d16a45002","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"4dc24a89-5e21-4c7a-86bf-aef1c3e522e8"},"name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"05179eec-293e-4c88-ac67-39fd9e49facc","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DAG","uuid":"a2ae38eb-e461-4b70-b9e1-5044dbfd924e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_91a64335_8b29_4876_84db_58e421f2177d","uuid":"51291f7b-7d9d-4a61-b83d-a640b1941442"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"51291f7b-7d9d-4a61-b83d-a640b1941442","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"f90b1f3e-e8ae-4d53-aae5-96adda2961bf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"a2ae38eb-e461-4b70-b9e1-5044dbfd924e"},"name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"7b9d3763-fe76-49e6-b597-cd48d808c438","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"DAG","uuid":"3f501246-242d-4970-975a-fa3c82676d4d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_91a64335_8b29_4876_84db_58e421f2177d","uuid":"f0fb31f0-3b92-4be9-88fa-de95b3d0d83e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f0fb31f0-3b92-4be9-88fa-de95b3d0d83e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"5ff13957-cb3f-4341-b22d-c2d01dc4896b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"3f501246-242d-4970-975a-fa3c82676d4d"},"name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}}],"message_list":[{"message":"Machine type is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"machineType"}]}],"uuid":"91a64335-8b29-4876-84db-58e421f2177d","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"machineType":true,"name":true,"tags":{"items":true},"labels":true,"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-standard","diskSizeGb":-1,"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"ceceec","natIP":""}],"networkIP":"","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"name":"mysql-master-@@{calm_time}@@"}},"variable_list":[],"name":"GCPMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3dfa00e4-0216-43ed-9de6-526cda66be07","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DAG","uuid":"d257edfb-5285-43c3-9ed3-90d5a6ec0ecf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"8c60c958-d6d3-4e59-a950-879095aa9ccb"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"86508439-26b1-495b-9ee9-98edbc71861a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Provision_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"8c60c958-d6d3-4e59-a950-879095aa9ccb"},"edge_type":"inherent","type":"","uuid":"e1c87eb1-afb6-45e8-9ec2-3bcef46d24a5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"86508439-26b1-495b-9ee9-98edbc71861a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"PROVISION_GCP_VM","uuid":"8c60c958-d6d3-4e59-a950-879095aa9ccb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":""}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Provision_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"86508439-26b1-495b-9ee9-98edbc71861a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"8945f111-c16c-44da-8004-34fcde2f48cf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"d257edfb-5285-43c3-9ed3-90d5a6ec0ecf"},"name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}},{"description":"System action for powering on an application","message_list":[],"uuid":"a7bc8d22-9810-4759-8891-89e8c003c7ea","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DAG","uuid":"000ebe82-84c9-45ed-a990-a5b03615f278","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"c96d83cd-d673-409f-ac19-99614ab500bc"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"3142aa3b-69b3-4d13-a3e9-9267921816e0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOn_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"c96d83cd-d673-409f-ac19-99614ab500bc"},"edge_type":"inherent","type":"","uuid":"123bfc84-667e-46f8-880a-15cc1ab7969a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"3142aa3b-69b3-4d13-a3e9-9267921816e0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"c96d83cd-d673-409f-ac19-99614ab500bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOn_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"3142aa3b-69b3-4d13-a3e9-9267921816e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"dfe902f3-da20-4c23-94a9-66be36882054","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"000ebe82-84c9-45ed-a990-a5b03615f278"},"name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"abfd5506-577b-4b56-8566-5577883718f2","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DAG","uuid":"6fd90f10-562b-459c-a948-d2bbd408fc02","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"9553fbbd-93a9-4cf4-8b5b-cd5213044016"},{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"471dec76-f866-42e1-8a60-d0641e29f822"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_Restart_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"9553fbbd-93a9-4cf4-8b5b-cd5213044016"},"edge_type":"inherent","type":"","uuid":"14bf1b2a-1cc5-489a-945e-baea7d5259f4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"471dec76-f866-42e1-8a60-d0641e29f822"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"9553fbbd-93a9-4cf4-8b5b-cd5213044016","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_Restart_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"471dec76-f866-42e1-8a60-d0641e29f822","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{public_ip_address}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_GCPSlave_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"a2c4fea5-8f57-4d35-aee8-7eecf8ead4b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"6fd90f10-562b-459c-a948-d2bbd408fc02"},"name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}},{"description":"System action for suspending an application","message_list":[],"uuid":"15559da6-2bb2-42f3-971e-6c6e778d466d","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DAG","uuid":"4ac57073-43da-4f20-b60f-ee63b0b4bbff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"30dcabc5-eb5e-4dc6-a0d7-80258988550f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"4ac57073-43da-4f20-b60f-ee63b0b4bbff"},"name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}},{"description":"System action for modifying an application","message_list":[],"uuid":"6cf48530-da4b-4502-af8b-1e592cce5e65","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DAG","uuid":"dcfabe59-cd40-4909-a9fd-4364d84926ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"6418d3a2-a074-4dcf-abbc-fff0d703e246","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"dcfabe59-cd40-4909-a9fd-4364d84926ad"},"name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}},{"description":"System action for powering off an application","message_list":[],"uuid":"03036254-8948-48fd-b3e5-3221b56219f0","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DAG","uuid":"010ca554-4789-4830-87ba-3164974359d3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Operation_PowerOff_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"8e8c3e7f-c6ec-42f8-bfb5-0dba65d02090"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"VMOPERATION_GCP_VM","uuid":"8e8c3e7f-c6ec-42f8-bfb5-0dba65d02090","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Operation_PowerOff_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"a1456980-7b80-446c-a2ed-dff71c62c975","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"010ca554-4789-4830-87ba-3164974359d3"},"name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"9ee608d8-6045-4511-9320-184c920d6774","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DAG","uuid":"d60b571d-cb6a-499f-98b5-6c355ba20451","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Gcp_Delete_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"193b5ea6-20e3-4f94-aac9-3757b44ed57b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DELETE_GCP_VM","uuid":"193b5ea6-20e3-4f94-aac9-3757b44ed57b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Gcp_Delete_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"0c70dfe5-2d7d-436a-b090-47ae2b5d54c6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"d60b571d-cb6a-499f-98b5-6c355ba20451"},"name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"34c2bda8-ef49-4554-af83-5ff46ea7c59e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"DAG","uuid":"628fcb4b-d04f-49d6-a5b8-071ec4fbd141","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"3858a51b-4986-435a-9dfc-895eeed3fc5c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"3858a51b-4986-435a-9dfc-895eeed3fc5c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"f78fa075-4725-4310-beae-10b31e358d82","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"628fcb4b-d04f-49d6-a5b8-071ec4fbd141"},"name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}}],"message_list":[{"message":"Zone is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"zone"}]},{"message":"Machine type is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"machineType"}]},{"message":"Either source image or disk source should be specified in custom disks","reason":"MISSING_VALUE","details":[{"attribute_name":"source"}]}],"uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","sysprep":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{"rawKey":"","type":""},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{"rawKey":"","type":""},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"minCpuPlatform":"","scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"canIpForward":false,"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":"","associatePublicIP":true}],"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":""}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@"}},"variable_list":[],"name":"GCPSlave"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"e8748141-f551-48a2-8d5d-0293dfd22600","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DAG","uuid":"625208c2-4aa3-4190-879f-917d9624503f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"7d91187c-f176-41de-bdcb-ecd7d31b42c8"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"bd1491cd-eef2-40ef-b1d3-a2a87e923869"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"7d91187c-f176-41de-bdcb-ecd7d31b42c8"},"edge_type":"inherent","type":"","uuid":"032abfb0-a511-4da2-b51b-a51ba3dd9c3f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"bd1491cd-eef2-40ef-b1d3-a2a87e923869"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"7d91187c-f176-41de-bdcb-ecd7d31b42c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"bd1491cd-eef2-40ef-b1d3-a2a87e923869","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"284a688a-34de-4343-b400-361535f7f45d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"625208c2-4aa3-4190-879f-917d9624503f"},"name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}},{"description":"System action for powering on an application","message_list":[],"uuid":"89b1e9ca-834a-4ca0-969c-1f32ec70e27c","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DAG","uuid":"e195452a-3ca8-4c56-b564-ea9cbf2daafb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"a9ccd9dc-54e9-467d-8436-7540244914f6"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"9f47068d-5ffe-4ca9-bc8c-23dd5ca981d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"a9ccd9dc-54e9-467d-8436-7540244914f6"},"edge_type":"inherent","type":"","uuid":"0685528f-b784-448d-99a7-9f0188045137","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"9f47068d-5ffe-4ca9-bc8c-23dd5ca981d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"a9ccd9dc-54e9-467d-8436-7540244914f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9f47068d-5ffe-4ca9-bc8c-23dd5ca981d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"e4f45e61-5d71-4378-905a-a76f026b8dd5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"e195452a-3ca8-4c56-b564-ea9cbf2daafb"},"name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}},{"description":"System action for restarting an application","message_list":[],"uuid":"42dcc549-e9fe-452d-b19d-1755a7f8e00f","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DAG","uuid":"303b9e1b-a8a6-47e4-b087-6fd27736cb95","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restartc8916514_da26_47dc_9369_b5a7d68ab081","uuid":"6f8ecb23-b47d-4bcf-a4f1-d1f5b523e76d"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"130e4332-a495-435b-802e-1def80027fd9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restartc8916514_da26_47dc_9369_b5a7d68ab081","uuid":"6f8ecb23-b47d-4bcf-a4f1-d1f5b523e76d"},"edge_type":"inherent","type":"","uuid":"00647377-73d5-48a3-8baa-b1f0fa83765e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"130e4332-a495-435b-802e-1def80027fd9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"6f8ecb23-b47d-4bcf-a4f1-d1f5b523e76d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restartc8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"130e4332-a495-435b-802e-1def80027fd9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureMaster_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"128f7462-8495-4d59-b62d-9480f75bdf79","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"303b9e1b-a8a6-47e4-b087-6fd27736cb95"},"name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}},{"description":"System action for suspending an application","message_list":[],"uuid":"2ab72401-95d0-4bf2-85b7-1cbd8c58f178","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DAG","uuid":"0bd7f539-e5b6-4312-96fd-143c91f93e3a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"ec8dfc81-c9fd-4116-9c1b-8bdbdc373ed7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"0bd7f539-e5b6-4312-96fd-143c91f93e3a"},"name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}},{"description":"System action for modifying an application","message_list":[],"uuid":"65dffed0-d03a-4c19-94ad-8ddc436c00cb","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DAG","uuid":"c56b225f-f367-4d61-a7ac-b146f081a02c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"4ac3dfa2-0948-4a30-8e60-4d0387ee45ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"c56b225f-f367-4d61-a7ac-b146f081a02c"},"name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}},{"description":"System action for powering off an application","message_list":[],"uuid":"b804bc34-23f4-4e4a-924e-135b86aa2622","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DAG","uuid":"212b213d-ef6b-4a67-b32c-6afe916b2c77","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"fa8a1329-f031-479b-a979-ba4de8472af1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"fa8a1329-f031-479b-a979-ba4de8472af1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"3d65e8b7-5340-4709-b849-f7c32ee9966b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"212b213d-ef6b-4a67-b32c-6afe916b2c77"},"name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e8851a4a-9a75-43de-b5e7-1cc02a25b8d2","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DAG","uuid":"c53b165e-0b59-464f-a6ac-cdb83c04b457","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"027a3ed0-b5de-4857-a660-958c46bcab81"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"027a3ed0-b5de-4857-a660-958c46bcab81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"75842b6b-98ac-4090-b8af-2b149019bf0d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"c53b165e-0b59-464f-a6ac-cdb83c04b457"},"name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"416f8d38-9660-412e-b3e7-5d7afe98d182","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"DAG","uuid":"c9888f1a-82d0-4249-9e80-b63102b12544","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"bc7906da-0766-471a-b6ed-4ec2d9c3dd67"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"bc7906da-0766-471a-b6ed-4ec2d9c3dd67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"377a64fe-4496-476a-bdd1-c0baf5a7ceb3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"c9888f1a-82d0-4249-9e80-b63102b12544"},"name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}}],"message_list":[{"message":"resource_group is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"resource_group"}]},{"message":"location is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"location"}]},{"message":"Hardware Profile is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vm_size"}]},{"message":"Incomplete VM Image details. Please select a Public Image for VM provisioning","reason":"EMPTY_VALUE","details":[{"attribute_name":"image_details"}]},{"message":"nsg_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"nsg_name"}]},{"message":"vnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vnet_name"}]},{"message":"subnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"subnet_name"}]}],"uuid":"c8916514-da26-47dc-9369-b5a7d68ab081","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"version":true,"use_custom_image":true,"offer":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureMaster"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"3f7d116b-8f3d-4253-b016-a4a92753269f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DAG","uuid":"2e5350a4-0827-4332-9f69-f334566024fc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Provision_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"8eb5d339-b5f9-4828-b141-dd839b882289"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"7bad6116-c299-4ba5-996f-a04bdd1a7b85"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Provision_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"8eb5d339-b5f9-4828-b141-dd839b882289"},"edge_type":"inherent","type":"","uuid":"3a9b31b3-d002-4266-b3f4-89da51e507fb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"7bad6116-c299-4ba5-996f-a04bdd1a7b85"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"PROVISION_AZURE_VM","uuid":"8eb5d339-b5f9-4828-b141-dd839b882289","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Provision_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"7bad6116-c299-4ba5-996f-a04bdd1a7b85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"c087e99f-b008-4a3b-9c00-66de3bdf014c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"2e5350a4-0827-4332-9f69-f334566024fc"},"name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}},{"description":"System action for powering on an application","message_list":[],"uuid":"96c51ef0-084a-4c14-b5ac-fb10b03f988a","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DAG","uuid":"5ea0de38-30f2-4e41-98a8-a7ca3b6fdfcd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"ea404baf-abaa-46f3-bdce-186eaf29cc83"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"c1bf5964-4e7e-495e-bb04-a1b76c6397b5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_PowerOn_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"ea404baf-abaa-46f3-bdce-186eaf29cc83"},"edge_type":"inherent","type":"","uuid":"0663bddb-baa5-45f4-bc8e-589868aef9e5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"c1bf5964-4e7e-495e-bb04-a1b76c6397b5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"ea404baf-abaa-46f3-bdce-186eaf29cc83","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_PowerOn_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c1bf5964-4e7e-495e-bb04-a1b76c6397b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"b6f6f55c-9fcc-4b58-85bc-0f842515668f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"5ea0de38-30f2-4e41-98a8-a7ca3b6fdfcd"},"name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"952ec9eb-c9f5-4e89-a425-583696da9fa7","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DAG","uuid":"d5379b6b-46c2-4b38-a6bd-927311416bd9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"04ea13ad-2135-4100-9877-b54e96b34c9e"},{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"61d5c502-59a4-4de6-9d99-84e23eb652d7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Restart97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"04ea13ad-2135-4100-9877-b54e96b34c9e"},"edge_type":"inherent","type":"","uuid":"b8a7f61a-ad4b-479c-b254-b085688aa704","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"61d5c502-59a4-4de6-9d99-84e23eb652d7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"04ea13ad-2135-4100-9877-b54e96b34c9e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Restart97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"61d5c502-59a4-4de6-9d99-84e23eb652d7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"300","address":"@@{platform.publicIPAddressList[0]}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_AzureSlave_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"585c23f2-ab06-4c8f-a39f-b520e69f0739","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"d5379b6b-46c2-4b38-a6bd-927311416bd9"},"name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}},{"description":"System action for suspending an application","message_list":[],"uuid":"7d2504c1-ad06-40a4-a6c0-984ef761cf7d","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DAG","uuid":"6aa6d2ec-10b1-40d9-971d-076dfed1b44f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"2151975a-78ae-48bf-871b-42ddbb786887","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"6aa6d2ec-10b1-40d9-971d-076dfed1b44f"},"name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}},{"description":"System action for modifying an application","message_list":[],"uuid":"22befe70-c4f1-4253-b73b-bb2bad9d306f","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DAG","uuid":"3a8a97ed-fe8d-4db0-aaf0-9e6a73b4ac99","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"cab2ca3c-e325-4f0d-9c72-be790e123943","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"3a8a97ed-fe8d-4db0-aaf0-9e6a73b4ac99"},"name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}},{"description":"System action for powering off an application","message_list":[],"uuid":"0a72cd52-4869-4670-b0bd-1c2cef643ed4","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DAG","uuid":"3bde058a-674f-45b1-b9b8-802d9ebb4296","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Operation_Poweroff_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"8390aa20-2046-4aa5-88b6-5235dcf961bc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"VMOPERATION_AZURE_VM","uuid":"8390aa20-2046-4aa5-88b6-5235dcf961bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Operation_Poweroff_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"35886997-dd1e-4da6-8617-92b2eb39ea94","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"3bde058a-674f-45b1-b9b8-802d9ebb4296"},"name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b94941cd-8f6f-4c46-b646-a439131288c3","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DAG","uuid":"a0f059ab-4597-4f13-8619-f986add39636","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Azure_Delete_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"8a1e984d-3513-47ab-86c3-d84a5e3e199f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DELETE_AZURE_VM","uuid":"8a1e984d-3513-47ab-86c3-d84a5e3e199f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Azure_Delete_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"e443f446-ca33-46f7-9cbd-832ddb7ec461","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"a0f059ab-4597-4f13-8619-f986add39636"},"name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b4c9a140-967c-41f4-ae4c-ff4d0270a89f","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"DAG","uuid":"98b45691-a63c-4e3f-b0a4-a9ed51eae640","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"45e86bed-9f4c-4ca0-b1b2-d01484069129"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"45e86bed-9f4c-4ca0-b1b2-d01484069129","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"bdd862c0-bf5b-4ac6-b66c-130651df74e2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"98b45691-a63c-4e3f-b0a4-a9ed51eae640"},"name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}}],"message_list":[{"message":"resource_group is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"resource_group"}]},{"message":"location is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"location"}]},{"message":"Hardware Profile is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vm_size"}]},{"message":"Incomplete VM Image details. Please select a Public Image for VM provisioning","reason":"EMPTY_VALUE","details":[{"attribute_name":"image_details"}]},{"message":"nsg_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"nsg_name"}]},{"message":"vnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"vnet_name"}]},{"message":"subnet_name is a required field","reason":"EMPTY_VALUE","details":[{"attribute_name":"subnet_name"}]}],"uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a","state":"DRAFT","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"version":true,"use_custom_image":true,"offer":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"name":"AzureSlave"}],"credential_definition_list":[{"username":"centos","description":"","state":"DRAFT","message_list":[{"message":"Secret value for credential is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]}],"uuid":"ad36470d-422f-4252-a207-16357a1851ad","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"744c0955-75b2-40d3-82af-d694eb1e04a0","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DAG","uuid":"b525ba67-40f6-4de0-a239-4c5c29abf1c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"d3477f81-765f-4458-8d2a-e58ab3dc4195"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"83d426bf-c688-49d4-96d1-bdbf80e641c6"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"2c5b3eff-1b94-43e0-a964-9cf95273bde4"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"ebfa5bc8-35cd-4a18-9f9f-a53a384c3b67"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d31dd02e-b001-46a5-b828-a223ca7f1736"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"6d3f138b-4017-41d2-883e-4caff3c566b4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d31dd02e-b001-46a5-b828-a223ca7f1736"},"edge_type":"inherent","type":"","uuid":"d9bb136f-f554-405f-9bfa-d7f20534b550","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"6d3f138b-4017-41d2-883e-4caff3c566b4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"ebfa5bc8-35cd-4a18-9f9f-a53a384c3b67"},"edge_type":"inherent","type":"","uuid":"9d5dd8b1-28ca-4d77-904c-f45f470d213e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d31dd02e-b001-46a5-b828-a223ca7f1736"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"d3477f81-765f-4458-8d2a-e58ab3dc4195"},"edge_type":"inherent","type":"","uuid":"88d0e38a-644f-4038-877e-45bbbf3a3e81","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"83d426bf-c688-49d4-96d1-bdbf80e641c6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"2c5b3eff-1b94-43e0-a964-9cf95273bde4"},"edge_type":"inherent","type":"","uuid":"5ef2b6ed-e4cc-4e83-ac58-4b7db03c2dc5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"ebfa5bc8-35cd-4a18-9f9f-a53a384c3b67"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"d3477f81-765f-4458-8d2a-e58ab3dc4195"},"edge_type":"inherent","type":"","uuid":"1b38a34f-6022-4272-ae44-0bd73ecb6396","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"2c5b3eff-1b94-43e0-a964-9cf95273bde4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"83d426bf-c688-49d4-96d1-bdbf80e641c6"},"edge_type":"inherent","type":"","uuid":"698873f4-dcfb-4325-b780-c6b20f2d5c6f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"2c5b3eff-1b94-43e0-a964-9cf95273bde4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"d3477f81-765f-4458-8d2a-e58ab3dc4195","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"83d426bf-c688-49d4-96d1-bdbf80e641c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"37598e6b-ce24-4be8-bbd5-9c13e8e99708"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2c5b3eff-1b94-43e0-a964-9cf95273bde4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"1816dc54-41f5-412e-bbff-1c54d830dc49"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ebfa5bc8-35cd-4a18-9f9f-a53a384c3b67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"c98e876a-f06c-4750-a312-7ecd82d62e00"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d31dd02e-b001-46a5-b828-a223ca7f1736","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6d3f138b-4017-41d2-883e-4caff3c566b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"dc4f1af4-9163-4a2b-991c-3d097a4ecc9a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"b525ba67-40f6-4de0-a239-4c5c29abf1c2"},"name":"SYS_GEN__Runbook_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"}},{"description":"System action for starting an application","message_list":[],"uuid":"3e6c9ffc-332b-4e76-8e4d-46ac29fe9968","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DAG","uuid":"f82909ce-55b2-4b65-be33-ab3f43c415a8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0b9f493f-14fa-466d-83d5-8dadaccd00fe"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"131eebf3-e5cc-410b-8dfc-4f38ff3d8c86"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0b9f493f-14fa-466d-83d5-8dadaccd00fe"},"edge_type":"inherent","type":"","uuid":"7a940c5d-0fd8-4524-985b-d233f72ed97f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"131eebf3-e5cc-410b-8dfc-4f38ff3d8c86"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0b9f493f-14fa-466d-83d5-8dadaccd00fe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"3f5b3665-e764-4e70-b72b-387f53e4fd50"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"131eebf3-e5cc-410b-8dfc-4f38ff3d8c86","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"8c5ff6e9-f408-4f58-9ff9-6db0f119d4e8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"f82909ce-55b2-4b65-be33-ab3f43c415a8"},"name":"SYS_GEN__Runbook_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"}},{"description":"System action for restarting an application","message_list":[],"uuid":"d7c121f5-087e-4362-aa71-7df32ca4e7eb","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DAG","uuid":"4b641cc7-c448-4f74-981b-bf1d5441b4d9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"5bfa8684-d657-4454-a3b5-fd5e6ecc55cb"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"edb0c2ff-415f-41e0-89cb-9d82b3dbc251"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"5bfa8684-d657-4454-a3b5-fd5e6ecc55cb"},"edge_type":"inherent","type":"","uuid":"79064f7e-7357-44df-9ca7-3f196b1cf934","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"edb0c2ff-415f-41e0-89cb-9d82b3dbc251"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5bfa8684-d657-4454-a3b5-fd5e6ecc55cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0a25627c-5334-40b3-a71b-e6765aab2d50"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"edb0c2ff-415f-41e0-89cb-9d82b3dbc251","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"729b6ffa-8f51-4283-8438-faaa9f46a161","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"4b641cc7-c448-4f74-981b-bf1d5441b4d9"},"name":"SYS_GEN__Runbook_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f45111bd-29c0-4fdf-8642-3763f0c635dd","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DAG","uuid":"fe5cd593-f0e4-40cc-a6d6-e30ad59b7355","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d1e04e7e-536e-4270-90e6-c4185985b271"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"76a3c7c7-dde4-4403-be30-fca35e368f6a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d1e04e7e-536e-4270-90e6-c4185985b271"},"edge_type":"inherent","type":"","uuid":"2bfa4c2b-ec2e-4e4f-83f2-377357526104","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"76a3c7c7-dde4-4403-be30-fca35e368f6a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1e04e7e-536e-4270-90e6-c4185985b271","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"76a3c7c7-dde4-4403-be30-fca35e368f6a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"952713eb-2786-4424-99a0-15783eee99c7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"7108e595-ee53-413c-a48b-9d4c6646e5a7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"fe5cd593-f0e4-40cc-a6d6-e30ad59b7355"},"name":"SYS_GEN__Runbook_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"b25bd016-e950-41f5-81a8-8d29ad3962fe","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DAG","uuid":"bba62ba0-511d-414c-ba0c-2121f794cb9e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"68ce45db-87a5-4ed5-9aa9-4c9e80452786"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"c98583aa-fcac-4b22-9bfb-fe286fdf9f40"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"ad0d0859-24ae-4265-8659-c837e16e9f8e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"fdc3404d-0e39-4355-bebe-bd56f0e35f8f"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"4a9f5709-7642-4f5b-a2c8-e07f4feba79d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"68ce45db-87a5-4ed5-9aa9-4c9e80452786"},"edge_type":"inherent","type":"","uuid":"753c30e3-3e83-45db-9a41-d766c33fac80","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"c98583aa-fcac-4b22-9bfb-fe286fdf9f40"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"c98583aa-fcac-4b22-9bfb-fe286fdf9f40"},"edge_type":"inherent","type":"","uuid":"9b2a94fb-aa33-4166-9af1-3497c958d5af","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"ad0d0859-24ae-4265-8659-c837e16e9f8e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"fdc3404d-0e39-4355-bebe-bd56f0e35f8f"},"edge_type":"inherent","type":"","uuid":"a9c3132c-4dbc-4cbc-800a-a04d7a2b978f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"4a9f5709-7642-4f5b-a2c8-e07f4feba79d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"ad0d0859-24ae-4265-8659-c837e16e9f8e"},"edge_type":"inherent","type":"","uuid":"32426243-fa00-43e4-90af-868b0378cce7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"fdc3404d-0e39-4355-bebe-bd56f0e35f8f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"68ce45db-87a5-4ed5-9aa9-4c9e80452786","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c98583aa-fcac-4b22-9bfb-fe286fdf9f40","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ad0d0859-24ae-4265-8659-c837e16e9f8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"6019e846-cf43-4ded-be91-b6cfc6f8ffe3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fdc3404d-0e39-4355-bebe-bd56f0e35f8f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"1b5f7fa1-29a3-4406-81d2-cd2a8c825290"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"4a9f5709-7642-4f5b-a2c8-e07f4feba79d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8"}],"description":"","message_list":[],"uuid":"ad46d8f7-7724-4764-ba4e-a2361c70a7da","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"bba62ba0-511d-414c-ba0c-2121f794cb9e"},"name":"SYS_GEN__Runbook_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"}},{"description":"System action for scaleout","message_list":[],"uuid":"71e106d8-98e0-4c97-b4e4-094304de4675","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DAG","uuid":"11464943-9285-411a-9239-7b0ae98813ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"62aeb725-4b93-49e1-8977-7ad5112db3e5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"SCALING","uuid":"62aeb725-4b93-49e1-8977-7ad5112db3e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_bfc99fe8_3579_4962_add0_30553ad24cf8"}],"description":"","message_list":[],"uuid":"68ef639f-e235-41c9-a6e0-0ff081ab3719","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"050a0b05-6bec-482e-9eb9-7340a35605e1","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"11464943-9285-411a-9239-7b0ae98813ec"},"name":"SYS_GEN__Runbook_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"}},{"description":"System action for scalein","message_list":[],"uuid":"228483c5-b9c6-4fc5-8e87-be440147d153","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DAG","uuid":"86067043-10f8-45bf-9b69-ab1b76b7ec94","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"957a38e7-9779-4c62-b67e-7f062b34c351"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"SCALING","uuid":"957a38e7-9779-4c62-b67e-7f062b34c351","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_bfc99fe8_3579_4962_add0_30553ad24cf8"}],"description":"","message_list":[],"uuid":"f2810da7-eece-41bf-b3e6-e5648a6fe508","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"7c2d1f8b-f122-47ee-b2f9-7e2068a4b142","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"86067043-10f8-45bf-9b69-ab1b76b7ec94"},"name":"SYS_GEN__Runbook_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5a78783c-6dcb-4654-aff6-4402ea2783b5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DAG","uuid":"ec917979-0746-4bbe-83be-6f624f6a62c6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"af848fe7-8b42-4069-ae5b-d608389d244e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"46bee0c1-69ee-4efc-a999-6cc0b980ea0f"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"601a6391-c1d2-45c2-b920-650aab0fb799"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"282ce26c-eecb-4c64-8dbf-df2ca87c00e5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"af848fe7-8b42-4069-ae5b-d608389d244e"},"edge_type":"inherent","type":"","uuid":"e89a048d-4d42-4281-a913-697f1509de44","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"46bee0c1-69ee-4efc-a999-6cc0b980ea0f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"601a6391-c1d2-45c2-b920-650aab0fb799"},"edge_type":"inherent","type":"","uuid":"1a522e39-7c22-412d-a560-e5c97b24ceaa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"282ce26c-eecb-4c64-8dbf-df2ca87c00e5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"46bee0c1-69ee-4efc-a999-6cc0b980ea0f"},"edge_type":"inherent","type":"","uuid":"9e859562-41d7-4de6-803b-e7e0ee72a06f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"601a6391-c1d2-45c2-b920-650aab0fb799"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af848fe7-8b42-4069-ae5b-d608389d244e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"46bee0c1-69ee-4efc-a999-6cc0b980ea0f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"601a6391-c1d2-45c2-b920-650aab0fb799","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0fb3cdcc-da51-4415-a730-066d6aba3e67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"282ce26c-eecb-4c64-8dbf-df2ca87c00e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8"}],"description":"","message_list":[],"uuid":"397b97d4-22b9-4fee-8d95-afe6c71aea10","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"ec917979-0746-4bbe-83be-6f624f6a62c6"},"name":"SYS_GEN__Runbook_Deployment_bfc99fe8_3579_4962_add0_30553ad24cf8"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9098b02b_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"b5e6aea0-797e-4f99-b0b5-538bde548b52","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DAG","uuid":"2f0500df-fef4-4711-83b4-3e7ce8143c7d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"534ef5f1-600b-42d4-bbea-389fc3a8dd8d"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"6a3f2057-5d1d-4f34-8132-d1f719a300fd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"27f70b6b-6554-41ca-8e6f-8f7cc0949d94"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"bbb3bb8e-2572-4b4d-9e9d-6d7543c66e51"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"8e1c574f-d1dd-4080-947e-82651a90955a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"aad8333a-00be-40fe-954b-c93b6349e16e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"8e1c574f-d1dd-4080-947e-82651a90955a"},"edge_type":"inherent","type":"","uuid":"8b9e9d28-674a-4cae-b393-90d701fe6695","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"aad8333a-00be-40fe-954b-c93b6349e16e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"bbb3bb8e-2572-4b4d-9e9d-6d7543c66e51"},"edge_type":"inherent","type":"","uuid":"27e4607a-168e-40de-978c-e9972e7fb38d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"8e1c574f-d1dd-4080-947e-82651a90955a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"534ef5f1-600b-42d4-bbea-389fc3a8dd8d"},"edge_type":"inherent","type":"","uuid":"f33d0029-3096-434f-a902-282317c456c9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"6a3f2057-5d1d-4f34-8132-d1f719a300fd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"27f70b6b-6554-41ca-8e6f-8f7cc0949d94"},"edge_type":"inherent","type":"","uuid":"cbcb1614-a716-4e76-a604-491637278e0b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"bbb3bb8e-2572-4b4d-9e9d-6d7543c66e51"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"534ef5f1-600b-42d4-bbea-389fc3a8dd8d"},"edge_type":"inherent","type":"","uuid":"dfdaad89-13ac-4854-8887-75ecab6f2e6f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"27f70b6b-6554-41ca-8e6f-8f7cc0949d94"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"6a3f2057-5d1d-4f34-8132-d1f719a300fd"},"edge_type":"inherent","type":"","uuid":"50b1eaae-a070-40c1-9c01-95e2ddc4a8aa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"27f70b6b-6554-41ca-8e6f-8f7cc0949d94"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"534ef5f1-600b-42d4-bbea-389fc3a8dd8d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a3f2057-5d1d-4f34-8132-d1f719a300fd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"37598e6b-ce24-4be8-bbd5-9c13e8e99708"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"27f70b6b-6554-41ca-8e6f-8f7cc0949d94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"382e57e5-2223-46c3-99da-9ae65073e543"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bbb3bb8e-2572-4b4d-9e9d-6d7543c66e51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"19b5595c-de81-4bd9-b521-770f09d247dd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e1c574f-d1dd-4080-947e-82651a90955a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aad8333a-00be-40fe-954b-c93b6349e16e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"446c660c-a202-4cb7-bb49-23323aaf3b3f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"2f0500df-fef4-4711-83b4-3e7ce8143c7d"},"name":"SYS_GEN__Runbook_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}},{"description":"System action for starting an application","message_list":[],"uuid":"c63dd7d6-fa17-4dc2-a702-642c8c5b5bc0","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DAG","uuid":"27ee7759-7de4-4ae2-be15-c9ca625b225a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"37c86a43-4404-47cd-a696-5625b41fce8a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f76ba240-2667-454b-8ebf-b130ddf6f8b0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"37c86a43-4404-47cd-a696-5625b41fce8a"},"edge_type":"inherent","type":"","uuid":"c1255d4d-a909-48b5-bca2-04e96f77e5d4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f76ba240-2667-454b-8ebf-b130ddf6f8b0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"37c86a43-4404-47cd-a696-5625b41fce8a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"3c222091-0ece-450b-99b0-909d5657aa1b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f76ba240-2667-454b-8ebf-b130ddf6f8b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"96f6f58a-48c3-4645-bcb4-ee590718da56","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"27ee7759-7de4-4ae2-be15-c9ca625b225a"},"name":"SYS_GEN__Runbook_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f42b6e72-0aa6-476c-ade0-a6225cd8ce73","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DAG","uuid":"385c7ee8-32a6-4be8-a863-94401d41c669","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"ff395a6a-c3b7-4302-abf1-39ab45066dc3"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d0cd05ba-55b2-4cad-a7dc-bcd0244d3f40"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"ff395a6a-c3b7-4302-abf1-39ab45066dc3"},"edge_type":"inherent","type":"","uuid":"2ce55948-63d5-423a-80d9-684566d8b11a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d0cd05ba-55b2-4cad-a7dc-bcd0244d3f40"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ff395a6a-c3b7-4302-abf1-39ab45066dc3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"aedc35bb-c814-41b1-bb39-d1cb8c039a94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d0cd05ba-55b2-4cad-a7dc-bcd0244d3f40","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"9abd784d-ab2e-432f-84f1-500862498187","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"385c7ee8-32a6-4be8-a863-94401d41c669"},"name":"SYS_GEN__Runbook_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f71d9efc-933b-48c6-81de-ef0761562d00","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DAG","uuid":"9913b672-a502-4e80-8e3e-ed94770ca6cd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3b57411d-3770-4d90-b4ef-6f7b9a81cc38"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"726b1998-33b3-45e8-a266-16bd54c77b7b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3b57411d-3770-4d90-b4ef-6f7b9a81cc38"},"edge_type":"inherent","type":"","uuid":"53bd2be2-849f-4351-81dd-9255376c8599","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"726b1998-33b3-45e8-a266-16bd54c77b7b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3b57411d-3770-4d90-b4ef-6f7b9a81cc38","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"726b1998-33b3-45e8-a266-16bd54c77b7b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"38961b4d-70a7-4b87-a986-3d43908b7b69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"}],"description":"","message_list":[],"uuid":"b210bf82-0640-4de3-8352-a034622eefd1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"9913b672-a502-4e80-8e3e-ed94770ca6cd"},"name":"SYS_GEN__Runbook_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"5f09e106-da29-4680-8b70-b612e630f5fa","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DAG","uuid":"f56547c0-cc1b-47d2-b2f1-a4d3fe117f11","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"064c76fd-1c16-4153-aa4d-c651a0019989"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a2dc3608-01bf-4c7b-955b-5c894c1b0fd2"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"a9fac2c0-4e80-48ec-8395-b434476cb218"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"7f47ac6a-c2b1-4adc-908c-06c722685472"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"657a50ab-0bb1-48d2-bb7a-ae3ad0344a62"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"064c76fd-1c16-4153-aa4d-c651a0019989"},"edge_type":"inherent","type":"","uuid":"6f003697-81b4-45bc-a9f1-ebfbd1593866","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a2dc3608-01bf-4c7b-955b-5c894c1b0fd2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a2dc3608-01bf-4c7b-955b-5c894c1b0fd2"},"edge_type":"inherent","type":"","uuid":"de82ff11-c578-47d2-8dce-3f3485b36ca0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"a9fac2c0-4e80-48ec-8395-b434476cb218"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"7f47ac6a-c2b1-4adc-908c-06c722685472"},"edge_type":"inherent","type":"","uuid":"0383515e-c25a-4181-97c7-5fedb1c54dcb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"657a50ab-0bb1-48d2-bb7a-ae3ad0344a62"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"a9fac2c0-4e80-48ec-8395-b434476cb218"},"edge_type":"inherent","type":"","uuid":"821851a5-3db3-4a26-838c-85dbd157897b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"7f47ac6a-c2b1-4adc-908c-06c722685472"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"064c76fd-1c16-4153-aa4d-c651a0019989","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a2dc3608-01bf-4c7b-955b-5c894c1b0fd2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9fac2c0-4e80-48ec-8395-b434476cb218","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"42e64261-f291-49ca-9d4a-d641f04cc915"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f47ac6a-c2b1-4adc-908c-06c722685472","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"602c61b3-885e-4dfe-b15f-8f5066211908"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"657a50ab-0bb1-48d2-bb7a-ae3ad0344a62","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}],"description":"","message_list":[],"uuid":"b1d125b5-dd77-4bb6-a9da-19d2655c42fc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"f56547c0-cc1b-47d2-b2f1-a4d3fe117f11"},"name":"SYS_GEN__Runbook_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}},{"description":"System action for scaleout","message_list":[],"uuid":"e3250101-5152-4585-85d9-6449abff01ea","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DAG","uuid":"e782053f-d7e9-4a24-9c80-c79f032252cd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"87b5f398-fbef-4b2f-8ec9-9ba82f6e25d9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"SCALING","uuid":"87b5f398-fbef-4b2f-8ec9-9ba82f6e25d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}],"description":"","message_list":[],"uuid":"612d867b-57d7-48ab-a911-288b88722fc4","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"99bdd829-72d1-4be7-85f2-8a1ee565838e","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"e782053f-d7e9-4a24-9c80-c79f032252cd"},"name":"SYS_GEN__Runbook_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}},{"description":"System action for scalein","message_list":[],"uuid":"6fd5bbac-3dbf-4bd3-8095-d98e19c7fc55","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DAG","uuid":"483c8b6b-04bd-4548-8ba6-1ce28500ac8d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"b6715fac-56c4-4916-ab95-7b8fb81a67b0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"SCALING","uuid":"b6715fac-56c4-4916-ab95-7b8fb81a67b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}],"description":"","message_list":[],"uuid":"4292e2a2-b047-4b7e-9d61-5851c07025e3","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"aa557042-a306-4f24-9f15-77279920a5d7","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"483c8b6b-04bd-4548-8ba6-1ce28500ac8d"},"name":"SYS_GEN__Runbook_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"687bdde0-8c5e-4409-b9ef-99f96aaa9b55","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DAG","uuid":"567e3ca2-f28a-4bca-9d87-4bb70214fe12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"2e576234-2b42-4ba7-836c-aa8a0167cc82"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"e163be4b-0382-449c-afe7-487c939253d8"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"3892f232-ee94-4944-ad3d-887bc09d95f8"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"e22a9b20-34a6-443c-98ac-093788f96e97"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"2e576234-2b42-4ba7-836c-aa8a0167cc82"},"edge_type":"inherent","type":"","uuid":"1a3796c7-dade-4a09-a9f3-ae7ec31dad1c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"e163be4b-0382-449c-afe7-487c939253d8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"3892f232-ee94-4944-ad3d-887bc09d95f8"},"edge_type":"inherent","type":"","uuid":"d8db5e40-0fe8-4a89-9114-9921a590fb12","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"e22a9b20-34a6-443c-98ac-093788f96e97"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"e163be4b-0382-449c-afe7-487c939253d8"},"edge_type":"inherent","type":"","uuid":"1b5122f9-066d-4d3d-9bd2-46bbe9707286","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"3892f232-ee94-4944-ad3d-887bc09d95f8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2e576234-2b42-4ba7-836c-aa8a0167cc82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"e163be4b-0382-449c-afe7-487c939253d8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3892f232-ee94-4944-ad3d-887bc09d95f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"55c7f21a-9fd6-4adb-9aef-2545c01f1a4c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"e22a9b20-34a6-443c-98ac-093788f96e97","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}],"description":"","message_list":[],"uuid":"2cbd78e8-f4be-4723-a960-fef6452939d9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"567e3ca2-f28a-4bca-9d87-4bb70214fe12"},"name":"SYS_GEN__Runbook_Deployment_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8","min_replicas":"1","state":"DRAFT","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"}],"substrate_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"de329770_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"e2ba9348-ed6d-4e56-9c5c-b9e51e6aeaef","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"4fa8f239-7289-4ff4-864d-28b41859ac04","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"dd6c021e-a551-4cad-bb95-ff9132680614"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"3e7d744d_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"dd6c021e-a551-4cad-bb95-ff9132680614","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"adb756af-6142-4c33-a1d1-45d38af2aeef","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"50c4ba28-8083-4c61-bb0a-a6265d473c65","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"3e7d744d_dag","uuid":"4fa8f239-7289-4ff4-864d-28b41859ac04"},"name":"c6cd4595_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"329767b4-05ac-4ff0-91b0-1e2ca18d4ba9","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"b5e4da7d-3ea2-4683-a3a8-ed867fedfbc9","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"2d1de622-5807-4517-a0db-0748f9ba8be6"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"458965d2_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"2d1de622-5807-4517-a0db-0748f9ba8be6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"20c9e8d7-332a-4c76-b4d0-8af593dc59d6","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4c098874-a313-471e-8244-72e1d8b228ba","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"458965d2_dag","uuid":"b5e4da7d-3ea2-4683-a3a8-ed867fedfbc9"},"name":"412d41ad_runbook"}},{"description":"","message_list":[],"uuid":"ed4e668f-b452-4129-a8fa-fb3e5a4d2a7c","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"0a83081f-0ade-4a4b-b70f-6dc62ba46bf4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"f0f1be23-2ec3-46a3-8a32-a7d4a825eed2"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"0d5ad4a7_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"SCALING","uuid":"f0f1be23-2ec3-46a3-8a32-a7d4a825eed2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"64bec900-bde9-451f-aa77-f72b5bb08928","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"4c237a51-e7b3-4ca6-b907-2836f735de92","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"0d5ad4a7_dag","uuid":"0a83081f-0ade-4a4b-b70f-6dc62ba46bf4"},"name":"45be859a_runbook"}},{"description":"","message_list":[],"uuid":"83287272-6985-4a21-80d3-6533b72a3f44","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"e8c69850-a322-4ec9-a070-26d3709ab02b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"f84b7461-dfac-43e1-bd54-82b55441ba75"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6baa6164_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"SCALING","uuid":"f84b7461-dfac-43e1-bd54-82b55441ba75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"f19cdaf1-7ca4-444b-9e8c-eb4016c92a35","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"7138d052-2edc-4969-b685-55622ea174ec","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"6baa6164_dag","uuid":"e8c69850-a322-4ec9-a070-26d3709ab02b"},"name":"16496c32_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"0a7c048d-0dfe-4b72-9a45-5508215ba93f","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"cc789c31-8fb6-48bf-93de-9dcbfd0bfb89"},"retries":"0","description":"","type":"DAG","uuid":"b2a32b73-84b1-4b00-ade1-cf9cc90603ff","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"a746eda4-baf6-44dc-ac59-74cd044988ea"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"6d6a9da9-ec46-40c7-9d3d-400d2c50561a"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"947e1e07-8522-4cc5-ac82-d68bd84b1a86"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd_1","uuid":"6d318fc4-bb44-484a-957e-85e43a07de49"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"263bd08a-eabe-41cb-af4b-2383954af920"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"68307581-804c-4cbe-9b40-35ccef6ba260"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"f18e219b-cddc-457d-97a2-04e2e36767c1"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"75b3ceb5-6c04-4a59-9b5d-f44a3d5b7e24"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"6a7804da-ac3d-44f5-b44e-7ca490b3cd06"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"7d4d7c9a-35fc-417a-baa2-f09806850a98"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"cf87663d-ea5e-49a4-8a59-77707e9af9da"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"eb501fa7-3cf7-4854-b42b-1d436e46a43a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"6a7804da-ac3d-44f5-b44e-7ca490b3cd06"},"edge_type":"inherent","type":"","uuid":"27e9bd52-d205-493c-ae2e-96c78f4478a9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"7d4d7c9a-35fc-417a-baa2-f09806850a98"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"f18e219b-cddc-457d-97a2-04e2e36767c1"},"edge_type":"inherent","type":"","uuid":"32d921d6-3641-4d7f-a428-9253858d066a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"6a7804da-ac3d-44f5-b44e-7ca490b3cd06"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"6d6a9da9-ec46-40c7-9d3d-400d2c50561a"},"edge_type":"inherent","type":"","uuid":"8054f77f-9dee-459d-aed2-8ce4dc1c559c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"947e1e07-8522-4cc5-ac82-d68bd84b1a86"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"68307581-804c-4cbe-9b40-35ccef6ba260"},"edge_type":"inherent","type":"","uuid":"08ef380a-a24b-4c06-9797-44c6ce054fec","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"f18e219b-cddc-457d-97a2-04e2e36767c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"6d6a9da9-ec46-40c7-9d3d-400d2c50561a"},"edge_type":"inherent","type":"","uuid":"a3e0d749-625c-4021-98c6-0ee0276b7a3c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"68307581-804c-4cbe-9b40-35ccef6ba260"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"947e1e07-8522-4cc5-ac82-d68bd84b1a86"},"edge_type":"inherent","type":"","uuid":"3fca312a-5cc9-4801-b92f-4eaf49e00183","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"68307581-804c-4cbe-9b40-35ccef6ba260"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"cf87663d-ea5e-49a4-8a59-77707e9af9da"},"edge_type":"inherent","type":"","uuid":"b8d15d07-d295-4295-b4d4-61e1f880d59b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"eb501fa7-3cf7-4854-b42b-1d436e46a43a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"75b3ceb5-6c04-4a59-9b5d-f44a3d5b7e24"},"edge_type":"inherent","type":"","uuid":"85b5d6c2-c69c-4f0e-8ae5-3a1e55e0893e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"cf87663d-ea5e-49a4-8a59-77707e9af9da"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"a746eda4-baf6-44dc-ac59-74cd044988ea"},"edge_type":"inherent","type":"","uuid":"c59afcef-bc9a-451f-a4d7-3d167dcb92ce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd_1","uuid":"6d318fc4-bb44-484a-957e-85e43a07de49"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"263bd08a-eabe-41cb-af4b-2383954af920"},"edge_type":"inherent","type":"","uuid":"73d9a5f4-fd36-4375-bf06-f645e7fc798f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"75b3ceb5-6c04-4a59-9b5d-f44a3d5b7e24"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"a746eda4-baf6-44dc-ac59-74cd044988ea"},"edge_type":"inherent","type":"","uuid":"793f80b2-66c1-403f-9f23-c756d35013e4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"263bd08a-eabe-41cb-af4b-2383954af920"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd_1","uuid":"6d318fc4-bb44-484a-957e-85e43a07de49"},"edge_type":"inherent","type":"","uuid":"cb4ea6dd-58bf-4cba-ac17-e796bf5ab605","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"263bd08a-eabe-41cb-af4b-2383954af920"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"7d4d7c9a-35fc-417a-baa2-f09806850a98"},"edge_type":"depends_on","type":"","uuid":"0bb8a68a-4505-418c-a528-c8fe6d967c30","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"cf87663d-ea5e-49a4-8a59-77707e9af9da"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"a746eda4-baf6-44dc-ac59-74cd044988ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"6d6a9da9-ec46-40c7-9d3d-400d2c50561a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_bfc99fe8_3579_4962_add0_30553ad24cf8"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"947e1e07-8522-4cc5-ac82-d68bd84b1a86","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"37598e6b-ce24-4be8-bbd5-9c13e8e99708"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6d318fc4-bb44-484a-957e-85e43a07de49","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"37598e6b-ce24-4be8-bbd5-9c13e8e99708"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd_1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"263bd08a-eabe-41cb-af4b-2383954af920","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"382e57e5-2223-46c3-99da-9ae65073e543"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"68307581-804c-4cbe-9b40-35ccef6ba260","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"1816dc54-41f5-412e-bbff-1c54d830dc49"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f18e219b-cddc-457d-97a2-04e2e36767c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"c98e876a-f06c-4750-a312-7ecd82d62e00"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"75b3ceb5-6c04-4a59-9b5d-f44a3d5b7e24","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"19b5595c-de81-4bd9-b521-770f09d247dd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a7804da-ac3d-44f5-b44e-7ca490b3cd06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7d4d7c9a-35fc-417a-baa2-f09806850a98","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf87663d-ea5e-49a4-8a59-77707e9af9da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eb501fa7-3cf7-4854-b42b-1d436e46a43a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"d50e7279-64be-45ba-9066-60736bd0af8e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89","uuid":"b2a32b73-84b1-4b00-ade1-cf9cc90603ff"},"name":"SYS_GEN__Runbook_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"}},{"description":"System action for starting an application","message_list":[],"uuid":"90cf2569-e5ba-4815-b143-f20e453d496f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"cc789c31-8fb6-48bf-93de-9dcbfd0bfb89"},"retries":"0","description":"","type":"DAG","uuid":"4085a621-9a25-49e1-b216-adde4ccc376d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"9a677834-d4c9-4b55-8ec9-030c71fcdd66"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"5587bd4c-333c-405a-9154-b4746203b0ef"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"29848f40-4a47-47e5-813c-e2e5b9b60c32"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1dcf1c7d-cf88-4ce1-a538-1d1e98475268"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"9a677834-d4c9-4b55-8ec9-030c71fcdd66"},"edge_type":"inherent","type":"","uuid":"9872e23c-beff-49d6-8dbd-75cdb042aced","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"29848f40-4a47-47e5-813c-e2e5b9b60c32"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"5587bd4c-333c-405a-9154-b4746203b0ef"},"edge_type":"inherent","type":"","uuid":"95e85def-d007-4b61-a017-727d89d69c92","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1dcf1c7d-cf88-4ce1-a538-1d1e98475268"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"29848f40-4a47-47e5-813c-e2e5b9b60c32"},"edge_type":"depends_on","type":"","uuid":"f207dcf4-c51d-4acf-8699-498489dafbfa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1dcf1c7d-cf88-4ce1-a538-1d1e98475268"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a677834-d4c9-4b55-8ec9-030c71fcdd66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"3f5b3665-e764-4e70-b72b-387f53e4fd50"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5587bd4c-333c-405a-9154-b4746203b0ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"3c222091-0ece-450b-99b0-909d5657aa1b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"29848f40-4a47-47e5-813c-e2e5b9b60c32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1dcf1c7d-cf88-4ce1-a538-1d1e98475268","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"fa734fbe-0097-41e5-a6f6-97402b2c7408","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89","uuid":"4085a621-9a25-49e1-b216-adde4ccc376d"},"name":"SYS_GEN__Runbook_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a6274a32-47d4-4db7-830d-2af59e5aa484","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"cc789c31-8fb6-48bf-93de-9dcbfd0bfb89"},"retries":"0","description":"","type":"DAG","uuid":"77771ec1-e156-4bcb-9024-e0a666d54fad","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"a054bf1d-9d2a-4df9-bd92-539c7bce110b"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"9a2c3377-a0d5-4971-b034-15b96b673034"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8dc56226-ede7-438a-8937-acf3591e44c5"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b752a6be-a95a-4781-8f06-7cbd5791a48e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"a054bf1d-9d2a-4df9-bd92-539c7bce110b"},"edge_type":"inherent","type":"","uuid":"f8ce40bd-4c7b-4252-a982-d9e4c2cb3441","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8dc56226-ede7-438a-8937-acf3591e44c5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"9a2c3377-a0d5-4971-b034-15b96b673034"},"edge_type":"inherent","type":"","uuid":"4b8ebda8-b619-4af6-9517-e9a7674f6f3f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b752a6be-a95a-4781-8f06-7cbd5791a48e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8dc56226-ede7-438a-8937-acf3591e44c5"},"edge_type":"depends_on","type":"","uuid":"0caf2be3-7dd9-45bf-b9ea-b99684ba8c84","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b752a6be-a95a-4781-8f06-7cbd5791a48e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a054bf1d-9d2a-4df9-bd92-539c7bce110b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0a25627c-5334-40b3-a71b-e6765aab2d50"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a2c3377-a0d5-4971-b034-15b96b673034","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"aedc35bb-c814-41b1-bb39-d1cb8c039a94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8dc56226-ede7-438a-8937-acf3591e44c5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b752a6be-a95a-4781-8f06-7cbd5791a48e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"93e3ab0d-3b28-4946-bb8f-c2eb00edb807","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89","uuid":"77771ec1-e156-4bcb-9024-e0a666d54fad"},"name":"SYS_GEN__Runbook_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f234fea8-8807-4f3c-a4c2-ea59c3779149","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"cc789c31-8fb6-48bf-93de-9dcbfd0bfb89"},"retries":"0","description":"","type":"DAG","uuid":"91367382-6e5a-4e46-ac97-b11dc7c359db","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f634be69-c954-4d2f-bf2e-b019d26b9674"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"1e6b2b25-0674-4337-9e01-5f76af65df19"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"8fc5f6da-6734-491e-855b-8b35eaf1d520"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"c8d1c278-05bb-4f0b-969e-852698e0c5fa"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"1e6b2b25-0674-4337-9e01-5f76af65df19"},"edge_type":"inherent","type":"","uuid":"729fa015-886e-4362-ba61-b0ef9f8af9b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"c8d1c278-05bb-4f0b-969e-852698e0c5fa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f634be69-c954-4d2f-bf2e-b019d26b9674"},"edge_type":"inherent","type":"","uuid":"cad47327-5fb5-465c-aeb6-eeb4a9e1b15c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"8fc5f6da-6734-491e-855b-8b35eaf1d520"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f634be69-c954-4d2f-bf2e-b019d26b9674"},"edge_type":"depends_on","type":"","uuid":"f1f859bb-bb54-438f-bfdc-8dee3a3ee312","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"1e6b2b25-0674-4337-9e01-5f76af65df19"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f634be69-c954-4d2f-bf2e-b019d26b9674","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1e6b2b25-0674-4337-9e01-5f76af65df19","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8fc5f6da-6734-491e-855b-8b35eaf1d520","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"38961b4d-70a7-4b87-a986-3d43908b7b69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c8d1c278-05bb-4f0b-969e-852698e0c5fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"952713eb-2786-4424-99a0-15783eee99c7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"}],"description":"","message_list":[],"uuid":"d9d49f8d-ff68-42ed-8438-6556ffbf30a1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89","uuid":"91367382-6e5a-4e46-ac97-b11dc7c359db"},"name":"SYS_GEN__Runbook_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2f754371-00f3-4b17-9c5a-5643d6a28e61","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"cc789c31-8fb6-48bf-93de-9dcbfd0bfb89"},"retries":"0","description":"","type":"DAG","uuid":"d7fa2867-19a5-4be7-9336-fec315999d87","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"5f08a455-73ec-466c-8332-11e8b9de9838"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e1c7c46f-e363-4b49-9632-28a48f68f669"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"fdf4692a-1f8a-42c0-9852-0d74fe70f112"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"49842c32-00f4-4386-ae3c-9c5f94718c7d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"26fee2c6-99ab-42c3-87e4-5e843195e475"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"4ebcdc39-ea5e-46a2-b2ba-30c2476564f8"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"c8345ba6-0932-4157-8c38-e91044fcd59e"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"b56ad8c4-7f17-4d76-8f05-04b25044e8c1"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"a6a24867-827b-4b64-81cd-7c012f205390"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"166ffac7-385c-48d0-8c67-b1b5c1b690ed"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"49842c32-00f4-4386-ae3c-9c5f94718c7d"},"edge_type":"inherent","type":"","uuid":"e9990e19-47c7-486f-b808-e48b495fc3e9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"26fee2c6-99ab-42c3-87e4-5e843195e475"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"26fee2c6-99ab-42c3-87e4-5e843195e475"},"edge_type":"inherent","type":"","uuid":"4f5ddcf1-fac2-4596-a295-026eab1c7f61","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"b56ad8c4-7f17-4d76-8f05-04b25044e8c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"a6a24867-827b-4b64-81cd-7c012f205390"},"edge_type":"inherent","type":"","uuid":"0341ec30-319a-4787-8068-ddaa827af954","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"166ffac7-385c-48d0-8c67-b1b5c1b690ed"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"b56ad8c4-7f17-4d76-8f05-04b25044e8c1"},"edge_type":"inherent","type":"","uuid":"cea60f87-7e5c-4283-8836-295b8accecea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"a6a24867-827b-4b64-81cd-7c012f205390"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"5f08a455-73ec-466c-8332-11e8b9de9838"},"edge_type":"inherent","type":"","uuid":"9e934108-44e4-416f-b3dc-31eb57724bb5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e1c7c46f-e363-4b49-9632-28a48f68f669"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e1c7c46f-e363-4b49-9632-28a48f68f669"},"edge_type":"inherent","type":"","uuid":"cf0ac524-3bca-4536-8296-df9e3041368d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"fdf4692a-1f8a-42c0-9852-0d74fe70f112"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"4ebcdc39-ea5e-46a2-b2ba-30c2476564f8"},"edge_type":"inherent","type":"","uuid":"26a544d5-f718-451c-a033-9ee0f97027f7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"c8345ba6-0932-4157-8c38-e91044fcd59e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"fdf4692a-1f8a-42c0-9852-0d74fe70f112"},"edge_type":"inherent","type":"","uuid":"602316a2-5bb2-49c1-8a24-3a3eca4b5e13","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"4ebcdc39-ea5e-46a2-b2ba-30c2476564f8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e1c7c46f-e363-4b49-9632-28a48f68f669"},"edge_type":"depends_on","type":"","uuid":"76d74c3a-104d-4472-a7a3-2a01fb952f47","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"49842c32-00f4-4386-ae3c-9c5f94718c7d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5f08a455-73ec-466c-8332-11e8b9de9838","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e1c7c46f-e363-4b49-9632-28a48f68f669","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fdf4692a-1f8a-42c0-9852-0d74fe70f112","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"42e64261-f291-49ca-9d4a-d641f04cc915"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"49842c32-00f4-4386-ae3c-9c5f94718c7d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"26fee2c6-99ab-42c3-87e4-5e843195e475","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4ebcdc39-ea5e-46a2-b2ba-30c2476564f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"602c61b3-885e-4dfe-b15f-8f5066211908"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"c8345ba6-0932-4157-8c38-e91044fcd59e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b56ad8c4-7f17-4d76-8f05-04b25044e8c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"6019e846-cf43-4ded-be91-b6cfc6f8ffe3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a6a24867-827b-4b64-81cd-7c012f205390","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"1b5f7fa1-29a3-4406-81d2-cd2a8c825290"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"166ffac7-385c-48d0-8c67-b1b5c1b690ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8"}],"description":"","message_list":[],"uuid":"c466024a-47de-428a-bec7-5239c340ac69","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89","uuid":"d7fa2867-19a5-4be7-9336-fec315999d87"},"name":"SYS_GEN__Runbook_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d10c9602-14e9-48f7-8429-03481154ade5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Nutanix","uuid":"cc789c31-8fb6-48bf-93de-9dcbfd0bfb89"},"retries":"0","description":"","type":"DAG","uuid":"36ecd9b7-e541-4fcd-8f9c-a71b3ac62cb4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"48a54930-80ed-4826-86f0-cfb4a85e8b98"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"0f1997aa-ab26-456e-8948-06c6aae56d51"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"354ebbbf-b265-4da6-ba7f-d4321cf59856"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"43f69562-f24b-4d72-83b5-c0a50276d1ef"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"9197cc77-9416-4308-8f95-546bf633bdc6"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"2d32afb5-a8f9-4f10-8087-02d0f6609d46"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0ffb2826-3798-446e-847d-85f95921e5e9"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"4b2302c6-4ee2-4a3c-8d92-5a65a5e5ed27"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"0f1997aa-ab26-456e-8948-06c6aae56d51"},"edge_type":"inherent","type":"","uuid":"e7cbdbfc-f22f-40de-9bd2-5a07934cfabd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"9197cc77-9416-4308-8f95-546bf633bdc6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0ffb2826-3798-446e-847d-85f95921e5e9"},"edge_type":"inherent","type":"","uuid":"7f9b9083-43a5-47c4-a1e2-a652ee7d18e3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8","uuid":"4b2302c6-4ee2-4a3c-8d92-5a65a5e5ed27"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"9197cc77-9416-4308-8f95-546bf633bdc6"},"edge_type":"inherent","type":"","uuid":"f0ae27ef-7e0c-42ff-b87e-fcff4a735c00","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0ffb2826-3798-446e-847d-85f95921e5e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"48a54930-80ed-4826-86f0-cfb4a85e8b98"},"edge_type":"inherent","type":"","uuid":"c3f9f756-de4b-4601-86ed-08582c838c75","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"354ebbbf-b265-4da6-ba7f-d4321cf59856"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"43f69562-f24b-4d72-83b5-c0a50276d1ef"},"edge_type":"inherent","type":"","uuid":"4475f1a5-a1cb-4a0c-ab77-a5f89428f9c0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8","uuid":"2d32afb5-a8f9-4f10-8087-02d0f6609d46"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"354ebbbf-b265-4da6-ba7f-d4321cf59856"},"edge_type":"inherent","type":"","uuid":"0a96fc5b-f8b3-4105-978b-bf8942dac044","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"43f69562-f24b-4d72-83b5-c0a50276d1ef"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"48a54930-80ed-4826-86f0-cfb4a85e8b98"},"edge_type":"depends_on","type":"","uuid":"e8323b33-b102-41c0-9975-4d0b4b22a852","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"0f1997aa-ab26-456e-8948-06c6aae56d51"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"48a54930-80ed-4826-86f0-cfb4a85e8b98","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0f1997aa-ab26-456e-8948-06c6aae56d51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"354ebbbf-b265-4da6-ba7f-d4321cf59856","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"43f69562-f24b-4d72-83b5-c0a50276d1ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_5f38dc89_b791_4600_864a_4bd50859597d","uuid":"55c7f21a-9fd6-4adb-9aef-2545c01f1a4c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_5f38dc89_b791_4600_864a_4bd50859597d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9197cc77-9416-4308-8f95-546bf633bdc6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"de329770_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"2d32afb5-a8f9-4f10-8087-02d0f6609d46","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_1ad0eb97_521f_4ce8_9bae_e3f15beee5c8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0ffb2826-3798-446e-847d-85f95921e5e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e","uuid":"0fb3cdcc-da51-4415-a730-066d6aba3e67"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_30245a65_d3b6_45a6_9c4d_b2ff3ec0a68e"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9098b02b_deployment","uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"4b2302c6-4ee2-4a3c-8d92-5a65a5e5ed27","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_bfc99fe8_3579_4962_add0_30553ad24cf8"}],"description":"","message_list":[],"uuid":"11ffc796-e67c-4ae5-9805-7f2f2d94d365","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89","uuid":"36ecd9b7-e541-4fcd-8f9c-a71b3ac62cb4"},"name":"SYS_GEN__Runbook_Application_cc789c31_8fb6_48bf_93de_9dcbfd0bfb89"}}],"message_list":[],"uuid":"cc789c31-8fb6-48bf-93de-9dcbfd0bfb89","state":"DRAFT","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Nutanix","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8d400d6b-abaa-4294-91d7-3b2637bea0aa","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"INSTANCE_PUBLIC_KEY"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"0d2bb9c2-52e7-4456-b068-e999f0b01272","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"5cb282da-c814-4c9b-85d5-83b45ba0e608"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"Nutanix"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"f710eb15-47ef-4b61-9835-a6f1eb31a8c6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DAG","uuid":"e3d8a23f-3948-4fd6-bb11-b85cf6c6f96b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"cfc11b73-7ea0-452e-90ec-e3032eda3ad0"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"5b8fe0ad-2b4e-4e03-9c90-d5405f65fc12"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"27b97b81-96f2-4e6a-84ea-688a1d7253bc"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"36916d05-c413-44a5-9597-3a954d65a26c"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"1307d68a-6a14-4f8d-b8dd-75208ae209e5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"36916d05-c413-44a5-9597-3a954d65a26c"},"edge_type":"inherent","type":"","uuid":"fb0a8e95-807d-49ba-bf5e-40f20f4e983a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"1307d68a-6a14-4f8d-b8dd-75208ae209e5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"27b97b81-96f2-4e6a-84ea-688a1d7253bc"},"edge_type":"inherent","type":"","uuid":"d4a93d97-c2ac-4216-9455-dcbdc9ea0ee4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"36916d05-c413-44a5-9597-3a954d65a26c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"5b8fe0ad-2b4e-4e03-9c90-d5405f65fc12"},"edge_type":"inherent","type":"","uuid":"f0b02bb9-0931-4d4f-9d77-d040c1fe86e4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"27b97b81-96f2-4e6a-84ea-688a1d7253bc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"cfc11b73-7ea0-452e-90ec-e3032eda3ad0"},"edge_type":"inherent","type":"","uuid":"a81a1981-9b6a-4f17-bf9c-64db8bd1ddd2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"5b8fe0ad-2b4e-4e03-9c90-d5405f65fc12"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"cfc11b73-7ea0-452e-90ec-e3032eda3ad0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b8fe0ad-2b4e-4e03-9c90-d5405f65fc12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"364e8772-0457-46b6-90c5-48b7d4564ec9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"27b97b81-96f2-4e6a-84ea-688a1d7253bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"cc1ae689-f6f9-451b-9988-970c4797d0a4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"36916d05-c413-44a5-9597-3a954d65a26c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1307d68a-6a14-4f8d-b8dd-75208ae209e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"aa09931f-47a7-4b75-868a-35fa27e67187","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"e3d8a23f-3948-4fd6-bb11-b85cf6c6f96b"},"name":"SYS_GEN__Runbook_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}},{"description":"System action for starting an application","message_list":[],"uuid":"939bc5a9-d228-4a4d-97fb-31653520ca61","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DAG","uuid":"18dd043d-e328-4b48-96e2-cdb9301a50be","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"5bb3e1a1-d1c1-4fcf-bcca-fb4b31523af4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"03465f03-25b4-4d57-97eb-5ea591287da7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"5bb3e1a1-d1c1-4fcf-bcca-fb4b31523af4"},"edge_type":"inherent","type":"","uuid":"ed142b45-a930-4714-9879-2fd1280c86e4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"03465f03-25b4-4d57-97eb-5ea591287da7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5bb3e1a1-d1c1-4fcf-bcca-fb4b31523af4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"cec3cdb9-a248-434f-86fa-195d022598f8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"03465f03-25b4-4d57-97eb-5ea591287da7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"129fa201-d032-42e2-b088-b14404fa3de7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"18dd043d-e328-4b48-96e2-cdb9301a50be"},"name":"SYS_GEN__Runbook_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a7f91175-5aa8-4e8c-9c5f-43370099a103","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DAG","uuid":"873fb744-2f22-44c2-ae2a-d92ee8faaf96","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"37b7dcab-beb4-454e-9bf6-973d643c9584"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"5b012442-df2a-44ca-a1f1-d2df3f6fd032"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"37b7dcab-beb4-454e-9bf6-973d643c9584"},"edge_type":"inherent","type":"","uuid":"0c203eae-e8f0-46cc-a1f3-52bd78553627","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"5b012442-df2a-44ca-a1f1-d2df3f6fd032"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"37b7dcab-beb4-454e-9bf6-973d643c9584","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"183f701b-bb93-4f93-9f75-a00a43e85df2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5b012442-df2a-44ca-a1f1-d2df3f6fd032","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"8fe180c1-7b76-4c65-beb7-63b96b48126e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"873fb744-2f22-44c2-ae2a-d92ee8faaf96"},"name":"SYS_GEN__Runbook_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}},{"description":"System action for stopping an application","message_list":[],"uuid":"039cf74d-4e8a-43b4-942b-8e859e4e3103","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DAG","uuid":"dc5fb4fd-6ebe-47d2-80a0-9a3ee99dd2b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"4fe217ae-5076-40b2-a624-c79df0618599"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"c009ff1e-6a98-48c5-8a6d-4d581a2daab2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"4fe217ae-5076-40b2-a624-c79df0618599"},"edge_type":"inherent","type":"","uuid":"f8afcdf0-7411-4fdc-8b3a-598f5dc7d204","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"c009ff1e-6a98-48c5-8a6d-4d581a2daab2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4fe217ae-5076-40b2-a624-c79df0618599","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c009ff1e-6a98-48c5-8a6d-4d581a2daab2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"112b203a-ca91-4353-a3db-1ac3e9c4ee51"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"b4f418b2-609a-4a3e-bf0c-4c0d5852f25f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"dc5fb4fd-6ebe-47d2-80a0-9a3ee99dd2b0"},"name":"SYS_GEN__Runbook_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"494e5557-4489-4568-acc1-53df94df4641","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DAG","uuid":"b035b831-02e2-4461-aac6-dc6bb88aeec1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"98f5a507-66e2-4fbb-a53a-8c1b051cf442"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"749706c8-4e5f-4e46-895f-b7992156b1fa"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"a0e7f7a9-8dff-4ebe-bac5-d413e77eb92d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"ef11b078-7aa3-4aaa-8ece-f722dcbbec28"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"2d0fe013-d85e-4520-b27e-823ba8fd26ab"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"98f5a507-66e2-4fbb-a53a-8c1b051cf442"},"edge_type":"inherent","type":"","uuid":"1403c746-571d-47fd-9585-a7fb96c614d9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"749706c8-4e5f-4e46-895f-b7992156b1fa"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"749706c8-4e5f-4e46-895f-b7992156b1fa"},"edge_type":"inherent","type":"","uuid":"4f32925c-f9c8-4c10-a766-8aed59b25d74","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"a0e7f7a9-8dff-4ebe-bac5-d413e77eb92d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"a0e7f7a9-8dff-4ebe-bac5-d413e77eb92d"},"edge_type":"inherent","type":"","uuid":"5f8e090d-2223-4bb6-8e61-a03fec7ad303","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"ef11b078-7aa3-4aaa-8ece-f722dcbbec28"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"ef11b078-7aa3-4aaa-8ece-f722dcbbec28"},"edge_type":"inherent","type":"","uuid":"ea6e0566-1ef3-404f-88f5-5b610b8a2fa8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"2d0fe013-d85e-4520-b27e-823ba8fd26ab"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"98f5a507-66e2-4fbb-a53a-8c1b051cf442","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"749706c8-4e5f-4e46-895f-b7992156b1fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a0e7f7a9-8dff-4ebe-bac5-d413e77eb92d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"0b4b7552-4f3a-4cf1-905e-7f59762c727d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ef11b078-7aa3-4aaa-8ece-f722dcbbec28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"7ad8c8ab-fcae-46e6-bf5e-b4eccf5d9a1c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"2d0fe013-d85e-4520-b27e-823ba8fd26ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}],"description":"","message_list":[],"uuid":"708442a3-34c7-41e4-8fe1-e59dcac73d5e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"b035b831-02e2-4461-aac6-dc6bb88aeec1"},"name":"SYS_GEN__Runbook_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}},{"description":"System action for scaleout","message_list":[],"uuid":"5626a770-3c26-4f8d-bff0-829f0c151db8","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DAG","uuid":"1ae4da75-350c-41eb-8b28-f50d3610b758","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"adc24297-0c14-4dc3-bd91-c90f5d7a2260"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"SCALING","uuid":"adc24297-0c14-4dc3-bd91-c90f5d7a2260","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}],"description":"","message_list":[],"uuid":"3a548196-84f2-4941-badf-7dad158ae495","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9b5e6840-1ecb-4eaa-af71-d28004b57787","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"1ae4da75-350c-41eb-8b28-f50d3610b758"},"name":"SYS_GEN__Runbook_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}},{"description":"System action for scalein","message_list":[],"uuid":"c57c7b0b-8660-46f8-bb35-54583015f7a1","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DAG","uuid":"ab26d0b8-ff9c-4c0b-abef-bb24835f83dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"cc5f3f12-6f22-4aba-aabf-0813b3b3715b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"SCALING","uuid":"cc5f3f12-6f22-4aba-aabf-0813b3b3715b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}],"description":"","message_list":[],"uuid":"da6cfe1f-9fe6-465c-85fc-2015c157633c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"a60fae7b-1f2f-4cd2-9121-8b85134ca526","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"ab26d0b8-ff9c-4c0b-abef-bb24835f83dd"},"name":"SYS_GEN__Runbook_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"acf2f107-734c-4f9c-9030-b86de05b3f6c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DAG","uuid":"d9c0c990-f20f-43c4-8c87-6dac41ee87eb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"02c0d131-ac8e-4248-9b17-fd315cba6cd5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"6e918a31-3e50-4613-b29f-8825ea9b99c8"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"508f43a1-3171-4e9c-9231-9ae46aeeca78"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"cec13df7-edd0-4a0d-8a18-b8c3e26df90f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"02c0d131-ac8e-4248-9b17-fd315cba6cd5"},"edge_type":"inherent","type":"","uuid":"6a0ab34b-6a04-435e-ad52-bd1c49236950","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"6e918a31-3e50-4613-b29f-8825ea9b99c8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"508f43a1-3171-4e9c-9231-9ae46aeeca78"},"edge_type":"inherent","type":"","uuid":"9aed05c1-3fd7-444b-b1bd-9da052f2a84e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"cec13df7-edd0-4a0d-8a18-b8c3e26df90f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"6e918a31-3e50-4613-b29f-8825ea9b99c8"},"edge_type":"inherent","type":"","uuid":"4fa0b210-c901-4c61-a512-34c848ca90a5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"508f43a1-3171-4e9c-9231-9ae46aeeca78"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"02c0d131-ac8e-4248-9b17-fd315cba6cd5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"6e918a31-3e50-4613-b29f-8825ea9b99c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"508f43a1-3171-4e9c-9231-9ae46aeeca78","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"3fb43548-88bd-4c79-ae86-13c3682c4bfb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"cec13df7-edd0-4a0d-8a18-b8c3e26df90f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}],"description":"","message_list":[],"uuid":"0711d59a-a3c1-4f66-8512-044d58730057","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"d9c0c990-f20f-43c4-8c87-6dac41ee87eb"},"name":"SYS_GEN__Runbook_Deployment_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"62ee1671_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"b701edbd-7580-4044-9c01-8b501daca701","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DAG","uuid":"46a3f72d-2fda-4294-96e1-a167ee5d28d9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"85aed0b2-9985-4bb4-80e8-1281c5f5d2fb"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"965c8bb2-7799-4f17-89f4-a6633574f8f0"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"bace8362-e89b-4b95-b30f-c7ab38a9bcfc"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e597015f-f007-408d-a592-e5e6c8725604"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3a8b7648-c654-4469-b4c1-b190eeaca9de"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e597015f-f007-408d-a592-e5e6c8725604"},"edge_type":"inherent","type":"","uuid":"0c48cf67-691c-467a-8c3f-2c798534dd49","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3a8b7648-c654-4469-b4c1-b190eeaca9de"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"bace8362-e89b-4b95-b30f-c7ab38a9bcfc"},"edge_type":"inherent","type":"","uuid":"5488c4bb-aec9-4b32-8b19-f5f84227f209","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e597015f-f007-408d-a592-e5e6c8725604"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"85aed0b2-9985-4bb4-80e8-1281c5f5d2fb"},"edge_type":"inherent","type":"","uuid":"053a2663-abc9-4ef6-a272-adb67460004a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"965c8bb2-7799-4f17-89f4-a6633574f8f0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"965c8bb2-7799-4f17-89f4-a6633574f8f0"},"edge_type":"inherent","type":"","uuid":"03c41f39-8cef-4827-87d9-65dfde8e1bf9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"bace8362-e89b-4b95-b30f-c7ab38a9bcfc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"85aed0b2-9985-4bb4-80e8-1281c5f5d2fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"965c8bb2-7799-4f17-89f4-a6633574f8f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"65851118-760e-47ed-86b3-4d5d37fc68f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bace8362-e89b-4b95-b30f-c7ab38a9bcfc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"92ee9f71-0cc2-4e0c-8cb6-3eb4390a1c32"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e597015f-f007-408d-a592-e5e6c8725604","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3a8b7648-c654-4469-b4c1-b190eeaca9de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"1be80afc-3578-40e4-9b25-ceb248dffc5b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"46a3f72d-2fda-4294-96e1-a167ee5d28d9"},"name":"SYS_GEN__Runbook_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}},{"description":"System action for starting an application","message_list":[],"uuid":"d5b95457-75a8-457d-a332-99590fe8dd49","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DAG","uuid":"1f6977fd-002f-426f-94b5-db62a1541bc1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"9aa18eea-4876-477d-8207-8e2552011bf0"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"377c0184-0758-4d2d-8179-b3e054692d2b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"9aa18eea-4876-477d-8207-8e2552011bf0"},"edge_type":"inherent","type":"","uuid":"5d900fa8-6a52-4fef-b76a-606ca4d147b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"377c0184-0758-4d2d-8179-b3e054692d2b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9aa18eea-4876-477d-8207-8e2552011bf0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"517c2de7-a1dd-415e-a59a-67789ee10836"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"377c0184-0758-4d2d-8179-b3e054692d2b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"d480fad5-7a6f-4495-b2a1-0a4de52649ce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"1f6977fd-002f-426f-94b5-db62a1541bc1"},"name":"SYS_GEN__Runbook_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}},{"description":"System action for restarting an application","message_list":[],"uuid":"17e1835d-a6a0-445e-a94c-b1dc92e9d1ea","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DAG","uuid":"afe622b0-cc49-4af3-9321-dfd3c496de95","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"e6ec6a34-8909-4f40-96d7-752f58a90ddf"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"cd51fc2b-bf3d-40a3-a638-e59ef7951446"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"e6ec6a34-8909-4f40-96d7-752f58a90ddf"},"edge_type":"inherent","type":"","uuid":"df2fb057-f293-47d2-9a87-a56bda70c60e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"cd51fc2b-bf3d-40a3-a638-e59ef7951446"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e6ec6a34-8909-4f40-96d7-752f58a90ddf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"77dc5f4b-880f-43ac-9331-d2a85219acdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cd51fc2b-bf3d-40a3-a638-e59ef7951446","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"00b996cd-ef39-4a86-885d-07a180392a64","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"afe622b0-cc49-4af3-9321-dfd3c496de95"},"name":"SYS_GEN__Runbook_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}},{"description":"System action for stopping an application","message_list":[],"uuid":"2e8ec56c-f733-46bf-90ed-d678dece5daa","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DAG","uuid":"270aceb3-d9f0-4e7d-aff2-e4e61245e2c2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"60035165-034f-4fec-bc6e-2a211dc278b0"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"ec96dbeb-fa91-46f1-81a3-364a539f6561"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"60035165-034f-4fec-bc6e-2a211dc278b0"},"edge_type":"inherent","type":"","uuid":"126a44bc-598a-4db2-8cef-fd7d3936da9b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"ec96dbeb-fa91-46f1-81a3-364a539f6561"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"60035165-034f-4fec-bc6e-2a211dc278b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ec96dbeb-fa91-46f1-81a3-364a539f6561","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"ce6ce7cb-596e-4d42-94b0-a39a1f401ea9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"}],"description":"","message_list":[],"uuid":"4a9c58d0-3a17-48d0-b6ac-47f6a976fc44","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"270aceb3-d9f0-4e7d-aff2-e4e61245e2c2"},"name":"SYS_GEN__Runbook_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a5a14edf-6d42-4b0d-83b6-9085de1f2fa7","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DAG","uuid":"d3d49bde-785b-4107-8e77-f66b81df0e84","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b74e2cdd-5b2c-46f2-bf4b-0f15ecdd3a8f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"c48c0b30-ae5d-4071-b27e-8cf1273a7c05"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"301fb3f0-e834-4af0-a7b6-a33d9bbbf68c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"f516f4ee-d944-44e4-9c59-7252b39eae67"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"598a60e4-654c-45bd-b9be-b9128566352e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b74e2cdd-5b2c-46f2-bf4b-0f15ecdd3a8f"},"edge_type":"inherent","type":"","uuid":"94e8d069-631e-45b5-bc0f-debde8c20725","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"c48c0b30-ae5d-4071-b27e-8cf1273a7c05"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"c48c0b30-ae5d-4071-b27e-8cf1273a7c05"},"edge_type":"inherent","type":"","uuid":"eb373432-470c-4861-836a-b8991e65c71d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"301fb3f0-e834-4af0-a7b6-a33d9bbbf68c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"f516f4ee-d944-44e4-9c59-7252b39eae67"},"edge_type":"inherent","type":"","uuid":"e7b1df3c-08a4-4ac8-8eae-10e64083eb88","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"598a60e4-654c-45bd-b9be-b9128566352e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"301fb3f0-e834-4af0-a7b6-a33d9bbbf68c"},"edge_type":"inherent","type":"","uuid":"7e807072-4430-4299-bb61-0ccaa470291d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"f516f4ee-d944-44e4-9c59-7252b39eae67"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b74e2cdd-5b2c-46f2-bf4b-0f15ecdd3a8f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c48c0b30-ae5d-4071-b27e-8cf1273a7c05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"301fb3f0-e834-4af0-a7b6-a33d9bbbf68c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"09b67978-f74e-4a72-8c45-c5497c6990e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f516f4ee-d944-44e4-9c59-7252b39eae67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"3ae9f8a6-f940-4aea-8adc-bad6b3605210"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"598a60e4-654c-45bd-b9be-b9128566352e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}],"description":"","message_list":[],"uuid":"81f5463f-9bfe-4908-b48a-d017ebe799a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"d3d49bde-785b-4107-8e77-f66b81df0e84"},"name":"SYS_GEN__Runbook_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}},{"description":"System action for scaleout","message_list":[],"uuid":"7f9c3553-1ea1-4e19-ab11-46dace97b9e9","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DAG","uuid":"c8a15043-9573-473f-8000-8a62a7d914e3","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"4bb94ec2-e17a-469d-812a-97b06c0e23eb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"SCALING","uuid":"4bb94ec2-e17a-469d-812a-97b06c0e23eb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}],"description":"","message_list":[],"uuid":"ae69e8c2-18ac-46aa-98a3-262c302e1587","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b7d292b1-6ec7-4f2f-9b7a-6bd411e8c692","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"c8a15043-9573-473f-8000-8a62a7d914e3"},"name":"SYS_GEN__Runbook_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}},{"description":"System action for scalein","message_list":[],"uuid":"b9c23f0d-af88-434e-ad74-fc7255787897","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DAG","uuid":"ce5015e7-68a9-446c-b5f2-4e3062836f51","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"056bcaf0-5942-4d2e-bfec-ddac9b59ee9e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"SCALING","uuid":"056bcaf0-5942-4d2e-bfec-ddac9b59ee9e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}],"description":"","message_list":[],"uuid":"97cf4a3f-21d5-43dd-8490-21b1b703c5b2","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"1284a365-e8b6-4883-8175-7395b35ef906","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"ce5015e7-68a9-446c-b5f2-4e3062836f51"},"name":"SYS_GEN__Runbook_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3dafc14b-00bf-4399-b5c3-964d5242b21e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DAG","uuid":"d42b2bb3-14ef-46c9-9056-8ab2f14943b1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f5561692-a9b6-40db-82f8-80baf9fc7f42"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"861b2c6b-e352-4d54-848f-06a612c45caf"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"00594372-c129-4c95-a833-7428b6e58390"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"e898d878-f14f-4a4b-98e1-33dcc3472f0e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f5561692-a9b6-40db-82f8-80baf9fc7f42"},"edge_type":"inherent","type":"","uuid":"2268c877-9f22-44ce-960c-4885862f88da","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"861b2c6b-e352-4d54-848f-06a612c45caf"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"00594372-c129-4c95-a833-7428b6e58390"},"edge_type":"inherent","type":"","uuid":"cdfe7001-0b85-4a3a-ad12-3b1726b598db","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"e898d878-f14f-4a4b-98e1-33dcc3472f0e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"861b2c6b-e352-4d54-848f-06a612c45caf"},"edge_type":"inherent","type":"","uuid":"7ab307f5-476a-4949-970c-d9b10479fcca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"00594372-c129-4c95-a833-7428b6e58390"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f5561692-a9b6-40db-82f8-80baf9fc7f42","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"861b2c6b-e352-4d54-848f-06a612c45caf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"00594372-c129-4c95-a833-7428b6e58390","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"f8b175ac-5919-47d8-8ecc-5c146e2ff572"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"e898d878-f14f-4a4b-98e1-33dcc3472f0e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}],"description":"","message_list":[],"uuid":"220daa99-3111-4c34-96cc-74b141ec694e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"d42b2bb3-14ef-46c9-9056-8ab2f14943b1"},"name":"SYS_GEN__Runbook_Deployment_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c","min_replicas":"1","state":"DRAFT","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"}],"substrate_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"a7e03ed8_deployment"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","message_list":[],"uuid":"ef71ca53-f8ec-4c83-a34a-496df332e5a6","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"61f66262-e49b-4ed1-ad7c-e4fd280a314b","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"59bfa386-2da5-4955-b6c3-f730fe3429ca"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"80ef9728_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"59bfa386-2da5-4955-b6c3-f730fe3429ca","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"6beb62a6-2e20-4e3b-9b10-b54d40cbddc3","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"645bbaba-8c2a-45c3-9f18-745ca2bbbc4b","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"80ef9728_dag","uuid":"61f66262-e49b-4ed1-ad7c-e4fd280a314b"},"name":"11eaa560_runbook"}},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","message_list":[],"uuid":"aff5b36e-7563-499d-8eba-03fce09f7839","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"a7685fa6-9093-4260-8aba-2096bb68a992","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"42d7db8c-3c3e-47f9-9d10-8a093ae694bc"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"6d512a54_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"42d7db8c-3c3e-47f9-9d10-8a093ae694bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"06c57cfa-1c82-4732-b4ec-d3876e612dfd","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d4032b7a-3c8b-4036-b12c-498c5acffe82","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"6d512a54_dag","uuid":"a7685fa6-9093-4260-8aba-2096bb68a992"},"name":"9651af2f_runbook"}},{"description":"","message_list":[],"uuid":"1a03b422-a14f-4b95-a0a0-c2f85cbee007","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"32784392-93f6-4186-a5db-b1372fa49c9f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"64508ebb-4468-4a84-ab81-0953a5a06b29"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"768e7ea3_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"SCALING","uuid":"64508ebb-4468-4a84-ab81-0953a5a06b29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"b3bb5e9c-632a-45f8-a0e3-598ce4520971","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8a2f082f-6f54-4508-ba75-681559b7e3a3","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"768e7ea3_dag","uuid":"32784392-93f6-4186-a5db-b1372fa49c9f"},"name":"b6420156_runbook"}},{"description":"","message_list":[],"uuid":"de02ebcc-9370-4aad-9599-ba69f77298e7","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"82517d36-8918-4f9d-b12b-895c25669941","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"d2be9639-3a8a-4977-b200-7cf191a8b6cc"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"26dc3690_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"SCALING","uuid":"d2be9639-3a8a-4977-b200-7cf191a8b6cc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"ce1e7682-b04a-4008-a14d-ef14d834b42c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ab1d72a7-6b5f-48cb-bb78-5ba7329ee750","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"26dc3690_dag","uuid":"82517d36-8918-4f9d-b12b-895c25669941"},"name":"5271ed6b_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"456f1ca7-1c22-4373-9eed-89907e84bf09","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"86af9d1c-2cbf-41bb-9b32-e34cfd7d32da"},"retries":"0","description":"","type":"DAG","uuid":"a7f433f2-0437-49f2-aca6-d10f8e03d8ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"e4dbce50-d062-4792-9d7a-78ec58455d69"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"065373a2-7749-451b-98f9-385c96ef2cc8"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"11cf021b-0298-489a-9974-c3bfb536fb93"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"c8bd22d6-13e2-4d54-8991-691bb25533ba"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"bfafd031-da45-483b-81b2-38227dde511d"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"7fd13077-4e2a-4149-9db6-7baca82ccd75"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"13816ef6-2ed1-4e08-af6d-da5ef9091252"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"410171ee-2f7a-46e3-9f5d-969f3e99bc42"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"382f4ce7-9408-4299-a94e-e4f8cbe16093"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b31694dc-a93a-41ec-9d00-c4b99193b5c0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"13816ef6-2ed1-4e08-af6d-da5ef9091252"},"edge_type":"inherent","type":"","uuid":"333ffdc3-eb11-4947-9b07-3346e431df88","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"410171ee-2f7a-46e3-9f5d-969f3e99bc42"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"7fd13077-4e2a-4149-9db6-7baca82ccd75"},"edge_type":"inherent","type":"","uuid":"5a6f80a9-f1f7-44fd-95ed-9e766f8976e5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"13816ef6-2ed1-4e08-af6d-da5ef9091252"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"11cf021b-0298-489a-9974-c3bfb536fb93"},"edge_type":"inherent","type":"","uuid":"85020d25-18de-47d9-9698-0993f75d803b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"7fd13077-4e2a-4149-9db6-7baca82ccd75"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"065373a2-7749-451b-98f9-385c96ef2cc8"},"edge_type":"inherent","type":"","uuid":"73565d92-e937-40a9-bf26-6acb860202b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"11cf021b-0298-489a-9974-c3bfb536fb93"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"382f4ce7-9408-4299-a94e-e4f8cbe16093"},"edge_type":"inherent","type":"","uuid":"10399050-9a45-4280-a5c4-b02510d10bfa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b31694dc-a93a-41ec-9d00-c4b99193b5c0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"bfafd031-da45-483b-81b2-38227dde511d"},"edge_type":"inherent","type":"","uuid":"d25f0f49-160e-4e76-ad40-270505ecd5f8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"382f4ce7-9408-4299-a94e-e4f8cbe16093"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"e4dbce50-d062-4792-9d7a-78ec58455d69"},"edge_type":"inherent","type":"","uuid":"2e75e56b-aacf-43be-be52-837f713314ce","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"c8bd22d6-13e2-4d54-8991-691bb25533ba"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"c8bd22d6-13e2-4d54-8991-691bb25533ba"},"edge_type":"inherent","type":"","uuid":"eeba48de-c41b-4f75-986b-0ac3bf3c9091","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"bfafd031-da45-483b-81b2-38227dde511d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"410171ee-2f7a-46e3-9f5d-969f3e99bc42"},"edge_type":"depends_on","type":"","uuid":"770534d8-9d25-43f6-b60d-98cd693c144b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"382f4ce7-9408-4299-a94e-e4f8cbe16093"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e4dbce50-d062-4792-9d7a-78ec58455d69","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"065373a2-7749-451b-98f9-385c96ef2cc8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11cf021b-0298-489a-9974-c3bfb536fb93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"364e8772-0457-46b6-90c5-48b7d4564ec9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c8bd22d6-13e2-4d54-8991-691bb25533ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"65851118-760e-47ed-86b3-4d5d37fc68f3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bfafd031-da45-483b-81b2-38227dde511d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"92ee9f71-0cc2-4e0c-8cb6-3eb4390a1c32"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7fd13077-4e2a-4149-9db6-7baca82ccd75","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"cc1ae689-f6f9-451b-9988-970c4797d0a4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"13816ef6-2ed1-4e08-af6d-da5ef9091252","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"410171ee-2f7a-46e3-9f5d-969f3e99bc42","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"382f4ce7-9408-4299-a94e-e4f8cbe16093","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b31694dc-a93a-41ec-9d00-c4b99193b5c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"06af6066-74c2-413c-b172-51354afee000","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da","uuid":"a7f433f2-0437-49f2-aca6-d10f8e03d8ae"},"name":"SYS_GEN__Runbook_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"}},{"description":"System action for starting an application","message_list":[],"uuid":"1ac03775-62ae-4503-81e4-a525ef7087de","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"86af9d1c-2cbf-41bb-9b32-e34cfd7d32da"},"retries":"0","description":"","type":"DAG","uuid":"ae141cc1-b26e-431f-849f-5474ac678da2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"daff2290-d569-47d9-9eec-d22a26743fe3"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"4eca1954-ee0d-4c8b-8b00-273273366322"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a6c668c8-30e5-4312-975e-20097505bc39"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d25c8abd-1243-4e2a-a9b5-6bb0e847fbb8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"daff2290-d569-47d9-9eec-d22a26743fe3"},"edge_type":"inherent","type":"","uuid":"aa07bc02-5a6d-4198-b22d-10061e1c03e5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a6c668c8-30e5-4312-975e-20097505bc39"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"4eca1954-ee0d-4c8b-8b00-273273366322"},"edge_type":"inherent","type":"","uuid":"bc5b13b3-f10e-4818-9f57-d6038c04f51c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d25c8abd-1243-4e2a-a9b5-6bb0e847fbb8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a6c668c8-30e5-4312-975e-20097505bc39"},"edge_type":"depends_on","type":"","uuid":"b566be3c-15b1-4799-b54b-d3ec6eeebdcd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d25c8abd-1243-4e2a-a9b5-6bb0e847fbb8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"daff2290-d569-47d9-9eec-d22a26743fe3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"cec3cdb9-a248-434f-86fa-195d022598f8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4eca1954-ee0d-4c8b-8b00-273273366322","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"517c2de7-a1dd-415e-a59a-67789ee10836"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a6c668c8-30e5-4312-975e-20097505bc39","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d25c8abd-1243-4e2a-a9b5-6bb0e847fbb8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"6a2b2600-7412-468d-99c5-b7ab3f9f4431","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da","uuid":"ae141cc1-b26e-431f-849f-5474ac678da2"},"name":"SYS_GEN__Runbook_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8d9aaf36-1dcb-4b23-853c-b26af5e49a72","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"86af9d1c-2cbf-41bb-9b32-e34cfd7d32da"},"retries":"0","description":"","type":"DAG","uuid":"35153893-0eda-428d-bd54-8f17e85e23b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"04bd24a2-ac6d-4eb7-922e-edc409b8cc11"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"1765d1dc-8c0f-4260-9862-004e90f25c45"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"651f0783-daa0-420a-92dc-36ad8f263885"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"661465d4-c49a-49a4-ad98-1b93c4fb4567"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"04bd24a2-ac6d-4eb7-922e-edc409b8cc11"},"edge_type":"inherent","type":"","uuid":"7dc0295d-89c7-43f6-8b30-ea829c63ffe3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"651f0783-daa0-420a-92dc-36ad8f263885"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"1765d1dc-8c0f-4260-9862-004e90f25c45"},"edge_type":"inherent","type":"","uuid":"4bfffd68-a4b0-452d-af12-972c1b40b391","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"661465d4-c49a-49a4-ad98-1b93c4fb4567"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"651f0783-daa0-420a-92dc-36ad8f263885"},"edge_type":"depends_on","type":"","uuid":"e39e164d-bcad-4fc8-bdec-1738047654f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"661465d4-c49a-49a4-ad98-1b93c4fb4567"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"04bd24a2-ac6d-4eb7-922e-edc409b8cc11","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"183f701b-bb93-4f93-9f75-a00a43e85df2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1765d1dc-8c0f-4260-9862-004e90f25c45","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"77dc5f4b-880f-43ac-9331-d2a85219acdf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"651f0783-daa0-420a-92dc-36ad8f263885","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"661465d4-c49a-49a4-ad98-1b93c4fb4567","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"ac54fdc5-eda4-4c75-af1a-e0617460224c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da","uuid":"35153893-0eda-428d-bd54-8f17e85e23b0"},"name":"SYS_GEN__Runbook_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"}},{"description":"System action for stopping an application","message_list":[],"uuid":"a3f56e62-a1c6-4c34-bbdb-a9cfe90ca887","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"86af9d1c-2cbf-41bb-9b32-e34cfd7d32da"},"retries":"0","description":"","type":"DAG","uuid":"fcb66923-f447-4590-9274-8ad9d4db8859","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"33a59fe1-758a-426a-87b5-b22016f6d5d2"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"852ddb39-6641-4a63-9803-4f685a163863"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"50d0aa0b-f7fc-4963-bde1-d39e2c6dcb22"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"3a3a4476-61f6-4c36-9b64-30ad3bac3083"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"852ddb39-6641-4a63-9803-4f685a163863"},"edge_type":"inherent","type":"","uuid":"d1f78b2f-b8ce-4439-9b04-2caea1490f31","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"3a3a4476-61f6-4c36-9b64-30ad3bac3083"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"33a59fe1-758a-426a-87b5-b22016f6d5d2"},"edge_type":"inherent","type":"","uuid":"2944873e-e95c-4616-80de-afa4d6fa0be9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"50d0aa0b-f7fc-4963-bde1-d39e2c6dcb22"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"33a59fe1-758a-426a-87b5-b22016f6d5d2"},"edge_type":"depends_on","type":"","uuid":"1b663efe-f390-4f01-a9b1-6a934eed119f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"852ddb39-6641-4a63-9803-4f685a163863"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33a59fe1-758a-426a-87b5-b22016f6d5d2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"852ddb39-6641-4a63-9803-4f685a163863","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"50d0aa0b-f7fc-4963-bde1-d39e2c6dcb22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"ce6ce7cb-596e-4d42-94b0-a39a1f401ea9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3a3a4476-61f6-4c36-9b64-30ad3bac3083","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"112b203a-ca91-4353-a3db-1ac3e9c4ee51"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"}],"description":"","message_list":[],"uuid":"06e5f0ed-8cf1-4e23-bd31-56609a7b80ac","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da","uuid":"fcb66923-f447-4590-9274-8ad9d4db8859"},"name":"SYS_GEN__Runbook_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"07a335ce-2444-46ab-a8c3-1106a69aad58","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"86af9d1c-2cbf-41bb-9b32-e34cfd7d32da"},"retries":"0","description":"","type":"DAG","uuid":"327f03fa-d90d-43c8-bcb9-7f2bff73aa29","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"04844ee3-e120-4380-b218-77ad7b2067d6"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"637d34ab-df9d-4ec5-a681-8ff5c702619a"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"e91549cb-948d-4155-a19f-708e26ace785"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"e3674d1e-43f7-42dc-802a-837ac8cbcd5c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ad8e2c62-ec09-4c94-b694-ecaf3bedc900"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"d313b9ea-b199-4cbf-ab7c-f94f928d16bb"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"bfd0c52e-4fb4-4c9c-9228-32cc85aa7f04"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"584693ca-82d5-49fd-a662-a7409e8618ed"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"24249ae8-1173-4f64-aa8d-b998c12e1e73"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"d0f75201-2b7c-4ff8-b807-d76b3fcb3da0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"e3674d1e-43f7-42dc-802a-837ac8cbcd5c"},"edge_type":"inherent","type":"","uuid":"91c95e3c-a6dc-4c45-af0e-a7a3368ddd0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ad8e2c62-ec09-4c94-b694-ecaf3bedc900"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ad8e2c62-ec09-4c94-b694-ecaf3bedc900"},"edge_type":"inherent","type":"","uuid":"0353ae4d-94ee-499f-afc8-9a4a5b71415f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"bfd0c52e-4fb4-4c9c-9228-32cc85aa7f04"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"bfd0c52e-4fb4-4c9c-9228-32cc85aa7f04"},"edge_type":"inherent","type":"","uuid":"b40813ff-24b8-4bb2-877f-31a542d8fc53","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"24249ae8-1173-4f64-aa8d-b998c12e1e73"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"24249ae8-1173-4f64-aa8d-b998c12e1e73"},"edge_type":"inherent","type":"","uuid":"77c0d91b-c8cd-431a-ba15-1f53d69d3040","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"d0f75201-2b7c-4ff8-b807-d76b3fcb3da0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"04844ee3-e120-4380-b218-77ad7b2067d6"},"edge_type":"inherent","type":"","uuid":"35e55132-5ce4-4f64-a8ed-95ddddc9a902","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"637d34ab-df9d-4ec5-a681-8ff5c702619a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"637d34ab-df9d-4ec5-a681-8ff5c702619a"},"edge_type":"inherent","type":"","uuid":"9ac92988-2c90-4c61-b20b-0276b1acb585","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"e91549cb-948d-4155-a19f-708e26ace785"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"d313b9ea-b199-4cbf-ab7c-f94f928d16bb"},"edge_type":"inherent","type":"","uuid":"b70e6f91-5d32-4d59-8cfe-472cc6c8e9b7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"584693ca-82d5-49fd-a662-a7409e8618ed"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"e91549cb-948d-4155-a19f-708e26ace785"},"edge_type":"inherent","type":"","uuid":"4b764568-d1c8-4304-a7e4-c7656fc4934e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"d313b9ea-b199-4cbf-ab7c-f94f928d16bb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"637d34ab-df9d-4ec5-a681-8ff5c702619a"},"edge_type":"depends_on","type":"","uuid":"78c73c20-e557-45e4-b459-6814c80450f9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"e3674d1e-43f7-42dc-802a-837ac8cbcd5c"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"04844ee3-e120-4380-b218-77ad7b2067d6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"637d34ab-df9d-4ec5-a681-8ff5c702619a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e91549cb-948d-4155-a19f-708e26ace785","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"09b67978-f74e-4a72-8c45-c5497c6990e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e3674d1e-43f7-42dc-802a-837ac8cbcd5c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ad8e2c62-ec09-4c94-b694-ecaf3bedc900","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d313b9ea-b199-4cbf-ab7c-f94f928d16bb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"3ae9f8a6-f940-4aea-8adc-bad6b3605210"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bfd0c52e-4fb4-4c9c-9228-32cc85aa7f04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"0b4b7552-4f3a-4cf1-905e-7f59762c727d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"584693ca-82d5-49fd-a662-a7409e8618ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24249ae8-1173-4f64-aa8d-b998c12e1e73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"7ad8c8ab-fcae-46e6-bf5e-b4eccf5d9a1c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"d0f75201-2b7c-4ff8-b807-d76b3fcb3da0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}],"description":"","message_list":[],"uuid":"dbb4c1dd-217a-4652-b92d-6a50e7e918f3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da","uuid":"327f03fa-d90d-43c8-bcb9-7f2bff73aa29"},"name":"SYS_GEN__Runbook_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"552ed930-f9bc-4372-b311-903032c29dba","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"AWS","uuid":"86af9d1c-2cbf-41bb-9b32-e34cfd7d32da"},"retries":"0","description":"","type":"DAG","uuid":"95076e7e-1e67-416e-8c25-6ee80d652d95","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d26c58c2-cb5e-412e-b5cb-4989bc9e8ae1"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"5a331c71-58cb-4c63-a631-0be2065ef509"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"23815966-74bf-4faa-a951-d08165e9d76e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"fbb4188a-53ff-4a47-a82d-91e88b0ba4b4"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"e1eddcaf-f568-4585-8a97-b2b0d0b72b6c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"cbea759a-dac8-4731-a324-2dc167618e7c"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"f3cba540-9c65-46fe-a220-ffb280b08eab"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"ab0d630c-564f-40f1-b5e1-06bf8d29b622"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"5a331c71-58cb-4c63-a631-0be2065ef509"},"edge_type":"inherent","type":"","uuid":"0f585c46-8e4e-40d5-892c-37cce9ae20cc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"fbb4188a-53ff-4a47-a82d-91e88b0ba4b4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"cbea759a-dac8-4731-a324-2dc167618e7c"},"edge_type":"inherent","type":"","uuid":"dd5bd5a3-00b2-4b37-b3d9-e4b6b9bb73b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad","uuid":"ab0d630c-564f-40f1-b5e1-06bf8d29b622"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"fbb4188a-53ff-4a47-a82d-91e88b0ba4b4"},"edge_type":"inherent","type":"","uuid":"2247d769-5171-4d71-a85e-50640542d1c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"cbea759a-dac8-4731-a324-2dc167618e7c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d26c58c2-cb5e-412e-b5cb-4989bc9e8ae1"},"edge_type":"inherent","type":"","uuid":"5a7ceb43-283e-4b74-b7f8-2f9faa6f891a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"23815966-74bf-4faa-a951-d08165e9d76e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"e1eddcaf-f568-4585-8a97-b2b0d0b72b6c"},"edge_type":"inherent","type":"","uuid":"99e85f11-7351-49ba-9bec-8b94a70d11c4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c","uuid":"f3cba540-9c65-46fe-a220-ffb280b08eab"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"23815966-74bf-4faa-a951-d08165e9d76e"},"edge_type":"inherent","type":"","uuid":"fd84d69d-9580-4507-8b46-3579a8db940a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"e1eddcaf-f568-4585-8a97-b2b0d0b72b6c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d26c58c2-cb5e-412e-b5cb-4989bc9e8ae1"},"edge_type":"depends_on","type":"","uuid":"07cce836-54cb-4d0e-99ed-76a4ca8a3db4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"5a331c71-58cb-4c63-a631-0be2065ef509"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d26c58c2-cb5e-412e-b5cb-4989bc9e8ae1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5a331c71-58cb-4c63-a631-0be2065ef509","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"23815966-74bf-4faa-a951-d08165e9d76e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"fbb4188a-53ff-4a47-a82d-91e88b0ba4b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e1eddcaf-f568-4585-8a97-b2b0d0b72b6c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1","uuid":"f8b175ac-5919-47d8-8ecc-5c146e2ff572"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_2f5b5981_8614_4a5a_8482_3b07fa1c2de1"},{"target_any_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cbea759a-dac8-4731-a324-2dc167618e7c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8","uuid":"3fb43548-88bd-4c79-ae86-13c3682c4bfb"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_1bd62499_4bc5_425b_8991_a85ebca474d8"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"a7e03ed8_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"f3cba540-9c65-46fe-a220-ffb280b08eab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_660950cd_d62a_449a_bd8d_07dfaf4a3c7c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"62ee1671_deployment","uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"ab0d630c-564f-40f1-b5e1-06bf8d29b622","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_5eea00a4_c2ef_44a9_8509_f8fbc49c5dad"}],"description":"","message_list":[],"uuid":"5dc4681d-0177-4397-9007-d7e6418b73a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da","uuid":"95076e7e-1e67-416e-8c25-6ee80d652d95"},"name":"SYS_GEN__Runbook_Application_86af9d1c_2cbf_41bb_9b32_e34cfd7d32da"}}],"message_list":[],"uuid":"86af9d1c-2cbf-41bb-9b32-e34cfd7d32da","state":"DRAFT","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"AWS","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"31abc997-d244-4003-9daa-832927753f59","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"0f5befe5-17b6-43b1-9a33-dcc7bb072bdb"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"AWS"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"d74b2915-357d-4a1f-bf9d-7ad1598799a4","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DAG","uuid":"497c2315-8908-4f9b-9af1-4ccaa5c016a5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"12224066-d189-4232-8fca-d80bc4dc071b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"d358daf1-b17f-444e-a1ce-01b240dae6ec"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"9a0b1831-e9fa-407c-9e7a-6024d4375215"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"5c8cb2f1-4e5e-423b-bc8a-e05443ac2ada"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a95efc8f-ba3f-49fe-9d47-b443f282c07b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"5c8cb2f1-4e5e-423b-bc8a-e05443ac2ada"},"edge_type":"inherent","type":"","uuid":"c6cc7542-c554-4d98-b67c-d9158a0bbd99","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a95efc8f-ba3f-49fe-9d47-b443f282c07b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"9a0b1831-e9fa-407c-9e7a-6024d4375215"},"edge_type":"inherent","type":"","uuid":"10f1d18b-9ce5-4bad-b32b-609895a7fc16","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"5c8cb2f1-4e5e-423b-bc8a-e05443ac2ada"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"12224066-d189-4232-8fca-d80bc4dc071b"},"edge_type":"inherent","type":"","uuid":"363a1ac7-6374-4752-89b5-fb58021186d1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"d358daf1-b17f-444e-a1ce-01b240dae6ec"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"d358daf1-b17f-444e-a1ce-01b240dae6ec"},"edge_type":"inherent","type":"","uuid":"e6ec3a9a-1261-4c1c-84e1-224121e4819f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"9a0b1831-e9fa-407c-9e7a-6024d4375215"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"12224066-d189-4232-8fca-d80bc4dc071b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d358daf1-b17f-444e-a1ce-01b240dae6ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"1ab1bd2d-cc33-4ab8-8cdf-57b010c557cd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9a0b1831-e9fa-407c-9e7a-6024d4375215","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"3bc32609-9cf2-428e-80fa-9ee8779e7eb0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5c8cb2f1-4e5e-423b-bc8a-e05443ac2ada","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a95efc8f-ba3f-49fe-9d47-b443f282c07b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"0e3e5aee-b6b3-4f6e-89b9-2c31c84229ab","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"497c2315-8908-4f9b-9af1-4ccaa5c016a5"},"name":"SYS_GEN__Runbook_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}},{"description":"System action for starting an application","message_list":[],"uuid":"3de002b6-3dc6-4dab-bed0-dd7f8159160d","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DAG","uuid":"0fcaa2ef-9e4d-4fb7-9a1c-90dc72704f50","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"2cc68ecc-8260-4b0b-ac9f-b650556ba0c2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a4458297-78a8-4187-8ba8-22ad71d479d0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"2cc68ecc-8260-4b0b-ac9f-b650556ba0c2"},"edge_type":"inherent","type":"","uuid":"377ef594-139b-4a80-8db5-3be6cb26a207","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a4458297-78a8-4187-8ba8-22ad71d479d0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2cc68ecc-8260-4b0b-ac9f-b650556ba0c2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"e649d6f6-488d-4bdc-8685-b571775e4b98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4458297-78a8-4187-8ba8-22ad71d479d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"78800aaa-3dd3-46ee-8590-1f75fccbfb36","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"0fcaa2ef-9e4d-4fb7-9a1c-90dc72704f50"},"name":"SYS_GEN__Runbook_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}},{"description":"System action for restarting an application","message_list":[],"uuid":"c20c1df0-00f7-4cd7-a814-bc97ea28efd4","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DAG","uuid":"3f7bb188-a7b5-45e1-a389-f332f46f2b18","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"6d48db44-e302-4abf-beba-8408eaa1aad7"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9ba093f3-72d5-4ae5-bc91-8de21d176090"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"6d48db44-e302-4abf-beba-8408eaa1aad7"},"edge_type":"inherent","type":"","uuid":"3858e27c-1092-4d4f-85db-b15ceb9ef31e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9ba093f3-72d5-4ae5-bc91-8de21d176090"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6d48db44-e302-4abf-beba-8408eaa1aad7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"5c6a58e8-3f5c-45e1-aaa8-0658cf86d805"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ba093f3-72d5-4ae5-bc91-8de21d176090","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"ad393ce3-0326-40b5-afae-4e9fbdbfa02d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"3f7bb188-a7b5-45e1-a389-f332f46f2b18"},"name":"SYS_GEN__Runbook_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}},{"description":"System action for stopping an application","message_list":[],"uuid":"7e6b8ee8-aa9c-4b85-aa79-d1f2532952b5","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DAG","uuid":"f5973a7b-1307-4196-b22f-6254ca69f76a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9af76a9c-4c2c-46d2-952b-b992b4a03c81"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"17da4007-a8e1-4137-bf95-47e44e213ddc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9af76a9c-4c2c-46d2-952b-b992b4a03c81"},"edge_type":"inherent","type":"","uuid":"e3908aef-ebe4-42b6-b476-4123a49cc8c6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"17da4007-a8e1-4137-bf95-47e44e213ddc"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9af76a9c-4c2c-46d2-952b-b992b4a03c81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17da4007-a8e1-4137-bf95-47e44e213ddc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"a979538c-13a4-443a-89d4-917d16a45002"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"69b3c29d-9d83-4bf8-96f9-2e5bfe6ed262","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"f5973a7b-1307-4196-b22f-6254ca69f76a"},"name":"SYS_GEN__Runbook_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"8fed275a-82fe-43c3-9704-f5cb4ba08a9b","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DAG","uuid":"904f545e-9e9a-49c3-a26c-219146bdae81","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8e9c2bc2-669c-498d-ac97-93a474577a21"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"f63d405c-40be-46af-9511-eb558028d0e4"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"bb0872c2-23b4-40fd-ae50-b284752c84da"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"6525373f-fac5-4984-9bc5-807c9f669f42"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"8b201f26-d75b-4e59-9658-7e9c39cf9b85"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8e9c2bc2-669c-498d-ac97-93a474577a21"},"edge_type":"inherent","type":"","uuid":"6b46aba9-9d86-47a3-a756-81f6b67febe8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"f63d405c-40be-46af-9511-eb558028d0e4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"f63d405c-40be-46af-9511-eb558028d0e4"},"edge_type":"inherent","type":"","uuid":"01159afb-2f35-4e96-8cb0-09d5b49decc6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"bb0872c2-23b4-40fd-ae50-b284752c84da"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"6525373f-fac5-4984-9bc5-807c9f669f42"},"edge_type":"inherent","type":"","uuid":"8c33168d-a272-4607-834a-c273856adab1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"8b201f26-d75b-4e59-9658-7e9c39cf9b85"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"bb0872c2-23b4-40fd-ae50-b284752c84da"},"edge_type":"inherent","type":"","uuid":"8834acf0-fa9f-4277-aacd-2074534d8887","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"6525373f-fac5-4984-9bc5-807c9f669f42"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8e9c2bc2-669c-498d-ac97-93a474577a21","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f63d405c-40be-46af-9511-eb558028d0e4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bb0872c2-23b4-40fd-ae50-b284752c84da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"e8847d6e-bb88-43f7-906d-aade16af4a59"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6525373f-fac5-4984-9bc5-807c9f669f42","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"f90b1f3e-e8ae-4d53-aae5-96adda2961bf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"8b201f26-d75b-4e59-9658-7e9c39cf9b85","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}],"description":"","message_list":[],"uuid":"abfbf6f8-1590-4ae6-9581-fdbd828b553a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"904f545e-9e9a-49c3-a26c-219146bdae81"},"name":"SYS_GEN__Runbook_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}},{"description":"System action for scaleout","message_list":[],"uuid":"9eb6997e-3d95-4e0a-aed7-94197e6ffd0f","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DAG","uuid":"3f4b0a34-8371-42af-9032-fb521c3afa5a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"cefb504b-bf93-45b3-87ba-5139535ce5c7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"SCALING","uuid":"cefb504b-bf93-45b3-87ba-5139535ce5c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}],"description":"","message_list":[],"uuid":"e6a3bd2b-05c0-47fa-a6c3-c3414cb67e6c","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"19ccf0c1-0d8c-4bd6-b314-92bf0acdd3b4","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"3f4b0a34-8371-42af-9032-fb521c3afa5a"},"name":"SYS_GEN__Runbook_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}},{"description":"System action for scalein","message_list":[],"uuid":"c05fc885-2e8f-42f6-9215-9dfd2f80a57c","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DAG","uuid":"a058ad31-6076-4edd-ace9-18edbe5bd596","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"9497746f-6346-42a5-8751-2ec6d9802cc7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"SCALING","uuid":"9497746f-6346-42a5-8751-2ec6d9802cc7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}],"description":"","message_list":[],"uuid":"3bd4f46a-ef90-495c-882c-13a403294353","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d8dcf873-b2d2-4aa3-a147-155f3ef4f162","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"a058ad31-6076-4edd-ace9-18edbe5bd596"},"name":"SYS_GEN__Runbook_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c5ebb1c3-345b-431e-a025-01d890a04ae6","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DAG","uuid":"6d7dcd39-4133-4172-aa67-97b1079bebba","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"bc44bdc0-2700-4a14-9c06-d46011fa3163"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"72b07cf9-2e75-42c6-bdad-31ebbfe0b418"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"73e0a208-4bd9-4afe-a1fd-77053fcfeccb"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"04834ac3-30ea-4a33-a94e-6e47e581b717"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"bc44bdc0-2700-4a14-9c06-d46011fa3163"},"edge_type":"inherent","type":"","uuid":"0631102b-0afc-45ed-b1c5-285500007132","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"72b07cf9-2e75-42c6-bdad-31ebbfe0b418"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"72b07cf9-2e75-42c6-bdad-31ebbfe0b418"},"edge_type":"inherent","type":"","uuid":"8ca24789-9807-44ac-a697-13e85620a66f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"73e0a208-4bd9-4afe-a1fd-77053fcfeccb"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"73e0a208-4bd9-4afe-a1fd-77053fcfeccb"},"edge_type":"inherent","type":"","uuid":"9d477f44-ab15-4607-84cd-5d592a913e33","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"04834ac3-30ea-4a33-a94e-6e47e581b717"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bc44bdc0-2700-4a14-9c06-d46011fa3163","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"72b07cf9-2e75-42c6-bdad-31ebbfe0b418","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"73e0a208-4bd9-4afe-a1fd-77053fcfeccb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"5ff13957-cb3f-4341-b22d-c2d01dc4896b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"04834ac3-30ea-4a33-a94e-6e47e581b717","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}],"description":"","message_list":[],"uuid":"ad2f61ed-5bcd-4eb3-8091-8e11b22a64b0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"6d7dcd39-4133-4172-aa67-97b1079bebba"},"name":"SYS_GEN__Runbook_Deployment_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"9b1d29e6_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"c79f6dcf-4e27-49f1-84ca-0c60f3b0f04b","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DAG","uuid":"bdb52e66-5de7-41d5-9114-578e206e4e4a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"c6662ce8-6836-4e81-a3fc-928be058eae7"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"3ed06abf-f9e9-4633-ab30-d6f84ace8d04"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"9f3306be-1384-4579-9a68-130196b8c027"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"64838796-69ab-4515-91a2-0f138b4c09d3"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4e7defc2-cf9d-4926-84da-4591e6d082df"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"64838796-69ab-4515-91a2-0f138b4c09d3"},"edge_type":"inherent","type":"","uuid":"16fc0a33-8197-44e7-a9de-d149db9b54ed","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4e7defc2-cf9d-4926-84da-4591e6d082df"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"9f3306be-1384-4579-9a68-130196b8c027"},"edge_type":"inherent","type":"","uuid":"0b60ee3a-f1f8-490b-91f6-3dd111a9bada","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"64838796-69ab-4515-91a2-0f138b4c09d3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"c6662ce8-6836-4e81-a3fc-928be058eae7"},"edge_type":"inherent","type":"","uuid":"140637e5-5a53-461d-a302-ef8e2a3d06fd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"3ed06abf-f9e9-4633-ab30-d6f84ace8d04"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"3ed06abf-f9e9-4633-ab30-d6f84ace8d04"},"edge_type":"inherent","type":"","uuid":"d4cdd876-7ffc-47e9-8bee-90db83bfa2a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"9f3306be-1384-4579-9a68-130196b8c027"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"c6662ce8-6836-4e81-a3fc-928be058eae7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3ed06abf-f9e9-4633-ab30-d6f84ace8d04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"8945f111-c16c-44da-8004-34fcde2f48cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f3306be-1384-4579-9a68-130196b8c027","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"770f4536-a804-4812-af60-315f7a77093a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"64838796-69ab-4515-91a2-0f138b4c09d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e7defc2-cf9d-4926-84da-4591e6d082df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"4c03161d-2ea0-4490-9996-ba34f4b8b486","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"bdb52e66-5de7-41d5-9114-578e206e4e4a"},"name":"SYS_GEN__Runbook_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}},{"description":"System action for starting an application","message_list":[],"uuid":"291bf5dd-6c99-4054-a1e2-385deaf8bd65","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DAG","uuid":"908828d8-86d0-451f-9600-f7d2c6ee3072","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"862267e6-2e9f-4e14-aa3a-752a8a346b0a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a24c0134-7ce6-459d-9ee0-370f85c83042"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"862267e6-2e9f-4e14-aa3a-752a8a346b0a"},"edge_type":"inherent","type":"","uuid":"7db34f15-af51-4d87-bc0b-1fa3027ae586","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a24c0134-7ce6-459d-9ee0-370f85c83042"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"862267e6-2e9f-4e14-aa3a-752a8a346b0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"dfe902f3-da20-4c23-94a9-66be36882054"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a24c0134-7ce6-459d-9ee0-370f85c83042","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"6c28215a-3d24-42f0-a4a1-b66a5cf35393","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"908828d8-86d0-451f-9600-f7d2c6ee3072"},"name":"SYS_GEN__Runbook_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"b3d1a9de-b3fc-416f-8908-d413743b9ad0","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DAG","uuid":"f3207de1-df4d-4f48-ba01-acc7d658ba39","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"d1ee3bcf-212c-4f7c-a2a5-9e1614c717cf"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"9cefccf7-acc7-4afd-b80e-34dec5025377"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"d1ee3bcf-212c-4f7c-a2a5-9e1614c717cf"},"edge_type":"inherent","type":"","uuid":"3a43493d-03fc-45b8-b3dd-7bf643cee188","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"9cefccf7-acc7-4afd-b80e-34dec5025377"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1ee3bcf-212c-4f7c-a2a5-9e1614c717cf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"a2c4fea5-8f57-4d35-aee8-7eecf8ead4b5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9cefccf7-acc7-4afd-b80e-34dec5025377","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"b4a1fe12-da2a-475a-88c5-181f683d3ac7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"f3207de1-df4d-4f48-ba01-acc7d658ba39"},"name":"SYS_GEN__Runbook_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"46fa5cfb-ed6d-4f5a-8439-51b58ecb8d9d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DAG","uuid":"6bad26b7-9416-4516-b133-cce2b9fd1705","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"ebbef44e-9e0c-445f-ad85-8e9654e92ef4"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"d1ebaf73-1f8f-4bb8-aa10-6809a742509a"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"ebbef44e-9e0c-445f-ad85-8e9654e92ef4"},"edge_type":"inherent","type":"","uuid":"b84e5f3c-f894-44ae-9d8e-f308c15cd1d6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"d1ebaf73-1f8f-4bb8-aa10-6809a742509a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ebbef44e-9e0c-445f-ad85-8e9654e92ef4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d1ebaf73-1f8f-4bb8-aa10-6809a742509a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"a1456980-7b80-446c-a2ed-dff71c62c975"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"}],"description":"","message_list":[],"uuid":"61e73a1c-706f-414b-8b98-11051c4688d8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"6bad26b7-9416-4516-b133-cce2b9fd1705"},"name":"SYS_GEN__Runbook_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e3e68fd0-600e-4d60-88b1-afc9a159886d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DAG","uuid":"e237944a-d0ff-4eb5-a1de-f517c62756ec","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"562ab4b1-4b46-4bbb-9197-4ca25c85ade9"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"c945914b-44e7-4b59-bf6f-b7a52d5034cd"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"40e3edd2-055e-41a5-8208-37777db6823b"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"f0b37e8e-df0f-434a-9cd3-75e7bb960f06"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"bc260b55-435b-4801-8772-a3adb39ec2f5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"562ab4b1-4b46-4bbb-9197-4ca25c85ade9"},"edge_type":"inherent","type":"","uuid":"b30afc85-c127-4340-a4f2-f2a4ba433751","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"c945914b-44e7-4b59-bf6f-b7a52d5034cd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"c945914b-44e7-4b59-bf6f-b7a52d5034cd"},"edge_type":"inherent","type":"","uuid":"2888ed55-f571-45ba-913b-057a5c299b56","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"40e3edd2-055e-41a5-8208-37777db6823b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"f0b37e8e-df0f-434a-9cd3-75e7bb960f06"},"edge_type":"inherent","type":"","uuid":"d6c81bda-8c3d-4c93-b16c-824edf0e119e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"bc260b55-435b-4801-8772-a3adb39ec2f5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"40e3edd2-055e-41a5-8208-37777db6823b"},"edge_type":"inherent","type":"","uuid":"64ac7625-5c1d-43a9-b037-83fe6c70f7f9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"f0b37e8e-df0f-434a-9cd3-75e7bb960f06"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"562ab4b1-4b46-4bbb-9197-4ca25c85ade9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c945914b-44e7-4b59-bf6f-b7a52d5034cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"40e3edd2-055e-41a5-8208-37777db6823b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"d83532c4-742b-42d0-bb6d-34d047002bce"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f0b37e8e-df0f-434a-9cd3-75e7bb960f06","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"0c70dfe5-2d7d-436a-b090-47ae2b5d54c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"bc260b55-435b-4801-8772-a3adb39ec2f5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}],"description":"","message_list":[],"uuid":"d1ae42a2-f562-46b4-90d0-ff1316fa9189","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"e237944a-d0ff-4eb5-a1de-f517c62756ec"},"name":"SYS_GEN__Runbook_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}},{"description":"System action for scaleout","message_list":[],"uuid":"6ac438c7-b8a1-403d-9c06-23925e726e9a","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DAG","uuid":"210ea016-3a93-4ea4-89f2-f8d6f5bf7a4d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"7cd91b06-93d7-40a1-95db-a7a391ea7f73"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"SCALING","uuid":"7cd91b06-93d7-40a1-95db-a7a391ea7f73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}],"description":"","message_list":[],"uuid":"e2da5d3f-738d-4df1-b91c-9a6cc419f724","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"461a64ac-8530-4f91-88a0-2fbebe8e9429","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"210ea016-3a93-4ea4-89f2-f8d6f5bf7a4d"},"name":"SYS_GEN__Runbook_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}},{"description":"System action for scalein","message_list":[],"uuid":"88b951b5-5e5d-4f21-971b-6adfd36a76df","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DAG","uuid":"0c311b3d-acfb-44fc-9c2b-9ecf6f47ef2c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"4423a622-a094-4ecb-825e-86b02189de53"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"SCALING","uuid":"4423a622-a094-4ecb-825e-86b02189de53","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}],"description":"","message_list":[],"uuid":"e800dd5c-45ab-4173-875a-22072c615f67","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"de513e8c-8e0f-4ace-9de8-a2e70349ac83","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"0c311b3d-acfb-44fc-9c2b-9ecf6f47ef2c"},"name":"SYS_GEN__Runbook_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6b64965c-3924-413c-8812-89694d5bf321","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DAG","uuid":"3e6a89b5-ce1b-4b64-8aa6-cbdfeec86b02","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"7828479e-a3e6-400c-97b7-cbbc75fbc089"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"87ec8811-bc2c-4b49-9371-fecf46112c1a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"0dbdd33b-1589-47f8-92da-360b635d3171"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"0b490f62-8e78-4144-ac58-55434313cfbe"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"7828479e-a3e6-400c-97b7-cbbc75fbc089"},"edge_type":"inherent","type":"","uuid":"93f01460-fbb0-4c8d-aa6c-897a0a814597","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"87ec8811-bc2c-4b49-9371-fecf46112c1a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"0dbdd33b-1589-47f8-92da-360b635d3171"},"edge_type":"inherent","type":"","uuid":"12deaf63-e430-428b-9a7f-804a9bfb8ca9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"0b490f62-8e78-4144-ac58-55434313cfbe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"87ec8811-bc2c-4b49-9371-fecf46112c1a"},"edge_type":"inherent","type":"","uuid":"da2e9307-fdcf-4038-9f23-7d9ae8bd220b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"0dbdd33b-1589-47f8-92da-360b635d3171"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7828479e-a3e6-400c-97b7-cbbc75fbc089","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"87ec8811-bc2c-4b49-9371-fecf46112c1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0dbdd33b-1589-47f8-92da-360b635d3171","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"f78fa075-4725-4310-beae-10b31e358d82"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"0b490f62-8e78-4144-ac58-55434313cfbe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}],"description":"","message_list":[],"uuid":"0c2e4ac8-8ff0-45d5-89e1-19b0dba8e882","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"3e6a89b5-ce1b-4b64-8aa6-cbdfeec86b02"},"name":"SYS_GEN__Runbook_Deployment_a709cac5_860c_4458_b99a_8e6ee2a5e68d"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d","min_replicas":"1","state":"DRAFT","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"}],"substrate_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"54ee850e_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"59632cc4-8e8e-4723-9a06-901ad81696d9","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"5dfb660e-5346-4aee-ba44-2214bef55957","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"b3e515ab-7b84-4e8f-b3e2-5d026a2a17ed"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c8c571b2_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"b3e515ab-7b84-4e8f-b3e2-5d026a2a17ed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"bab280d7-283f-40ce-adab-12ca4c88a5e2","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b27ce293-f8e4-49df-b1de-a5e92f871b13","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"c8c571b2_dag","uuid":"5dfb660e-5346-4aee-ba44-2214bef55957"},"name":"cf21cddc_runbook"}},{"description":"","message_list":[],"uuid":"9a10a64d-df8c-45bd-b85b-498940f0e3f8","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"d0d8c287-ca42-4276-8f50-b950af652b83","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"00d7f9a3-1341-4bd3-a15f-b6a107f0e81b"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eff38554_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"00d7f9a3-1341-4bd3-a15f-b6a107f0e81b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"5818f892-f946-4351-9f46-41c234ce8c03","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9accd6e8-2524-40c4-bb92-d55400a4971c","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"eff38554_dag","uuid":"d0d8c287-ca42-4276-8f50-b950af652b83"},"name":"5911aa86_runbook"}},{"description":"","message_list":[],"uuid":"5b36bee1-5ba2-4e1a-92da-4249aabd0418","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"d913fbec-f423-4a26-a95b-d7b8ac32b441","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"eda1c6c9-400d-4699-a9be-486f922c7266"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"18ab1dc5_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"SCALING","uuid":"eda1c6c9-400d-4699-a9be-486f922c7266","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale Out"}],"description":"","message_list":[],"uuid":"d755aadd-efde-4163-b2f2-a1e86954ec8d","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"1944af36-2194-422d-b1e7-ae27454851cc","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"18ab1dc5_dag","uuid":"d913fbec-f423-4a26-a95b-d7b8ac32b441"},"name":"0efec22d_runbook"}},{"description":"","message_list":[],"uuid":"e73a1bc8-7805-4a38-a71d-4001b5abcc80","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"0cef11ba-903f-4a99-ae04-567190c8fa46","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"63d3d372-fd85-4461-904c-9bb2d7b514ff"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d25c81bb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"SCALING","uuid":"63d3d372-fd85-4461-904c-9bb2d7b514ff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"ffa1cef6-6e59-4419-a03d-65c9292fcb54","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d48cb76e-31e4-4052-97ef-c58aea6cdcfe","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"d25c81bb_dag","uuid":"0cef11ba-903f-4a99-ae04-567190c8fa46"},"name":"eb302554_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"4358dae2-63b1-461e-93ae-c2e41097b462","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"8f32d3a6-94a9-4791-b617-1ac73978c7e3"},"retries":"0","description":"","type":"DAG","uuid":"e085c3f0-4437-41e7-986a-24ae00d1e220","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"a460683f-1169-4844-924c-867cb795e9fa"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"f64f8682-406a-42a9-a17e-f35248eb062b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"4e2e0f79-782c-48cd-9a4e-0cec3f6e5732"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"037d32e5-a387-41ae-8393-2171b8d219e9"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"ddb5f56f-6f3b-4c68-9944-74fb733abb5f"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"65ad9502-1f14-4f24-baea-4ed5dea5dbb7"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ea9496de-b501-4731-af0c-21bee7d5be95"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2960b51f-e464-447e-9b70-d234095db43d"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"301e01f9-92b3-4cb3-8057-e1cda4a04564"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1752a12c-dd2f-4ef9-a1ec-437f1b1f7039"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ea9496de-b501-4731-af0c-21bee7d5be95"},"edge_type":"inherent","type":"","uuid":"448dfa43-036c-4929-8d5b-152f70c345ac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2960b51f-e464-447e-9b70-d234095db43d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"65ad9502-1f14-4f24-baea-4ed5dea5dbb7"},"edge_type":"inherent","type":"","uuid":"6b4bc966-5806-44c2-b1cd-29313b778b63","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ea9496de-b501-4731-af0c-21bee7d5be95"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"f64f8682-406a-42a9-a17e-f35248eb062b"},"edge_type":"inherent","type":"","uuid":"6d8e4fc9-bb51-492c-ae45-7d68bd902e1c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"4e2e0f79-782c-48cd-9a4e-0cec3f6e5732"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"4e2e0f79-782c-48cd-9a4e-0cec3f6e5732"},"edge_type":"inherent","type":"","uuid":"c8ebf8ad-96e6-49f9-b87b-e6047ab9c0d7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"65ad9502-1f14-4f24-baea-4ed5dea5dbb7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"301e01f9-92b3-4cb3-8057-e1cda4a04564"},"edge_type":"inherent","type":"","uuid":"29a4fb15-49f0-45db-b076-93721e4ad925","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1752a12c-dd2f-4ef9-a1ec-437f1b1f7039"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"ddb5f56f-6f3b-4c68-9944-74fb733abb5f"},"edge_type":"inherent","type":"","uuid":"e57cfa54-e670-4c0c-a2d3-58a26e8ee399","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"301e01f9-92b3-4cb3-8057-e1cda4a04564"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"a460683f-1169-4844-924c-867cb795e9fa"},"edge_type":"inherent","type":"","uuid":"08e9b190-a54a-4ce4-9b76-67b7d078a61d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"037d32e5-a387-41ae-8393-2171b8d219e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"037d32e5-a387-41ae-8393-2171b8d219e9"},"edge_type":"inherent","type":"","uuid":"78492442-90dd-4adf-97ca-1e53af4c12a7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"ddb5f56f-6f3b-4c68-9944-74fb733abb5f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2960b51f-e464-447e-9b70-d234095db43d"},"edge_type":"depends_on","type":"","uuid":"7d70e980-5153-4d81-be32-f7e0c2180f78","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"301e01f9-92b3-4cb3-8057-e1cda4a04564"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"a460683f-1169-4844-924c-867cb795e9fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"f64f8682-406a-42a9-a17e-f35248eb062b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e2e0f79-782c-48cd-9a4e-0cec3f6e5732","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"1ab1bd2d-cc33-4ab8-8cdf-57b010c557cd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"037d32e5-a387-41ae-8393-2171b8d219e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"8945f111-c16c-44da-8004-34fcde2f48cf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ddb5f56f-6f3b-4c68-9944-74fb733abb5f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"770f4536-a804-4812-af60-315f7a77093a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65ad9502-1f14-4f24-baea-4ed5dea5dbb7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"3bc32609-9cf2-428e-80fa-9ee8779e7eb0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea9496de-b501-4731-af0c-21bee7d5be95","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2960b51f-e464-447e-9b70-d234095db43d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"301e01f9-92b3-4cb3-8057-e1cda4a04564","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1752a12c-dd2f-4ef9-a1ec-437f1b1f7039","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"35282979-5902-4cab-b2da-ddc683d4253a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3","uuid":"e085c3f0-4437-41e7-986a-24ae00d1e220"},"name":"SYS_GEN__Runbook_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"}},{"description":"System action for starting an application","message_list":[],"uuid":"debaf80e-8664-447f-98d7-8b1f478bb631","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"8f32d3a6-94a9-4791-b617-1ac73978c7e3"},"retries":"0","description":"","type":"DAG","uuid":"3b945a57-8cf3-4176-9196-be4e466ecea0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"15d6974d-05f2-417d-853a-9875bb23ce00"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"fa2c5b59-6acf-4cb5-9198-1288f6efd975"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ccdd4eff-138d-4349-9f76-b71599a66413"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"50544523-8396-481e-bca9-69b29aa5b04b"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"15d6974d-05f2-417d-853a-9875bb23ce00"},"edge_type":"inherent","type":"","uuid":"076410c8-12fa-4ba5-ac92-bd6d4e4deb45","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ccdd4eff-138d-4349-9f76-b71599a66413"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"fa2c5b59-6acf-4cb5-9198-1288f6efd975"},"edge_type":"inherent","type":"","uuid":"9b4a3a41-0be9-47cd-923f-0b9ec1d0d9f7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"50544523-8396-481e-bca9-69b29aa5b04b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ccdd4eff-138d-4349-9f76-b71599a66413"},"edge_type":"depends_on","type":"","uuid":"30ce175a-9be2-4f98-808b-13d161c4775d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"50544523-8396-481e-bca9-69b29aa5b04b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"15d6974d-05f2-417d-853a-9875bb23ce00","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"e649d6f6-488d-4bdc-8685-b571775e4b98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fa2c5b59-6acf-4cb5-9198-1288f6efd975","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"dfe902f3-da20-4c23-94a9-66be36882054"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ccdd4eff-138d-4349-9f76-b71599a66413","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"50544523-8396-481e-bca9-69b29aa5b04b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"e77b1aaf-5c32-48e4-8f5e-bcc9a54c36b5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3","uuid":"3b945a57-8cf3-4176-9196-be4e466ecea0"},"name":"SYS_GEN__Runbook_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"}},{"description":"System action for restarting an application","message_list":[],"uuid":"b800bf8a-1dc5-4b60-af05-de2ada826a17","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"8f32d3a6-94a9-4791-b617-1ac73978c7e3"},"retries":"0","description":"","type":"DAG","uuid":"a5d2a312-cc9a-442e-97e1-4bfdeb307071","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"11e0c15d-81d3-4b80-9776-13d634f84549"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"e78a5ba0-c1a4-4fe3-9042-3a499e09329d"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"32803064-7969-4a3c-a360-582875254119"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"aa5f9bb1-da98-4693-909d-b6178a4cce28"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"e78a5ba0-c1a4-4fe3-9042-3a499e09329d"},"edge_type":"inherent","type":"","uuid":"27ebb4b4-9c04-4ffd-8efe-91be87fb1050","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"32803064-7969-4a3c-a360-582875254119"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"11e0c15d-81d3-4b80-9776-13d634f84549"},"edge_type":"inherent","type":"","uuid":"d9921358-227e-49ca-a938-c36800417e25","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"aa5f9bb1-da98-4693-909d-b6178a4cce28"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"32803064-7969-4a3c-a360-582875254119"},"edge_type":"depends_on","type":"","uuid":"bd9ef41b-c704-49e1-9d9f-b18c6a51d842","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"aa5f9bb1-da98-4693-909d-b6178a4cce28"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11e0c15d-81d3-4b80-9776-13d634f84549","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"a2c4fea5-8f57-4d35-aee8-7eecf8ead4b5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e78a5ba0-c1a4-4fe3-9042-3a499e09329d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"5c6a58e8-3f5c-45e1-aaa8-0658cf86d805"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"32803064-7969-4a3c-a360-582875254119","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa5f9bb1-da98-4693-909d-b6178a4cce28","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"10064b9d-db97-4ac6-b3a7-5cb65347ce5c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3","uuid":"a5d2a312-cc9a-442e-97e1-4bfdeb307071"},"name":"SYS_GEN__Runbook_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f2c99822-e914-4869-bbed-994d12785012","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"8f32d3a6-94a9-4791-b617-1ac73978c7e3"},"retries":"0","description":"","type":"DAG","uuid":"1742e3c3-d86b-4c27-aada-05e2b15f0994","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4b8b7e05-2086-4635-8db1-01fcb0d0e76b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"56b7094c-409b-45ef-ad31-bd2a779afaf7"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"bcc8a2a4-d1cc-42a8-9e1b-d88f13bb2660"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"c68db0c4-d044-4417-a4c3-c4610f670009"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"56b7094c-409b-45ef-ad31-bd2a779afaf7"},"edge_type":"inherent","type":"","uuid":"406dd9dc-771f-4c67-a0a6-58fe5e855567","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"c68db0c4-d044-4417-a4c3-c4610f670009"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4b8b7e05-2086-4635-8db1-01fcb0d0e76b"},"edge_type":"inherent","type":"","uuid":"953a584d-5060-43e4-bc6c-b2f3f5fade51","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"bcc8a2a4-d1cc-42a8-9e1b-d88f13bb2660"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4b8b7e05-2086-4635-8db1-01fcb0d0e76b"},"edge_type":"depends_on","type":"","uuid":"873a0c01-661f-4c4c-bbed-4985b171ad7e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"56b7094c-409b-45ef-ad31-bd2a779afaf7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4b8b7e05-2086-4635-8db1-01fcb0d0e76b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"56b7094c-409b-45ef-ad31-bd2a779afaf7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bcc8a2a4-d1cc-42a8-9e1b-d88f13bb2660","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"a1456980-7b80-446c-a2ed-dff71c62c975"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c68db0c4-d044-4417-a4c3-c4610f670009","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"a979538c-13a4-443a-89d4-917d16a45002"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"}],"description":"","message_list":[],"uuid":"8a08efcf-730b-4150-b4c3-02f4bbdbed87","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3","uuid":"1742e3c3-d86b-4c27-aada-05e2b15f0994"},"name":"SYS_GEN__Runbook_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"95282f38-d99f-4381-83fb-47ade98e78da","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"8f32d3a6-94a9-4791-b617-1ac73978c7e3"},"retries":"0","description":"","type":"DAG","uuid":"3450d5f2-70b1-4eba-93cd-f3338c2b51b7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d8002cbc-0ac4-4a56-97ee-8ad162d0012a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"da1b9ce9-21e5-474d-907e-bb57a0aa6386"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"affd74af-f01e-42fe-a21e-f952036a0159"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"f21c924d-659e-4011-b6aa-1ead18a704b5"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"253e0a66-0618-4b6f-a72d-0a16a7d4a657"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"bfceb412-27bb-4a64-9c9d-6f5832f790a7"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"9e573475-6e58-4b96-8869-4c23c006b225"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"63a2ebf4-f371-49bc-ac50-5aa7d917490d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"cbb9bd45-b46c-47d7-a09c-c360ec2b8a70"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"4c8b5d49-0bf1-49fe-9f06-ce729dac7097"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"affd74af-f01e-42fe-a21e-f952036a0159"},"edge_type":"inherent","type":"","uuid":"dc4f5fe8-e05a-4dbe-9ad5-95cd63c5e18d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"253e0a66-0618-4b6f-a72d-0a16a7d4a657"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"253e0a66-0618-4b6f-a72d-0a16a7d4a657"},"edge_type":"inherent","type":"","uuid":"aa6607f6-ff3a-49b3-86a4-657eeda27971","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"9e573475-6e58-4b96-8869-4c23c006b225"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"cbb9bd45-b46c-47d7-a09c-c360ec2b8a70"},"edge_type":"inherent","type":"","uuid":"58224021-e467-4fe3-9479-d8b56b52261f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"4c8b5d49-0bf1-49fe-9f06-ce729dac7097"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"9e573475-6e58-4b96-8869-4c23c006b225"},"edge_type":"inherent","type":"","uuid":"51bc84a4-2acd-431b-a1d1-8c263f847dc8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"cbb9bd45-b46c-47d7-a09c-c360ec2b8a70"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d8002cbc-0ac4-4a56-97ee-8ad162d0012a"},"edge_type":"inherent","type":"","uuid":"d75f919c-83cb-477e-be12-437ac6d0f7b1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"da1b9ce9-21e5-474d-907e-bb57a0aa6386"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"da1b9ce9-21e5-474d-907e-bb57a0aa6386"},"edge_type":"inherent","type":"","uuid":"0bdcaec8-5da7-48af-a5be-f08bebacd38f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"f21c924d-659e-4011-b6aa-1ead18a704b5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"bfceb412-27bb-4a64-9c9d-6f5832f790a7"},"edge_type":"inherent","type":"","uuid":"583fb97c-1b1c-4c60-8712-08da7fe22836","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"63a2ebf4-f371-49bc-ac50-5aa7d917490d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"f21c924d-659e-4011-b6aa-1ead18a704b5"},"edge_type":"inherent","type":"","uuid":"6cd096cf-80ad-4df9-92f6-30f26def5bad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"bfceb412-27bb-4a64-9c9d-6f5832f790a7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"da1b9ce9-21e5-474d-907e-bb57a0aa6386"},"edge_type":"depends_on","type":"","uuid":"5f5797f1-800c-4e73-8a6f-0d9910c03ef3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"affd74af-f01e-42fe-a21e-f952036a0159"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d8002cbc-0ac4-4a56-97ee-8ad162d0012a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da1b9ce9-21e5-474d-907e-bb57a0aa6386","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"affd74af-f01e-42fe-a21e-f952036a0159","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f21c924d-659e-4011-b6aa-1ead18a704b5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"d83532c4-742b-42d0-bb6d-34d047002bce"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"253e0a66-0618-4b6f-a72d-0a16a7d4a657","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bfceb412-27bb-4a64-9c9d-6f5832f790a7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"0c70dfe5-2d7d-436a-b090-47ae2b5d54c6"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9e573475-6e58-4b96-8869-4c23c006b225","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"e8847d6e-bb88-43f7-906d-aade16af4a59"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"63a2ebf4-f371-49bc-ac50-5aa7d917490d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cbb9bd45-b46c-47d7-a09c-c360ec2b8a70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"f90b1f3e-e8ae-4d53-aae5-96adda2961bf"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"4c8b5d49-0bf1-49fe-9f06-ce729dac7097","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}],"description":"","message_list":[],"uuid":"119c55e4-5538-46f3-8eab-1f94ab5f8878","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3","uuid":"3450d5f2-70b1-4eba-93cd-f3338c2b51b7"},"name":"SYS_GEN__Runbook_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b8122eb0-9eba-4592-a044-62ebc30b82b3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"GCP","uuid":"8f32d3a6-94a9-4791-b617-1ac73978c7e3"},"retries":"0","description":"","type":"DAG","uuid":"ab4b02e6-a85b-4479-a9b7-28ca1e3c39c5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"741c2554-4a7b-41c1-80c2-438a846baa22"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"ca481612-d1c8-41a8-a0e6-38792f52f752"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2b142e09-4f36-48da-a3bb-6da7e0665201"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"dccb65c5-b21c-4e05-a986-c8f316526b50"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"adb0b000-2eaa-438c-b0ba-2a46e75a4c9c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"702280b2-868d-49df-abe7-b7bdfdc19485"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"1311b2eb-9a5f-43de-8ef6-5da4dd0a8b51"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"4648f72e-9aa7-4a5d-905c-b8f0d64334a8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2b142e09-4f36-48da-a3bb-6da7e0665201"},"edge_type":"inherent","type":"","uuid":"432ed5e3-0259-44cb-a85f-3faa44c76db1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"dccb65c5-b21c-4e05-a986-c8f316526b50"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"dccb65c5-b21c-4e05-a986-c8f316526b50"},"edge_type":"inherent","type":"","uuid":"63230745-c29f-42b7-b621-e912c484358b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"702280b2-868d-49df-abe7-b7bdfdc19485"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"702280b2-868d-49df-abe7-b7bdfdc19485"},"edge_type":"inherent","type":"","uuid":"44e7c371-d5be-463c-8832-df9897c8829c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694","uuid":"4648f72e-9aa7-4a5d-905c-b8f0d64334a8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"741c2554-4a7b-41c1-80c2-438a846baa22"},"edge_type":"inherent","type":"","uuid":"75e94676-d55b-446c-b402-651a622260d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"ca481612-d1c8-41a8-a0e6-38792f52f752"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"adb0b000-2eaa-438c-b0ba-2a46e75a4c9c"},"edge_type":"inherent","type":"","uuid":"07e244f4-e3ea-4ddb-a02e-49ffc15b84e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d","uuid":"1311b2eb-9a5f-43de-8ef6-5da4dd0a8b51"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"ca481612-d1c8-41a8-a0e6-38792f52f752"},"edge_type":"inherent","type":"","uuid":"9642ba8d-afda-4408-9c34-6aa0ecd3e6f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"adb0b000-2eaa-438c-b0ba-2a46e75a4c9c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"741c2554-4a7b-41c1-80c2-438a846baa22"},"edge_type":"depends_on","type":"","uuid":"dda2c603-8e41-4b5b-a0b1-f2bc1b49c25b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2b142e09-4f36-48da-a3bb-6da7e0665201"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"741c2554-4a7b-41c1-80c2-438a846baa22","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ca481612-d1c8-41a8-a0e6-38792f52f752","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2b142e09-4f36-48da-a3bb-6da7e0665201","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"dccb65c5-b21c-4e05-a986-c8f316526b50","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"adb0b000-2eaa-438c-b0ba-2a46e75a4c9c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c","uuid":"f78fa075-4725-4310-beae-10b31e358d82"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_13b690a1_615a_4ac9_bab7_166c4e717d9c"},{"target_any_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"702280b2-868d-49df-abe7-b7bdfdc19485","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_91a64335_8b29_4876_84db_58e421f2177d","uuid":"5ff13957-cb3f-4341-b22d-c2d01dc4896b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_91a64335_8b29_4876_84db_58e421f2177d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"54ee850e_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"1311b2eb-9a5f-43de-8ef6-5da4dd0a8b51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_a709cac5_860c_4458_b99a_8e6ee2a5e68d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"9b1d29e6_deployment","uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"4648f72e-9aa7-4a5d-905c-b8f0d64334a8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_8ad38be6_4a90_4e33_b7e9_9fb6d9ac7694"}],"description":"","message_list":[],"uuid":"e17bbd13-badf-4b6b-91e0-ddbf579c966e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3","uuid":"ab4b02e6-a85b-4479-a9b7-28ca1e3c39c5"},"name":"SYS_GEN__Runbook_Application_8f32d3a6_94a9_4791_b617_1ac73978c7e3"}}],"message_list":[],"uuid":"8f32d3a6-94a9-4791-b617-1ac73978c7e3","state":"DRAFT","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"GCP","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"7a18e50f-e3e7-4bab-879e-01e3e4e2b3f8","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"ccff5afe-f36d-4452-95fc-87c7f1e18967"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"GCP"},{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"7af1b091-b90a-4dfd-8073-e0073f5fcc04","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DAG","uuid":"b51511eb-f3e9-4a37-8497-41f8108e2671","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"0e3c763c-ee2b-4820-837b-bd7df6b092bd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"f9bc27a2-046b-4869-b578-11c8c39c6832"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"50baa0e3-7f83-421c-8176-0fa505b9e457"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3c24f746-3675-4cd7-8def-cce94a9087f4"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"f91992f5-8955-44fd-a01b-ff44ffe7aeb9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3c24f746-3675-4cd7-8def-cce94a9087f4"},"edge_type":"inherent","type":"","uuid":"10fd9bed-3532-47e9-8a90-8cd75bb525df","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"f91992f5-8955-44fd-a01b-ff44ffe7aeb9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"50baa0e3-7f83-421c-8176-0fa505b9e457"},"edge_type":"inherent","type":"","uuid":"ceea2ad5-7b79-4f3b-a242-c1df12a75601","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3c24f746-3675-4cd7-8def-cce94a9087f4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"f9bc27a2-046b-4869-b578-11c8c39c6832"},"edge_type":"inherent","type":"","uuid":"85ad5d54-fc87-469b-b6b3-859c88a714d4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"50baa0e3-7f83-421c-8176-0fa505b9e457"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"0e3c763c-ee2b-4820-837b-bd7df6b092bd"},"edge_type":"inherent","type":"","uuid":"fb6ed254-8460-45ed-b816-df5fe2af6eea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"f9bc27a2-046b-4869-b578-11c8c39c6832"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"0e3c763c-ee2b-4820-837b-bd7df6b092bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f9bc27a2-046b-4869-b578-11c8c39c6832","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"284a688a-34de-4343-b400-361535f7f45d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"50baa0e3-7f83-421c-8176-0fa505b9e457","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"b8ffb18e-cb80-482f-9c24-adb081119b1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3c24f746-3675-4cd7-8def-cce94a9087f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f91992f5-8955-44fd-a01b-ff44ffe7aeb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"0b323bcf-d967-4ff2-96e7-3f2f2d6c568c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"b51511eb-f3e9-4a37-8497-41f8108e2671"},"name":"SYS_GEN__Runbook_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}},{"description":"System action for starting an application","message_list":[],"uuid":"5a6719a3-3a9c-490e-9ee0-945598285f70","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DAG","uuid":"77044133-16d1-4598-b8d6-88e6b4d30012","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"460070bb-8467-4444-9477-4b7fd8490a97"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"bbc3ff71-a9d6-4004-b6dc-50e44afb106f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"460070bb-8467-4444-9477-4b7fd8490a97"},"edge_type":"inherent","type":"","uuid":"1f96c85b-d79b-456d-979c-a3f39d639a11","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"bbc3ff71-a9d6-4004-b6dc-50e44afb106f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"460070bb-8467-4444-9477-4b7fd8490a97","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"e4f45e61-5d71-4378-905a-a76f026b8dd5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bbc3ff71-a9d6-4004-b6dc-50e44afb106f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"4a99b32f-23ac-473a-8822-729639ddb633","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"77044133-16d1-4598-b8d6-88e6b4d30012"},"name":"SYS_GEN__Runbook_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f174b132-ad08-4b50-adba-461527d2aa63","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DAG","uuid":"642e08c4-653d-40d1-8320-8ab951f810af","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"66600e11-34eb-48c5-b331-198c8c00bea0"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3768ed28-3a4c-455e-988e-e8421b2b51b8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"66600e11-34eb-48c5-b331-198c8c00bea0"},"edge_type":"inherent","type":"","uuid":"035ac507-8704-4a77-856d-1350e7182095","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3768ed28-3a4c-455e-988e-e8421b2b51b8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"66600e11-34eb-48c5-b331-198c8c00bea0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"128f7462-8495-4d59-b62d-9480f75bdf79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3768ed28-3a4c-455e-988e-e8421b2b51b8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"9d1f02d3-14a9-48b6-9447-1a22f21293d2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"642e08c4-653d-40d1-8320-8ab951f810af"},"name":"SYS_GEN__Runbook_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}},{"description":"System action for stopping an application","message_list":[],"uuid":"add1e37c-5082-4b5f-a4bd-91d858c18a99","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DAG","uuid":"9a26cebd-2b84-4c36-9cf0-fdac8587a554","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"1573ed14-c5ca-440c-9817-15d6c3e740a6"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"50f4e4b9-93ee-46d0-baf5-ac515d845945"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"1573ed14-c5ca-440c-9817-15d6c3e740a6"},"edge_type":"inherent","type":"","uuid":"02496c1a-8c8d-4b12-8963-3b05073dca75","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"50f4e4b9-93ee-46d0-baf5-ac515d845945"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1573ed14-c5ca-440c-9817-15d6c3e740a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"50f4e4b9-93ee-46d0-baf5-ac515d845945","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"3d65e8b7-5340-4709-b849-f7c32ee9966b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"56f7b841-137c-4a1c-8feb-46190ecf46e3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"9a26cebd-2b84-4c36-9cf0-fdac8587a554"},"name":"SYS_GEN__Runbook_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e27c24b8-7756-430e-9a6b-a87d64bb1409","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DAG","uuid":"4f5508bb-b559-44cf-905d-6696ce34ac51","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"dd62a8d0-cfe4-48a1-af3a-7c4b9f3d7ef8"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"4e2b1a1a-0ca3-4664-a88a-4ca3f8f64647"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"e3e45123-e991-4a1d-9762-1c34c2ea20a0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"944f060d-b15d-4dcc-8f63-ccdade900db0"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"6811e2df-d468-425a-b99f-04a7f1c86fe1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"dd62a8d0-cfe4-48a1-af3a-7c4b9f3d7ef8"},"edge_type":"inherent","type":"","uuid":"991c87f9-e2ba-41d2-94fe-88fecf796b01","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"4e2b1a1a-0ca3-4664-a88a-4ca3f8f64647"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"4e2b1a1a-0ca3-4664-a88a-4ca3f8f64647"},"edge_type":"inherent","type":"","uuid":"b9d6733e-2d94-48fb-8dd2-5dc2a85cd19d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"e3e45123-e991-4a1d-9762-1c34c2ea20a0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"944f060d-b15d-4dcc-8f63-ccdade900db0"},"edge_type":"inherent","type":"","uuid":"27fcd2a6-3483-4a6a-9823-a56636e14707","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"6811e2df-d468-425a-b99f-04a7f1c86fe1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"e3e45123-e991-4a1d-9762-1c34c2ea20a0"},"edge_type":"inherent","type":"","uuid":"cf2ef395-e728-4225-b19b-d6f0894a1cfe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"944f060d-b15d-4dcc-8f63-ccdade900db0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"dd62a8d0-cfe4-48a1-af3a-7c4b9f3d7ef8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e2b1a1a-0ca3-4664-a88a-4ca3f8f64647","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e3e45123-e991-4a1d-9762-1c34c2ea20a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"5d1770b6-05b9-45b8-93d6-fafc3c0b3465"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"944f060d-b15d-4dcc-8f63-ccdade900db0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"75842b6b-98ac-4090-b8af-2b149019bf0d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"6811e2df-d468-425a-b99f-04a7f1c86fe1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}],"description":"","message_list":[],"uuid":"fe7e4b2c-eafb-4f15-add2-6034c76ea47b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"4f5508bb-b559-44cf-905d-6696ce34ac51"},"name":"SYS_GEN__Runbook_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}},{"description":"System action for scaleout","message_list":[],"uuid":"6f72b98d-3e78-4caa-bb6e-b2b67909c27f","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DAG","uuid":"e928d906-37c4-49d3-9e69-ad8d5d443565","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"3098acdc-5706-4707-83bb-3c87ed853563"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"SCALING","uuid":"3098acdc-5706-4707-83bb-3c87ed853563","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}],"description":"","message_list":[],"uuid":"5f04b498-f473-4e91-8b7f-4ad1ae535a9f","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ec52ddc6-bbe5-4e87-8ccd-dba5708f9b67","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"e928d906-37c4-49d3-9e69-ad8d5d443565"},"name":"SYS_GEN__Runbook_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}},{"description":"System action for scalein","message_list":[],"uuid":"61abf03b-47c8-4235-87b9-2f1ccb0c0023","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DAG","uuid":"31a2aea2-1d86-4dc6-8773-ac76e5a392fd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"c99aa9ee-44a1-4ef2-a15c-36264781f5aa"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"SCALING","uuid":"c99aa9ee-44a1-4ef2-a15c-36264781f5aa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}],"description":"","message_list":[],"uuid":"deb3c016-5550-479e-8d67-d1d7e9fd055a","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"40785566-1095-4c1b-9b45-28d41c8c41d2","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"31a2aea2-1d86-4dc6-8773-ac76e5a392fd"},"name":"SYS_GEN__Runbook_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"002120d8-9263-43c4-809e-a4c751678480","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DAG","uuid":"8d03562d-95a2-4f65-bbfc-c5f0d6112470","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"01aee3e7-5cf8-4f8a-8d52-218bc88778e9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"cb565e15-cdf1-4e62-aca1-91a4e3bbdc4a"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"11ae5cf0-6063-465d-9bca-a7e14594efb7"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"759ded3d-9d13-4c26-9606-58b6f0f2c68d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"01aee3e7-5cf8-4f8a-8d52-218bc88778e9"},"edge_type":"inherent","type":"","uuid":"ca454b61-0e81-428f-9ccc-9442db9e9216","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"cb565e15-cdf1-4e62-aca1-91a4e3bbdc4a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"cb565e15-cdf1-4e62-aca1-91a4e3bbdc4a"},"edge_type":"inherent","type":"","uuid":"38428c8d-1041-48df-802f-57b2c3d687d1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"11ae5cf0-6063-465d-9bca-a7e14594efb7"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"11ae5cf0-6063-465d-9bca-a7e14594efb7"},"edge_type":"inherent","type":"","uuid":"3a27555a-7a8b-498d-b1b0-3ae220087b49","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"759ded3d-9d13-4c26-9606-58b6f0f2c68d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"01aee3e7-5cf8-4f8a-8d52-218bc88778e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"cb565e15-cdf1-4e62-aca1-91a4e3bbdc4a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11ae5cf0-6063-465d-9bca-a7e14594efb7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"377a64fe-4496-476a-bdd1-c0baf5a7ceb3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"759ded3d-9d13-4c26-9606-58b6f0f2c68d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}],"description":"","message_list":[],"uuid":"1daf0491-cd51-4e70-8631-2502890677f0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"8d03562d-95a2-4f65-bbfc-c5f0d6112470"},"name":"SYS_GEN__Runbook_Deployment_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595","min_replicas":"1","state":"DRAFT","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"c56e12c0_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"0aa52c05-0ce6-4f0a-874f-0fbcfdad4a21","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DAG","uuid":"02aa45e8-ab96-46cc-9e62-3b8e2647fdcc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_26531584_54d0_4695_b677_a948ed17caf0","uuid":"4e227047-f453-42f0-8c8e-3e42d5fbcd81"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"aae9ab68-741b-4ae4-a281-bd38e13e92a6"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"fce340cf-7251-4d3e-9060-7ede39da8571"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"29c26119-4c65-4523-bb81-7c75d83ccf27"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1cae1192-a477-4010-98d7-7233dfce2a99"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"29c26119-4c65-4523-bb81-7c75d83ccf27"},"edge_type":"inherent","type":"","uuid":"d98c32fa-205c-43e2-a3ea-2ea64fca3136","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1cae1192-a477-4010-98d7-7233dfce2a99"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"fce340cf-7251-4d3e-9060-7ede39da8571"},"edge_type":"inherent","type":"","uuid":"9e6d0f72-24b6-4314-b3e6-9435360611ac","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"29c26119-4c65-4523-bb81-7c75d83ccf27"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_26531584_54d0_4695_b677_a948ed17caf0","uuid":"4e227047-f453-42f0-8c8e-3e42d5fbcd81"},"edge_type":"inherent","type":"","uuid":"6b827706-5495-4325-baaf-46a1fada4c3b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"aae9ab68-741b-4ae4-a281-bd38e13e92a6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"aae9ab68-741b-4ae4-a281-bd38e13e92a6"},"edge_type":"inherent","type":"","uuid":"2f86399e-e053-4c99-97b2-b337c6af2837","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"fce340cf-7251-4d3e-9060-7ede39da8571"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"4e227047-f453-42f0-8c8e-3e42d5fbcd81","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aae9ab68-741b-4ae4-a281-bd38e13e92a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"c087e99f-b008-4a3b-9c00-66de3bdf014c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fce340cf-7251-4d3e-9060-7ede39da8571","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"c1eaf6fb-1c51-43e6-bda3-177c0d229f89"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"29c26119-4c65-4523-bb81-7c75d83ccf27","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1cae1192-a477-4010-98d7-7233dfce2a99","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"4147a454-40fe-4543-b8ff-fbf867b485bf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0","uuid":"02aa45e8-ab96-46cc-9e62-3b8e2647fdcc"},"name":"SYS_GEN__Runbook_Deployment_26531584_54d0_4695_b677_a948ed17caf0"}},{"description":"System action for starting an application","message_list":[],"uuid":"b5f9bad7-50cc-48e1-8163-ba433284d4cc","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DAG","uuid":"63f162a4-ce5a-41a7-ba9f-a6c677aa853a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"d6262fdf-1cc0-4cc9-991b-a8bec88746e2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"c1e0257a-de70-4419-9451-844b1d403de2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"d6262fdf-1cc0-4cc9-991b-a8bec88746e2"},"edge_type":"inherent","type":"","uuid":"52e6415c-7440-49ed-acf4-9cc5089a891f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"c1e0257a-de70-4419-9451-844b1d403de2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d6262fdf-1cc0-4cc9-991b-a8bec88746e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"b6f6f55c-9fcc-4b58-85bc-0f842515668f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c1e0257a-de70-4419-9451-844b1d403de2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"614d7325-2bdd-4f3e-9ea1-6441b787df2c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0","uuid":"63f162a4-ce5a-41a7-ba9f-a6c677aa853a"},"name":"SYS_GEN__Runbook_Deployment_26531584_54d0_4695_b677_a948ed17caf0"}},{"description":"System action for restarting an application","message_list":[],"uuid":"ef6340ab-7fcf-4d12-a0bc-bec88a8c8e7b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DAG","uuid":"c4f3a30d-ecaa-4b69-91df-779fc2d31427","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"8804ac2a-6765-45bc-8856-259e975edbab"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1b2b953b-10d7-4418-9db1-985fb84698ef"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"8804ac2a-6765-45bc-8856-259e975edbab"},"edge_type":"inherent","type":"","uuid":"adf79817-76d3-4d72-b006-e12358f0f57e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1b2b953b-10d7-4418-9db1-985fb84698ef"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8804ac2a-6765-45bc-8856-259e975edbab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"585c23f2-ab06-4c8f-a39f-b520e69f0739"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b2b953b-10d7-4418-9db1-985fb84698ef","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"7669bb4c-df67-4866-8329-b1683600a615","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0","uuid":"c4f3a30d-ecaa-4b69-91df-779fc2d31427"},"name":"SYS_GEN__Runbook_Deployment_26531584_54d0_4695_b677_a948ed17caf0"}},{"description":"System action for stopping an application","message_list":[],"uuid":"d725309c-06e3-4819-9d6d-da5448bf45a6","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DAG","uuid":"93f5ed20-8187-4ee5-8e89-d717cfe02ff6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"2a1d51ff-0717-4193-878c-415a96e3f27b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"24f48cd4-65a7-4ff2-9106-69b57cd768db"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"2a1d51ff-0717-4193-878c-415a96e3f27b"},"edge_type":"inherent","type":"","uuid":"b6b72611-e22f-4650-b3cf-36dc3ed7fd3d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"24f48cd4-65a7-4ff2-9106-69b57cd768db"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a1d51ff-0717-4193-878c-415a96e3f27b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24f48cd4-65a7-4ff2-9106-69b57cd768db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"35886997-dd1e-4da6-8617-92b2eb39ea94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"}],"description":"","message_list":[],"uuid":"dd56b87d-e6b4-4062-8869-45e4f0a0e6e0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0","uuid":"93f5ed20-8187-4ee5-8e89-d717cfe02ff6"},"name":"SYS_GEN__Runbook_Deployment_26531584_54d0_4695_b677_a948ed17caf0"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"3e54901e-ef46-4ae0-9b9a-2ffa073efc47","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DAG","uuid":"d3fe796e-d9a5-4b7d-af33-99f901756c79","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1edcbc0f-5bd0-47f1-adaa-3f1870f1a8b6"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"fc226e45-a5a0-4b69-acbe-91e1ab51ad0c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"901f5469-0338-4a85-a4c1-113d5d230244"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"a08ae659-cdaa-4dc8-b221-38dc0710b152"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_26531584_54d0_4695_b677_a948ed17caf0","uuid":"f02b03e8-498f-475b-927e-058025b17fa8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1edcbc0f-5bd0-47f1-adaa-3f1870f1a8b6"},"edge_type":"inherent","type":"","uuid":"c47a78e6-a658-4d6d-918f-1d9e27d31f13","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"fc226e45-a5a0-4b69-acbe-91e1ab51ad0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"fc226e45-a5a0-4b69-acbe-91e1ab51ad0c"},"edge_type":"inherent","type":"","uuid":"941953c3-5dee-4959-a1f9-cb6d9ba10149","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"901f5469-0338-4a85-a4c1-113d5d230244"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"901f5469-0338-4a85-a4c1-113d5d230244"},"edge_type":"inherent","type":"","uuid":"00ee157f-63b8-4740-bccf-471c08bb84f2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"a08ae659-cdaa-4dc8-b221-38dc0710b152"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"a08ae659-cdaa-4dc8-b221-38dc0710b152"},"edge_type":"inherent","type":"","uuid":"a55c06e4-2e02-40cd-8c43-7b458755d450","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_26531584_54d0_4695_b677_a948ed17caf0","uuid":"f02b03e8-498f-475b-927e-058025b17fa8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1edcbc0f-5bd0-47f1-adaa-3f1870f1a8b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fc226e45-a5a0-4b69-acbe-91e1ab51ad0c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"901f5469-0338-4a85-a4c1-113d5d230244","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"c3b165ad-cbdf-4979-b250-e15bce5040c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a08ae659-cdaa-4dc8-b221-38dc0710b152","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"e443f446-ca33-46f7-9cbd-832ddb7ec461"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"f02b03e8-498f-475b-927e-058025b17fa8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_26531584_54d0_4695_b677_a948ed17caf0"}],"description":"","message_list":[],"uuid":"98af6194-eff1-451b-bbeb-7443dbf4da86","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0","uuid":"d3fe796e-d9a5-4b7d-af33-99f901756c79"},"name":"SYS_GEN__Runbook_Deployment_26531584_54d0_4695_b677_a948ed17caf0"}},{"description":"System action for scaleout","message_list":[],"uuid":"39ec18aa-1b7e-43b1-af42-4d71da2b202e","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DAG","uuid":"8be03b35-9273-4777-a9ef-c19f1f602884","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_26531584_54d0_4695_b677_a948ed17caf0","uuid":"28259e14-7e9c-4f39-b706-4225af00fcbc"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"SCALING","uuid":"28259e14-7e9c-4f39-b706-4225af00fcbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_26531584_54d0_4695_b677_a948ed17caf0"}],"description":"","message_list":[],"uuid":"5a59e0f8-379f-4967-a5a8-0fe941372764","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c5f1cb42-c8f2-4853-9e35-7e0d72462e24","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0","uuid":"8be03b35-9273-4777-a9ef-c19f1f602884"},"name":"SYS_GEN__Runbook_Deployment_26531584_54d0_4695_b677_a948ed17caf0"}},{"description":"System action for scalein","message_list":[],"uuid":"2463afdc-8de5-40e7-b63d-633ea6cde4e4","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DAG","uuid":"350d7d01-7450-48dd-a760-2deacd0c068c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_26531584_54d0_4695_b677_a948ed17caf0","uuid":"f89c6adf-7db9-4b3e-a947-8cbfc375590e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"SCALING","uuid":"f89c6adf-7db9-4b3e-a947-8cbfc375590e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_26531584_54d0_4695_b677_a948ed17caf0"}],"description":"","message_list":[],"uuid":"789a45db-35c1-4afa-9d73-278eef3c49e7","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"cecd377e-5354-43b5-a810-ffa08814fb3f","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0","uuid":"350d7d01-7450-48dd-a760-2deacd0c068c"},"name":"SYS_GEN__Runbook_Deployment_26531584_54d0_4695_b677_a948ed17caf0"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"243a8465-6b8b-4941-bcca-c89525735ada","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DAG","uuid":"ac9cc02b-e280-4e7a-a975-5f21e20776ce","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b8b8f034-9775-479d-ab39-06a04f63f98b"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"a7976020-575f-4f6b-b179-3d94c21d2c37"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"4450a94f-b0dc-4cb1-a5e5-90b9bd6a4ded"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_26531584_54d0_4695_b677_a948ed17caf0","uuid":"975641fe-7221-4962-9e91-9f6165663c26"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b8b8f034-9775-479d-ab39-06a04f63f98b"},"edge_type":"inherent","type":"","uuid":"080c8005-af33-439d-bcbe-3b4e43145baa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"a7976020-575f-4f6b-b179-3d94c21d2c37"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"4450a94f-b0dc-4cb1-a5e5-90b9bd6a4ded"},"edge_type":"inherent","type":"","uuid":"6be82b30-166d-4874-a35e-7dd6fcd31b44","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_26531584_54d0_4695_b677_a948ed17caf0","uuid":"975641fe-7221-4962-9e91-9f6165663c26"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"a7976020-575f-4f6b-b179-3d94c21d2c37"},"edge_type":"inherent","type":"","uuid":"b4e5f150-6249-4c22-821c-e12fac814bfb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"4450a94f-b0dc-4cb1-a5e5-90b9bd6a4ded"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b8b8f034-9775-479d-ab39-06a04f63f98b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a7976020-575f-4f6b-b179-3d94c21d2c37","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4450a94f-b0dc-4cb1-a5e5-90b9bd6a4ded","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"bdd862c0-bf5b-4ac6-b66c-130651df74e2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"975641fe-7221-4962-9e91-9f6165663c26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_26531584_54d0_4695_b677_a948ed17caf0"}],"description":"","message_list":[],"uuid":"8c3c4929-580f-4a4d-8fd7-60e7e4c18c03","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_26531584_54d0_4695_b677_a948ed17caf0","uuid":"ac9cc02b-e280-4e7a-a975-5f21e20776ce"},"name":"SYS_GEN__Runbook_Deployment_26531584_54d0_4695_b677_a948ed17caf0"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"26531584-54d0-4695-b677-a948ed17caf0","min_replicas":"1","state":"DRAFT","max_replicas":"3","depends_on_list":[],"editables":{"min_replicas":true,"max_replicas":true},"package_local_reference_list":[{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"}],"substrate_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"797414cb_deployment"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"5630c341-f748-4f09-90da-56928fb5620a","name":"Backup","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"4d33f572-4a8b-4daa-b4c2-6c1a472b9bc8","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"4cd7bfd8-6cd3-4fd6-b3b7-1f108d213586"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"966ad697_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4cd7bfd8-6cd3-4fd6-b3b7-1f108d213586","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Backup"}],"description":"","message_list":[],"uuid":"b5247a90-af99-4b29-a79b-73794cb4989e","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"76305e7c-2f7e-4915-a1bd-835ae343a14c","value":"~\/db_backup","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"966ad697_dag","uuid":"4d33f572-4a8b-4daa-b4c2-6c1a472b9bc8"},"name":"f1e44022_runbook"}},{"description":"","message_list":[],"uuid":"bf660ee2-5274-45b7-831b-226fbf7deb4e","name":"Restore","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"a06515e2-5b3f-44db-9ea0-7c2508d7288a","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"c6f93a3d-bd02-4d08-b3e2-e0b752cc8e77"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5ed684d9_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"c6f93a3d-bd02-4d08-b3e2-e0b752cc8e77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"DB Restore"}],"description":"","message_list":[],"uuid":"05866f0d-50a0-4c5b-af04-b46be974cf55","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"38c417f7-1f42-4367-8b9f-c2c134604fcb","value":"~\/db_backup\/db_dump.sql.gz","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"5ed684d9_dag","uuid":"a06515e2-5b3f-44db-9ea0-7c2508d7288a"},"name":"70027c7e_runbook"}},{"description":"","message_list":[],"uuid":"0fbfbfd4-4a5e-4992-a138-829d6f39f3a1","name":"ScaleOut","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"8a819811-aeef-4c04-8363-9b3f648c6389","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut","uuid":"96bbd7ed-6a43-44c3-b483-814cca7cc008"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"68006bbc_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"SCALING","uuid":"96bbd7ed-6a43-44c3-b483-814cca7cc008","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ScaleOut"}],"description":"","message_list":[],"uuid":"2878d1fb-aa3b-4f67-8053-071f67bc9885","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"28a0d58b-de8c-4563-a34a-b9580aa46a12","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"68006bbc_dag","uuid":"8a819811-aeef-4c04-8363-9b3f648c6389"},"name":"7b41b938_runbook"}},{"description":"","message_list":[],"uuid":"502806de-a023-4833-ae84-00cabeb04bfa","name":"ScaleIn","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"4620d08f-c4f0-4849-a1b7-02cb16c5dcd7","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"f81e52a2-3854-464d-b955-f0ba4a86bd87"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"b337ca9d_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"SCALING","uuid":"f81e52a2-3854-464d-b955-f0ba4a86bd87","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Scale In"}],"description":"","message_list":[],"uuid":"d32b87c2-037c-4794-9e3f-a810e1fc7dd0","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ab299493-dbae-42cd-911f-85cbe1484fbb","value":"1","label":"","state":"NOT_VALIDATED","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"b337ca9d_dag","uuid":"4620d08f-c4f0-4849-a1b7-02cb16c5dcd7"},"name":"c0c7671a_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"12af7c5b-33c1-4968-8104-83e7c1de1978","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"c04fb806-a32d-4e48-bc98-92727acdee5b"},"retries":"0","description":"","type":"DAG","uuid":"49cafee1-77c4-4109-a794-118ae6f02088","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_26531584_54d0_4695_b677_a948ed17caf0","uuid":"ea82ad0f-2f3a-418e-8b92-b8ab050ffb43"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"e3af4a99-8850-442f-9a3f-1fef7865b9e3"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"a4060d52-f5c3-4805-bc8f-d763ff149ba8"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"2a3eb4aa-ced1-4990-856e-54ef87c5472b"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"26e56dff-ad6d-421f-b81a-2ee4b8251d32"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"0ddf868c-235c-4f8f-8d64-f95bcbe902dd"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ba5eb534-6d6a-41d8-846d-5afe907a96a6"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"74c134d9-339e-4049-9239-314fa0f403ac"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0aa9a7c6-f7f1-476d-af42-c8f4756b9415"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0951452b-5fa2-42ea-bf49-11bb34ef15d8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0aa9a7c6-f7f1-476d-af42-c8f4756b9415"},"edge_type":"inherent","type":"","uuid":"4f358dce-76eb-4b9f-af1e-3293aeaff548","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0951452b-5fa2-42ea-bf49-11bb34ef15d8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"26e56dff-ad6d-421f-b81a-2ee4b8251d32"},"edge_type":"inherent","type":"","uuid":"4efadefe-cc56-42bc-abf5-13569bce86ad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0aa9a7c6-f7f1-476d-af42-c8f4756b9415"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_26531584_54d0_4695_b677_a948ed17caf0","uuid":"ea82ad0f-2f3a-418e-8b92-b8ab050ffb43"},"edge_type":"inherent","type":"","uuid":"28031a66-7088-4d08-b928-652b27549b19","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"2a3eb4aa-ced1-4990-856e-54ef87c5472b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"2a3eb4aa-ced1-4990-856e-54ef87c5472b"},"edge_type":"inherent","type":"","uuid":"4fe93be7-3da6-44a0-8174-58dc497e6732","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"26e56dff-ad6d-421f-b81a-2ee4b8251d32"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ba5eb534-6d6a-41d8-846d-5afe907a96a6"},"edge_type":"inherent","type":"","uuid":"a2a8f1f2-fb79-419b-a990-4a96e94a6a5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"74c134d9-339e-4049-9239-314fa0f403ac"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"0ddf868c-235c-4f8f-8d64-f95bcbe902dd"},"edge_type":"inherent","type":"","uuid":"c5f2949f-eb21-46d6-bb59-016bb2bd55d4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ba5eb534-6d6a-41d8-846d-5afe907a96a6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"a4060d52-f5c3-4805-bc8f-d763ff149ba8"},"edge_type":"inherent","type":"","uuid":"2b4ed91a-f706-42f3-af85-525a12d7541f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"0ddf868c-235c-4f8f-8d64-f95bcbe902dd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"e3af4a99-8850-442f-9a3f-1fef7865b9e3"},"edge_type":"inherent","type":"","uuid":"015138a5-89de-4774-8a4d-567b59a38972","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"a4060d52-f5c3-4805-bc8f-d763ff149ba8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"74c134d9-339e-4049-9239-314fa0f403ac"},"edge_type":"depends_on","type":"","uuid":"89732b95-b61a-448d-ab8e-5f43637b80d9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0aa9a7c6-f7f1-476d-af42-c8f4756b9415"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"ea82ad0f-2f3a-418e-8b92-b8ab050ffb43","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"e3af4a99-8850-442f-9a3f-1fef7865b9e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4060d52-f5c3-4805-bc8f-d763ff149ba8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"284a688a-34de-4343-b400-361535f7f45d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2a3eb4aa-ced1-4990-856e-54ef87c5472b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"c087e99f-b008-4a3b-9c00-66de3bdf014c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"26e56dff-ad6d-421f-b81a-2ee4b8251d32","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"c1eaf6fb-1c51-43e6-bda3-177c0d229f89"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0ddf868c-235c-4f8f-8d64-f95bcbe902dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"b8ffb18e-cb80-482f-9c24-adb081119b1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ba5eb534-6d6a-41d8-846d-5afe907a96a6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"74c134d9-339e-4049-9239-314fa0f403ac","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0aa9a7c6-f7f1-476d-af42-c8f4756b9415","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0951452b-5fa2-42ea-bf49-11bb34ef15d8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"b6fa6905-d3fe-4a5f-8dc3-24f268f703c0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b","uuid":"49cafee1-77c4-4109-a794-118ae6f02088"},"name":"SYS_GEN__Runbook_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"}},{"description":"System action for starting an application","message_list":[],"uuid":"2af40d95-79ff-4a1b-aa11-ef0825a4dae2","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"c04fb806-a32d-4e48-bc98-92727acdee5b"},"retries":"0","description":"","type":"DAG","uuid":"d1e80772-ecd1-411d-aac2-8cee6892b7e4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"5c2b5bb8-a3b2-481e-bda9-a381633a25dc"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"611ef049-1eb2-41bd-b920-73e1dd441454"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ee5d0d27-4bd5-41c2-8689-f1ec587ace84"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"65ebed5c-a180-423f-a7b8-811d41cc8b05"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"5c2b5bb8-a3b2-481e-bda9-a381633a25dc"},"edge_type":"inherent","type":"","uuid":"d8b9715e-b9e1-4ea2-af1f-8ff0cfb9bc21","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"65ebed5c-a180-423f-a7b8-811d41cc8b05"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"611ef049-1eb2-41bd-b920-73e1dd441454"},"edge_type":"inherent","type":"","uuid":"232a942d-1e43-453a-bf65-8ba7aa356849","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ee5d0d27-4bd5-41c2-8689-f1ec587ace84"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ee5d0d27-4bd5-41c2-8689-f1ec587ace84"},"edge_type":"depends_on","type":"","uuid":"0e2cc7fc-79ec-4593-99da-7a99b985496d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"65ebed5c-a180-423f-a7b8-811d41cc8b05"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5c2b5bb8-a3b2-481e-bda9-a381633a25dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"b6f6f55c-9fcc-4b58-85bc-0f842515668f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"611ef049-1eb2-41bd-b920-73e1dd441454","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"e4f45e61-5d71-4378-905a-a76f026b8dd5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ee5d0d27-4bd5-41c2-8689-f1ec587ace84","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"65ebed5c-a180-423f-a7b8-811d41cc8b05","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"125d7abc-5dfa-4ccc-bf7b-53b60f07ff78","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b","uuid":"d1e80772-ecd1-411d-aac2-8cee6892b7e4"},"name":"SYS_GEN__Runbook_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"5df0db16-09c0-49be-9511-c2baaf491289","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"c04fb806-a32d-4e48-bc98-92727acdee5b"},"retries":"0","description":"","type":"DAG","uuid":"595a4dc3-45c7-43b5-bdb2-e3ecb825ff79","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"156911ea-8fc4-476f-a6b9-382f927c81ad"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"b3db9818-7af0-4dfc-a001-8b0dad188436"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"11d4fb32-18c4-4c03-94c2-e942f0ff85b8"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"366ad814-b0d7-4ee2-a452-aa7d11acebb3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"156911ea-8fc4-476f-a6b9-382f927c81ad"},"edge_type":"inherent","type":"","uuid":"7258554e-2a6f-42ec-9960-c14b7dfd02d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"366ad814-b0d7-4ee2-a452-aa7d11acebb3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"b3db9818-7af0-4dfc-a001-8b0dad188436"},"edge_type":"inherent","type":"","uuid":"d56ad8ac-89b9-414d-b564-4fc29fa5ea0d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"11d4fb32-18c4-4c03-94c2-e942f0ff85b8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"11d4fb32-18c4-4c03-94c2-e942f0ff85b8"},"edge_type":"depends_on","type":"","uuid":"54e84788-99a4-41ac-9659-769fc896772b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"366ad814-b0d7-4ee2-a452-aa7d11acebb3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"156911ea-8fc4-476f-a6b9-382f927c81ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"585c23f2-ab06-4c8f-a39f-b520e69f0739"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b3db9818-7af0-4dfc-a001-8b0dad188436","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"128f7462-8495-4d59-b62d-9480f75bdf79"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"11d4fb32-18c4-4c03-94c2-e942f0ff85b8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"366ad814-b0d7-4ee2-a452-aa7d11acebb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"91c9d594-bfe5-4ca9-86b7-ab2dd2eafbee","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b","uuid":"595a4dc3-45c7-43b5-bdb2-e3ecb825ff79"},"name":"SYS_GEN__Runbook_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"456fb275-7429-413b-80af-3b48e4b2d490","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"c04fb806-a32d-4e48-bc98-92727acdee5b"},"retries":"0","description":"","type":"DAG","uuid":"cd3e0509-5c95-4042-9363-ee525c6cfd5f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3937bb83-3abb-47e5-8d6f-68244da47825"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"e4a94f27-a9c0-4846-b047-fa8109393f88"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"61c2ebfb-25a9-4672-8c50-9aa679f320b0"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"5d4b5c35-6943-49f4-9a2d-cdf5447036ec"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3937bb83-3abb-47e5-8d6f-68244da47825"},"edge_type":"inherent","type":"","uuid":"95b5cf62-7085-432c-8abe-f44fea315a9e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"61c2ebfb-25a9-4672-8c50-9aa679f320b0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"e4a94f27-a9c0-4846-b047-fa8109393f88"},"edge_type":"inherent","type":"","uuid":"279bc622-0cfd-40da-8b44-d8bd88047725","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"5d4b5c35-6943-49f4-9a2d-cdf5447036ec"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3937bb83-3abb-47e5-8d6f-68244da47825"},"edge_type":"depends_on","type":"","uuid":"8b40f1c1-2659-4b2e-afa6-1d64e408b52c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"e4a94f27-a9c0-4846-b047-fa8109393f88"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3937bb83-3abb-47e5-8d6f-68244da47825","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e4a94f27-a9c0-4846-b047-fa8109393f88","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"61c2ebfb-25a9-4672-8c50-9aa679f320b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"35886997-dd1e-4da6-8617-92b2eb39ea94"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5d4b5c35-6943-49f4-9a2d-cdf5447036ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"3d65e8b7-5340-4709-b849-f7c32ee9966b"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"}],"description":"","message_list":[],"uuid":"c6cb2705-08d1-4d60-8a9d-0e25faa9e085","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b","uuid":"cd3e0509-5c95-4042-9363-ee525c6cfd5f"},"name":"SYS_GEN__Runbook_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"e328ae8b-7e63-444a-8af9-3c5ec7a9cb5b","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"c04fb806-a32d-4e48-bc98-92727acdee5b"},"retries":"0","description":"","type":"DAG","uuid":"ed685a7a-11c7-426f-a700-0a0dfa1d13c1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"8f2e693e-f62f-4351-bb69-5de479fc21b4"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"94178c65-894d-4eb9-9fe6-c672fbe9be0c"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"293abe80-f415-4315-8f2d-f27b9e6c497e"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"ec5a5ed1-ca64-4852-a761-00460b2ffd4c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2cb06b75-094e-414b-bff8-faf67a57a3b2"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"fc82e5ff-2cdf-46f7-8231-7c7e7d25ac94"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_26531584_54d0_4695_b677_a948ed17caf0","uuid":"7ff38da1-207b-44ec-b74b-7c72720e57bc"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"efecfa54-f48f-4a82-a046-99ec93653127"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"5d568b42-3896-4a4a-b157-bb6042b93558"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"c85d3e7b-7ca4-4198-aae6-35cc5a566b4c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"8f2e693e-f62f-4351-bb69-5de479fc21b4"},"edge_type":"inherent","type":"","uuid":"7ec22693-d854-4ef7-9467-33524341357d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"94178c65-894d-4eb9-9fe6-c672fbe9be0c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"94178c65-894d-4eb9-9fe6-c672fbe9be0c"},"edge_type":"inherent","type":"","uuid":"4b430b27-9c06-41c8-a450-34c4b5377957","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"ec5a5ed1-ca64-4852-a761-00460b2ffd4c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"ec5a5ed1-ca64-4852-a761-00460b2ffd4c"},"edge_type":"inherent","type":"","uuid":"9b80e2be-5c0e-4464-a0e4-98262d5e7aa0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"fc82e5ff-2cdf-46f7-8231-7c7e7d25ac94"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"fc82e5ff-2cdf-46f7-8231-7c7e7d25ac94"},"edge_type":"inherent","type":"","uuid":"14593e09-dc30-46d7-9e8b-62bc4d5303e6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_26531584_54d0_4695_b677_a948ed17caf0","uuid":"7ff38da1-207b-44ec-b74b-7c72720e57bc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"293abe80-f415-4315-8f2d-f27b9e6c497e"},"edge_type":"inherent","type":"","uuid":"d9adc172-6835-434e-aee5-d462b69a8fea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2cb06b75-094e-414b-bff8-faf67a57a3b2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2cb06b75-094e-414b-bff8-faf67a57a3b2"},"edge_type":"inherent","type":"","uuid":"09abcd38-dd94-4819-a982-cac63c8ee2e0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"efecfa54-f48f-4a82-a046-99ec93653127"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"5d568b42-3896-4a4a-b157-bb6042b93558"},"edge_type":"inherent","type":"","uuid":"6c498d0b-74e0-4a8d-9be0-b73c91c61c4e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"c85d3e7b-7ca4-4198-aae6-35cc5a566b4c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"efecfa54-f48f-4a82-a046-99ec93653127"},"edge_type":"inherent","type":"","uuid":"423d7922-a10e-494e-98ad-7f8a1b74a860","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"5d568b42-3896-4a4a-b157-bb6042b93558"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"94178c65-894d-4eb9-9fe6-c672fbe9be0c"},"edge_type":"depends_on","type":"","uuid":"6987041e-ac21-4fd2-82ae-947c62c3c9a5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"293abe80-f415-4315-8f2d-f27b9e6c497e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8f2e693e-f62f-4351-bb69-5de479fc21b4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"94178c65-894d-4eb9-9fe6-c672fbe9be0c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"293abe80-f415-4315-8f2d-f27b9e6c497e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ec5a5ed1-ca64-4852-a761-00460b2ffd4c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"c3b165ad-cbdf-4979-b250-e15bce5040c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2cb06b75-094e-414b-bff8-faf67a57a3b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fc82e5ff-2cdf-46f7-8231-7c7e7d25ac94","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"e443f446-ca33-46f7-9cbd-832ddb7ec461"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"7ff38da1-207b-44ec-b74b-7c72720e57bc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"efecfa54-f48f-4a82-a046-99ec93653127","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"5d1770b6-05b9-45b8-93d6-fafc3c0b3465"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5d568b42-3896-4a4a-b157-bb6042b93558","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"75842b6b-98ac-4090-b8af-2b149019bf0d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"c85d3e7b-7ca4-4198-aae6-35cc5a566b4c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}],"description":"","message_list":[],"uuid":"553c1dc6-b43a-4c86-bad3-e2d86d9f3a00","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b","uuid":"ed685a7a-11c7-426f-a700-0a0dfa1d13c1"},"name":"SYS_GEN__Runbook_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9cde5eda-5aac-405c-83c3-f1bdfe9879b3","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Azure","uuid":"c04fb806-a32d-4e48-bc98-92727acdee5b"},"retries":"0","description":"","type":"DAG","uuid":"b6819760-89a7-4ec8-9c06-d332c5d1f03d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e9c7bfcc-18ba-4fb1-99db-d1ea2b2889a5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"d80bd9dc-4d09-4d84-a28c-9a0ab9a32f44"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9bea2539-3746-4020-a25a-924445618a93"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"59ed77f9-22fc-438e-8e27-74d3057c900c"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"130efe66-7731-4ba4-80e8-469db852130d"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_26531584_54d0_4695_b677_a948ed17caf0","uuid":"64261bff-d823-4f41-9e8e-84beace7f269"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"e03d08a2-a267-40c7-8e54-5d5994f58bdc"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"bef6e98e-81c3-411f-ab76-7a1b0191c993"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e9c7bfcc-18ba-4fb1-99db-d1ea2b2889a5"},"edge_type":"inherent","type":"","uuid":"92b400aa-2462-44c0-b4c9-f2901149de42","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"d80bd9dc-4d09-4d84-a28c-9a0ab9a32f44"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"130efe66-7731-4ba4-80e8-469db852130d"},"edge_type":"inherent","type":"","uuid":"65a5e920-0a62-4f9e-8442-47216d291b8f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_26531584_54d0_4695_b677_a948ed17caf0","uuid":"64261bff-d823-4f41-9e8e-84beace7f269"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"d80bd9dc-4d09-4d84-a28c-9a0ab9a32f44"},"edge_type":"inherent","type":"","uuid":"70da0dee-0d08-4fca-9f36-fe2284e09752","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"130efe66-7731-4ba4-80e8-469db852130d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9bea2539-3746-4020-a25a-924445618a93"},"edge_type":"inherent","type":"","uuid":"51051ca5-c5e2-4fdd-a944-ccf4f8195da1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"59ed77f9-22fc-438e-8e27-74d3057c900c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"59ed77f9-22fc-438e-8e27-74d3057c900c"},"edge_type":"inherent","type":"","uuid":"d2640fbc-b9af-4964-bc49-86bde8961c0b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"e03d08a2-a267-40c7-8e54-5d5994f58bdc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"e03d08a2-a267-40c7-8e54-5d5994f58bdc"},"edge_type":"inherent","type":"","uuid":"0418b14e-b1d0-4390-b15a-c51e2359a5d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595","uuid":"bef6e98e-81c3-411f-ab76-7a1b0191c993"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e9c7bfcc-18ba-4fb1-99db-d1ea2b2889a5"},"edge_type":"depends_on","type":"","uuid":"58d830cf-0806-45f9-81e4-1ba537046d36","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9bea2539-3746-4020-a25a-924445618a93"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e9c7bfcc-18ba-4fb1-99db-d1ea2b2889a5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"d80bd9dc-4d09-4d84-a28c-9a0ab9a32f44","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9bea2539-3746-4020-a25a-924445618a93","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"59ed77f9-22fc-438e-8e27-74d3057c900c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"130efe66-7731-4ba4-80e8-469db852130d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a","uuid":"bdd862c0-bf5b-4ac6-b66c-130651df74e2"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_97a15e6b_ac3e_40d7_8857_b0e86148de8a"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"797414cb_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"64261bff-d823-4f41-9e8e-84beace7f269","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_26531584_54d0_4695_b677_a948ed17caf0"},{"target_any_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e03d08a2-a267-40c7-8e54-5d5994f58bdc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081","uuid":"377a64fe-4496-476a-bdd1-c0baf5a7ceb3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_c8916514_da26_47dc_9369_b5a7d68ab081"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"c56e12c0_deployment","uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"bef6e98e-81c3-411f-ab76-7a1b0191c993","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_4cebe9e2_3bee_4558_ac1b_0c6eddb26595"}],"description":"","message_list":[],"uuid":"c46b747c-52a0-451f-a2a1-c9a2704a33aa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_c04fb806_a32d_4e48_bc98_92727acdee5b","uuid":"b6819760-89a7-4ec8-9c06-d332c5d1f03d"},"name":"SYS_GEN__Runbook_Application_c04fb806_a32d_4e48_bc98_92727acdee5b"}}],"message_list":[],"uuid":"c04fb806-a32d-4e48-bc98-92727acdee5b","state":"DRAFT","dependency_list":[{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_BIN","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"MYSQL_POSITION","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"},{"getter_resource_kind":"ServiceCfg","setter_resource_attr":"address","setter_resource_kind":"ServiceCfg","setter_resource_name":"MySQL_Master","action_name":"action_create","action_resource_name":"Azure","getter_resource_name":"MySQL_Slave","action_resource_kind":"ApplicationCfg"}],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[{"message":"Secret value for variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"secret"}]},{"message":"Value of secret variable is empty","reason":"EMPTY_VALUE","details":[{"attribute_name":"value"}]}],"uuid":"87e78fb1-0263-4d40-9e7a-15de61bac243","value":"","label":"","state":"ACTIVE","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"37bb68ee-21eb-4ca2-92fc-be8d79599bb5"},"type":""},"editables":{"value":true},"is_hidden":false,"type":"SECRET","options":{},"name":"MYSQL_PASSWORD"}],"name":"Azure"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"0b4ff31f-5dfb-4c5a-9aa3-85b4df201038","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"66d52cf0-4a75-47d3-add2-0fa7564193a7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"f2427000-97ad-4c49-97c1-7db4ec7f2a49"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"f2427000-97ad-4c49-97c1-7db4ec7f2a49","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"0d9cf514-d9d1-4d22-bf78-4dd46e440f20","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},{"kind":"app_task","name":"Setup MySQL","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},"edge_type":"user_defined","type":"","uuid":"30429676-b6f5-4c9a-8f51-38ef1a2bc61b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},"edge_type":"user_defined","type":"","uuid":"a7edd9c9-3af2-4f06-a92c-652e9cf236f4","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},"edge_type":"user_defined","type":"","uuid":"1a5db1be-37b5-435e-874f-2f9a00e919f4","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"c0713b61-0066-404a-a396-efd6f0ae912b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"0d9cf514-d9d1-4d22-bf78-4dd46e440f20"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"86595977-7a06-4d86-9f31-484accb74ae1","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"ffe772a5-ea02-4eda-8e89-ac566a00894b"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"EXEC","uuid":"ffe772a5-ea02-4eda-8e89-ac566a00894b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"8a592310-9aa0-4c94-a3c4-4932ca0d644e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"86595977-7a06-4d86-9f31-484accb74ae1"},"name":"4235ede6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_4bf1780c_328d_4847_8304_e7ce6ac7526e"}],"description":"","message_list":[],"uuid":"c98e876a-f06c-4750-a312-7ecd82d62e00","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"66d52cf0-4a75-47d3-add2-0fa7564193a7"},"name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}},{"description":"System action for creating an application","message_list":[],"uuid":"3c23c35d-aea9-4608-be18-f1150c200860","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"6b224f02-93f7-4880-af55-807ab586c3a8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"0b242d09-5fa1-46a9-905d-baadfe616644"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"33ff2bd3-15d0-4cc3-9c55-782e406f657f"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"de4a522d-500e-4e6b-8747-8818226ba6be"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"33ff2bd3-15d0-4cc3-9c55-782e406f657f"},"edge_type":"inherent","type":"","uuid":"00f9b23b-bffd-44b4-af51-769603e0617f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"de4a522d-500e-4e6b-8747-8818226ba6be"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"0b242d09-5fa1-46a9-905d-baadfe616644"},"edge_type":"inherent","type":"","uuid":"11075351-6af0-4248-9993-1be84bf996ea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"33ff2bd3-15d0-4cc3-9c55-782e406f657f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0b242d09-5fa1-46a9-905d-baadfe616644","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"c98e876a-f06c-4750-a312-7ecd82d62e00"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"33ff2bd3-15d0-4cc3-9c55-782e406f657f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"de4a522d-500e-4e6b-8747-8818226ba6be","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"e75f862c-bfab-4fd7-aae2-1631a5c3f3cb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"6b224f02-93f7-4880-af55-807ab586c3a8"},"name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"3ddaa9af-5ca7-4d49-896c-d1f63558b842","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"15cd6af7-08b0-45b8-9b65-6d67fea2bdf9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"a3d5545e-0275-46f9-a125-d297cc6cea14"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"a3d5545e-0275-46f9-a125-d297cc6cea14","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"0d9cf514-d9d1-4d22-bf78-4dd46e440f20","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},{"kind":"app_task","name":"Setup MySQL","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},"edge_type":"user_defined","type":"","uuid":"30429676-b6f5-4c9a-8f51-38ef1a2bc61b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},"edge_type":"user_defined","type":"","uuid":"a7edd9c9-3af2-4f06-a92c-652e9cf236f4","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},"edge_type":"user_defined","type":"","uuid":"1a5db1be-37b5-435e-874f-2f9a00e919f4","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"c0713b61-0066-404a-a396-efd6f0ae912b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"0d9cf514-d9d1-4d22-bf78-4dd46e440f20"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"86595977-7a06-4d86-9f31-484accb74ae1","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"ffe772a5-ea02-4eda-8e89-ac566a00894b"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"EXEC","uuid":"ffe772a5-ea02-4eda-8e89-ac566a00894b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"8a592310-9aa0-4c94-a3c4-4932ca0d644e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"86595977-7a06-4d86-9f31-484accb74ae1"},"name":"4235ede6_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_4bf1780c_328d_4847_8304_e7ce6ac7526e"}],"description":"","message_list":[],"uuid":"6019e846-cf43-4ded-be91-b6cfc6f8ffe3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"15cd6af7-08b0-45b8-9b65-6d67fea2bdf9"},"name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"eac51ce7-5991-47a1-9957-20f420acc6f6","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"de46791d-f35a-4c0d-b4bd-7fe8815ddf72","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a8eda48c-a0c4-4686-be2d-6a543a3b4eed"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"334caa98-dd44-4417-95bc-c50f310a1189"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"9ce6ae8c-3d4a-455d-a387-8632b3bfcdbb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a8eda48c-a0c4-4686-be2d-6a543a3b4eed"},"edge_type":"inherent","type":"","uuid":"c5a9b979-2100-4e75-807a-026380ef0454","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"334caa98-dd44-4417-95bc-c50f310a1189"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"334caa98-dd44-4417-95bc-c50f310a1189"},"edge_type":"inherent","type":"","uuid":"f283f5b5-9652-460d-b2bb-ff80279b1700","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"9ce6ae8c-3d4a-455d-a387-8632b3bfcdbb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a8eda48c-a0c4-4686-be2d-6a543a3b4eed","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"334caa98-dd44-4417-95bc-c50f310a1189","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9ce6ae8c-3d4a-455d-a387-8632b3bfcdbb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"6019e846-cf43-4ded-be91-b6cfc6f8ffe3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}],"description":"","message_list":[],"uuid":"ed2d6b6d-ca1e-4eb9-85f1-a71b91117a87","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"de46791d-f35a-4c0d-b4bd-7fe8815ddf72"},"name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"b19fe686-07f4-4424-b532-8566b863e3a0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"5440b5f1-be85-4959-9049-3d7b431a660d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9c71c857-23db-4876-84ca-d73d0dbd8cab"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"1853729d-b761-4eba-b5bc-25791d89a9e7"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9c71c857-23db-4876-84ca-d73d0dbd8cab"},"edge_type":"inherent","type":"","uuid":"bdd6a4f1-7006-4237-bb0d-60fef63c52eb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"1853729d-b761-4eba-b5bc-25791d89a9e7"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c71c857-23db-4876-84ca-d73d0dbd8cab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1853729d-b761-4eba-b5bc-25791d89a9e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_4bf1780c_328d_4847_8304_e7ce6ac7526e"}],"description":"","message_list":[],"uuid":"d803efc7-e491-479b-b4a1-45f8f340f666","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"5440b5f1-be85-4959-9049-3d7b431a660d"},"name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}},{"description":"System action for starting an application","message_list":[],"uuid":"34d14c6d-2afc-4768-8e35-4b6bc8803624","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"544d2442-72c7-444c-819f-598d7c27373d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"4993b4b1-b0c4-436a-b999-a417327c3a2e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4993b4b1-b0c4-436a-b999-a417327c3a2e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"a883f56c-f176-4b1c-8623-90fbd1df14a8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"544d2442-72c7-444c-819f-598d7c27373d"},"name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}},{"description":"System action for restarting an application","message_list":[],"uuid":"6d9171c3-b0df-4c35-9999-0592921ddbed","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"c38d46c4-aaf9-4941-b24c-96421485e971","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"2b0dcc50-3761-4e75-9127-bd44f652ac46"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2b0dcc50-3761-4e75-9127-bd44f652ac46","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"94477d53-155b-4915-b7e3-62ba37277f33","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"c38d46c4-aaf9-4941-b24c-96421485e971"},"name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b0e87acb-ee67-4095-b000-f9994ff883b3","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"94a9e4ea-398e-4402-923a-d92e787af170","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8f7cd218-6718-4c81-b0b0-ca1cdebe752b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8f7cd218-6718-4c81-b0b0-ca1cdebe752b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"b6bcdf01-13af-4719-8373-0a7a3c18d919","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e","uuid":"94a9e4ea-398e-4402-923a-d92e787af170"},"name":"SYS_GEN__Runbook_Package_4bf1780c_328d_4847_8304_e7ce6ac7526e"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"}],"uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"0d9cf514-d9d1-4d22-bf78-4dd46e440f20","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},{"kind":"app_task","name":"Setup MySQL","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},"edge_type":"user_defined","type":"","uuid":"30429676-b6f5-4c9a-8f51-38ef1a2bc61b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},"edge_type":"user_defined","type":"","uuid":"a7edd9c9-3af2-4f06-a92c-652e9cf236f4","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},"edge_type":"user_defined","type":"","uuid":"1a5db1be-37b5-435e-874f-2f9a00e919f4","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9cbec184_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"c0713b61-0066-404a-a396-efd6f0ae912b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"0d9cf514-d9d1-4d22-bf78-4dd46e440f20"},"name":"ee9a3de0_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"DAG","uuid":"86595977-7a06-4d86-9f31-484accb74ae1","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"ffe772a5-ea02-4eda-8e89-ac566a00894b"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"7e474eb1_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","description":"","type":"EXEC","uuid":"ffe772a5-ea02-4eda-8e89-ac566a00894b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"8a592310-9aa0-4c94-a3c4-4932ca0d644e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"86595977-7a06-4d86-9f31-484accb74ae1"},"name":"4235ede6_runbook"}},"variable_list":[],"name":"AHVMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"da5c1c29-da3e-4484-a65c-1fb51e2b7c80","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"218fef69-149d-4afb-b5f7-86b8bf84a3ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"72915ca8-7ccf-411b-9b0a-e63c5620b968"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"72915ca8-7ccf-411b-9b0a-e63c5620b968","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"9bfffcb4-bdc0-44aa-afc7-b122392f1b4f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},{"kind":"app_task","name":"Setup MySQL","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},"edge_type":"user_defined","type":"","uuid":"bc8c3cb0-4016-4101-80ce-1a7ec311966f","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},"edge_type":"user_defined","type":"","uuid":"309fa923-d1ab-436e-976a-e440b055614e","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},"edge_type":"user_defined","type":"","uuid":"ce3f3fe0-b5e8-4afd-8f37-d327f6c74d77","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"de00a141-3a09-446f-aae4-86c2ac394269","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"9bfffcb4-bdc0-44aa-afc7-b122392f1b4f"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"66a14873-e56a-4dbc-849e-737e3f05b16b","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"4f44bd22-5acc-48da-80ca-eb7e6ef0e994"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"EXEC","uuid":"4f44bd22-5acc-48da-80ca-eb7e6ef0e994","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"c2ba1711-484b-411c-a93e-fd3808302a2b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"66a14873-e56a-4dbc-849e-737e3f05b16b"},"name":"a4fbe7d2_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}],"description":"","message_list":[],"uuid":"19b5595c-de81-4bd9-b521-770f09d247dd","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"218fef69-149d-4afb-b5f7-86b8bf84a3ed"},"name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}},{"description":"System action for creating an application","message_list":[],"uuid":"9c1c70a6-811c-48ad-a0a9-692fb90e12f6","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"14e0a9f9-a4a4-4341-8e88-73c0c62496bf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"a1950a71-c67a-4293-a3b2-1514ef7eee3b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0461803d-cc51-46f3-8c19-914239566cff"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"cbd0f7de-aba0-4b22-9a84-def0ed71a1a3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0461803d-cc51-46f3-8c19-914239566cff"},"edge_type":"inherent","type":"","uuid":"0702bb3c-5aea-47ba-8fff-c4063f5c3375","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"cbd0f7de-aba0-4b22-9a84-def0ed71a1a3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"a1950a71-c67a-4293-a3b2-1514ef7eee3b"},"edge_type":"inherent","type":"","uuid":"32c93536-ecc2-4327-a65a-813c77c82fad","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0461803d-cc51-46f3-8c19-914239566cff"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a1950a71-c67a-4293-a3b2-1514ef7eee3b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"19b5595c-de81-4bd9-b521-770f09d247dd"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0461803d-cc51-46f3-8c19-914239566cff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cbd0f7de-aba0-4b22-9a84-def0ed71a1a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"bbbeabd1-b6c5-4002-8f55-ded31a3fde82","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"14e0a9f9-a4a4-4341-8e88-73c0c62496bf"},"name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"c4a71fc0-3b55-4ef2-a689-5539a1167b8e","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"f0d9d5b5-437b-45ae-9fcf-acfce690f9a7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"73868246-7423-4c94-bf0c-a8d283758a98"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"73868246-7423-4c94-bf0c-a8d283758a98","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"9bfffcb4-bdc0-44aa-afc7-b122392f1b4f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},{"kind":"app_task","name":"Setup MySQL","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},"edge_type":"user_defined","type":"","uuid":"bc8c3cb0-4016-4101-80ce-1a7ec311966f","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},"edge_type":"user_defined","type":"","uuid":"309fa923-d1ab-436e-976a-e440b055614e","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},"edge_type":"user_defined","type":"","uuid":"ce3f3fe0-b5e8-4afd-8f37-d327f6c74d77","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"de00a141-3a09-446f-aae4-86c2ac394269","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"9bfffcb4-bdc0-44aa-afc7-b122392f1b4f"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"66a14873-e56a-4dbc-849e-737e3f05b16b","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"4f44bd22-5acc-48da-80ca-eb7e6ef0e994"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"EXEC","uuid":"4f44bd22-5acc-48da-80ca-eb7e6ef0e994","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"c2ba1711-484b-411c-a93e-fd3808302a2b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"66a14873-e56a-4dbc-849e-737e3f05b16b"},"name":"a4fbe7d2_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}],"description":"","message_list":[],"uuid":"42e64261-f291-49ca-9d4a-d641f04cc915","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"f0d9d5b5-437b-45ae-9fcf-acfce690f9a7"},"name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"89d16a0c-82ab-4626-b9c3-eab92023ca43","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"419e1b9a-4b84-4b7b-8b77-b7c02d22e65d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3fd162ec-9766-4e5b-a1fa-cb562fcd0ae5"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"23c0faff-6f37-47be-b6a0-17d405407f68"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"31cee883-fec3-424c-93b1-3a122073b8a3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"3fd162ec-9766-4e5b-a1fa-cb562fcd0ae5"},"edge_type":"inherent","type":"","uuid":"f16e6582-d182-490e-945a-3859af663f68","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"23c0faff-6f37-47be-b6a0-17d405407f68"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"23c0faff-6f37-47be-b6a0-17d405407f68"},"edge_type":"inherent","type":"","uuid":"5ad95f25-ccdc-4bf5-864b-27b246a7f1cd","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"31cee883-fec3-424c-93b1-3a122073b8a3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3fd162ec-9766-4e5b-a1fa-cb562fcd0ae5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"23c0faff-6f37-47be-b6a0-17d405407f68","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31cee883-fec3-424c-93b1-3a122073b8a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"42e64261-f291-49ca-9d4a-d641f04cc915"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}],"description":"","message_list":[],"uuid":"826581f6-8217-48da-be89-95923eb19ebc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"419e1b9a-4b84-4b7b-8b77-b7c02d22e65d"},"name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d7bfd88e-ff80-422e-82cf-40c570e3cd04","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"2e586f29-59aa-4443-9605-bc4a607f74d0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f8b2c3ec-df98-45f6-8e45-343020b272cb"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"4dcf5369-5812-4c66-9581-4b0153683a10"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"f8b2c3ec-df98-45f6-8e45-343020b272cb"},"edge_type":"inherent","type":"","uuid":"29ecaa11-ba56-4694-9c4b-cbcbbc0ffbea","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"4dcf5369-5812-4c66-9581-4b0153683a10"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f8b2c3ec-df98-45f6-8e45-343020b272cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"4dcf5369-5812-4c66-9581-4b0153683a10","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}],"description":"","message_list":[],"uuid":"fe55cc77-276c-45da-b2d0-cb60571b895c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"2e586f29-59aa-4443-9605-bc4a607f74d0"},"name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}},{"description":"System action for starting an application","message_list":[],"uuid":"94f076b8-889e-4f33-af22-9fbaf683f615","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"27d35e40-a765-48f4-9283-47b1311c251b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"0dd89db7-aae1-4c4c-aef0-66e45880f3da"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0dd89db7-aae1-4c4c-aef0-66e45880f3da","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"7dfc6117-d485-408b-828f-fcebdd55bfaf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"27d35e40-a765-48f4-9283-47b1311c251b"},"name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"99192067-4b56-469e-af2f-248dc64983dd","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"e965957a-35e5-42e4-b809-288e10fad5d2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"b51461ef-e575-4a93-a182-f823c4686c4b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b51461ef-e575-4a93-a182-f823c4686c4b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"86e105c5-9632-415a-b645-424a4cdead7f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"e965957a-35e5-42e4-b809-288e10fad5d2"},"name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"4b728e38-e7b1-418c-af18-ce1c18ab169b","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"7c3c6a1b-4dd9-4723-afcb-aa5de00f9472","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a0fe539f-8929-4fcc-9ce0-358def124958"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a0fe539f-8929-4fcc-9ce0-358def124958","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"49231f67-d0c6-44e2-a921-6cf1856f8f84","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d","uuid":"7c3c6a1b-4dd9-4723-afcb-aa5de00f9472"},"name":"SYS_GEN__Runbook_Package_046b75e8_32ac_4c64_b0a6_c027f9f41a6d"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"}],"uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"9bfffcb4-bdc0-44aa-afc7-b122392f1b4f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},{"kind":"app_task","name":"Setup MySQL","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},"edge_type":"user_defined","type":"","uuid":"bc8c3cb0-4016-4101-80ce-1a7ec311966f","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},"edge_type":"user_defined","type":"","uuid":"309fa923-d1ab-436e-976a-e440b055614e","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},"edge_type":"user_defined","type":"","uuid":"ce3f3fe0-b5e8-4afd-8f37-d327f6c74d77","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"35a5e492_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"de00a141-3a09-446f-aae4-86c2ac394269","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"9bfffcb4-bdc0-44aa-afc7-b122392f1b4f"},"name":"db3247c6_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"DAG","uuid":"66a14873-e56a-4dbc-849e-737e3f05b16b","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"4f44bd22-5acc-48da-80ca-eb7e6ef0e994"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"53d74d7d_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","description":"","type":"EXEC","uuid":"4f44bd22-5acc-48da-80ca-eb7e6ef0e994","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"c2ba1711-484b-411c-a93e-fd3808302a2b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"66a14873-e56a-4dbc-849e-737e3f05b16b"},"name":"a4fbe7d2_runbook"}},"variable_list":[],"name":"AHVSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"45d1a053-fe06-44fd-8328-0780950e699c","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"c79704ac-3307-45b9-91cc-598d552242d1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"7883b610-b496-4fc7-9e71-10b1f1dfb632"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"7883b610-b496-4fc7-9e71-10b1f1dfb632","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"530f3b41-cd54-4819-bd67-0ae8e2bd6e8d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},{"kind":"app_task","name":"Setup MySQL","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},"edge_type":"user_defined","type":"","uuid":"111ba680-ee21-440d-be59-101a64f14a5b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},"edge_type":"user_defined","type":"","uuid":"f200b7a8-49a7-44ce-9e5d-2f7d458b7500","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},"edge_type":"user_defined","type":"","uuid":"0694744e-cd7d-48d1-87df-43f033505201","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"275ef42a-cc58-4515-8889-8e92f356992c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"530f3b41-cd54-4819-bd67-0ae8e2bd6e8d"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"5ae67a64-2f1f-4791-9fc6-6d62aad1fbf3","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"b7315f98-87d3-46a5-9aac-5559349657ba"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"EXEC","uuid":"b7315f98-87d3-46a5-9aac-5559349657ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"4ee30f68-bf94-4443-9def-cad4cdd5eee0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"5ae67a64-2f1f-4791-9fc6-6d62aad1fbf3"},"name":"97a9a9af_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_959b5269_6773_482b_8c8b_702f88e0d9e4"}],"description":"","message_list":[],"uuid":"cc1ae689-f6f9-451b-9988-970c4797d0a4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"c79704ac-3307-45b9-91cc-598d552242d1"},"name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}},{"description":"System action for creating an application","message_list":[],"uuid":"1a358188-f2db-4ff4-af61-8fba237453e4","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"6792fcf8-3621-4b3d-bbab-3c9477f4adf9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"87b361e6-6254-477f-82ed-a5c6a4735b82"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3b11fdef-cdd6-4fe9-8d91-0d884edeaea2"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3f76b394-36c5-4a15-820b-8535a75d2c91"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3b11fdef-cdd6-4fe9-8d91-0d884edeaea2"},"edge_type":"inherent","type":"","uuid":"e0b0994b-6d29-42dd-9a2f-b3be79b046ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3f76b394-36c5-4a15-820b-8535a75d2c91"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"87b361e6-6254-477f-82ed-a5c6a4735b82"},"edge_type":"inherent","type":"","uuid":"71272287-14ce-4594-802f-693b2885943f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"3b11fdef-cdd6-4fe9-8d91-0d884edeaea2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"87b361e6-6254-477f-82ed-a5c6a4735b82","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"cc1ae689-f6f9-451b-9988-970c4797d0a4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3b11fdef-cdd6-4fe9-8d91-0d884edeaea2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3f76b394-36c5-4a15-820b-8535a75d2c91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"b435e28e-5e75-457c-b853-dc148592350e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"6792fcf8-3621-4b3d-bbab-3c9477f4adf9"},"name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"ea6f8f72-6ad8-4e1f-b8fb-102d9aa7e210","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"9c8db83f-bee1-4723-bed1-ff4caa01856e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"1f7d6ead-3162-414f-8a53-4472080840f3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"1f7d6ead-3162-414f-8a53-4472080840f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"530f3b41-cd54-4819-bd67-0ae8e2bd6e8d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},{"kind":"app_task","name":"Setup MySQL","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},"edge_type":"user_defined","type":"","uuid":"111ba680-ee21-440d-be59-101a64f14a5b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},"edge_type":"user_defined","type":"","uuid":"f200b7a8-49a7-44ce-9e5d-2f7d458b7500","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},"edge_type":"user_defined","type":"","uuid":"0694744e-cd7d-48d1-87df-43f033505201","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"275ef42a-cc58-4515-8889-8e92f356992c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"530f3b41-cd54-4819-bd67-0ae8e2bd6e8d"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"5ae67a64-2f1f-4791-9fc6-6d62aad1fbf3","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"b7315f98-87d3-46a5-9aac-5559349657ba"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"EXEC","uuid":"b7315f98-87d3-46a5-9aac-5559349657ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"4ee30f68-bf94-4443-9def-cad4cdd5eee0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"5ae67a64-2f1f-4791-9fc6-6d62aad1fbf3"},"name":"97a9a9af_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_959b5269_6773_482b_8c8b_702f88e0d9e4"}],"description":"","message_list":[],"uuid":"0b4b7552-4f3a-4cf1-905e-7f59762c727d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"9c8db83f-bee1-4723-bed1-ff4caa01856e"},"name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"301e7863-422a-418c-a8d2-cb0989a6e27c","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"b82abfa9-f21d-4d9d-afde-e06cff51981a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"390331a0-1e17-4641-8d75-231fbd1a816c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8ee540b5-0ebf-43fd-a5a5-470e9b77d8e6"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"56162a3d-c333-4b0a-a2d4-533cdd23acc9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"390331a0-1e17-4641-8d75-231fbd1a816c"},"edge_type":"inherent","type":"","uuid":"b3c7ffbe-a945-4612-90e3-724d623680db","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8ee540b5-0ebf-43fd-a5a5-470e9b77d8e6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8ee540b5-0ebf-43fd-a5a5-470e9b77d8e6"},"edge_type":"inherent","type":"","uuid":"3dd34239-f014-4b5f-84fb-3d302081b36e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"56162a3d-c333-4b0a-a2d4-533cdd23acc9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"390331a0-1e17-4641-8d75-231fbd1a816c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ee540b5-0ebf-43fd-a5a5-470e9b77d8e6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"56162a3d-c333-4b0a-a2d4-533cdd23acc9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"0b4b7552-4f3a-4cf1-905e-7f59762c727d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}],"description":"","message_list":[],"uuid":"4383e12a-1eef-4d0d-80f6-6b7b1c1dfe8c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"b82abfa9-f21d-4d9d-afde-e06cff51981a"},"name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"85246b4d-e5e4-4bd2-9755-8a3d4eabfa47","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"b3010782-5950-4016-a964-664de39d961e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"c5667cd3-7022-40ce-afed-9cebeebb2f3f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"a6291501-0286-47e5-9756-3fecb70f506f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"c5667cd3-7022-40ce-afed-9cebeebb2f3f"},"edge_type":"inherent","type":"","uuid":"18ae6294-0742-47c8-97b6-b18e67c27a8c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"a6291501-0286-47e5-9756-3fecb70f506f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c5667cd3-7022-40ce-afed-9cebeebb2f3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a6291501-0286-47e5-9756-3fecb70f506f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_959b5269_6773_482b_8c8b_702f88e0d9e4"}],"description":"","message_list":[],"uuid":"aa481c12-257d-4668-805b-797dd9ee6e46","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"b3010782-5950-4016-a964-664de39d961e"},"name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}},{"description":"System action for starting an application","message_list":[],"uuid":"b1144013-6cca-4008-84fd-80d2b0fb8db2","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"dbf6c0cc-782b-4982-bcea-dfe22b68d4d1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"471d6b33-fd3e-4870-ab2f-21791e9a51cb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"471d6b33-fd3e-4870-ab2f-21791e9a51cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"b03f5639-cfe0-4bef-9817-b7298fa413ed","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"dbf6c0cc-782b-4982-bcea-dfe22b68d4d1"},"name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}},{"description":"System action for restarting an application","message_list":[],"uuid":"392c0531-79b4-4189-8962-87ae41ccd028","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"d5b69182-2569-4bd0-82f5-73f68c838bd7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8822fecd-58ad-4516-9e9f-07a6e06ab90f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8822fecd-58ad-4516-9e9f-07a6e06ab90f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"1cef499a-bef7-47a9-819f-fdd421508710","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"d5b69182-2569-4bd0-82f5-73f68c838bd7"},"name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}},{"description":"System action for stopping an application","message_list":[],"uuid":"c490cd08-4b87-4a69-9b01-bc47eb3732cf","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"f14a044c-b264-4b7a-ac41-ce7961318e20","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"af8c75a1-262b-4c25-8bbe-154cce8b950a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"af8c75a1-262b-4c25-8bbe-154cce8b950a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"ee13472b-2935-4afe-be3a-71b74ff58432","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_959b5269_6773_482b_8c8b_702f88e0d9e4","uuid":"f14a044c-b264-4b7a-ac41-ce7961318e20"},"name":"SYS_GEN__Runbook_Package_959b5269_6773_482b_8c8b_702f88e0d9e4"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"}],"uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"530f3b41-cd54-4819-bd67-0ae8e2bd6e8d","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},{"kind":"app_task","name":"Setup MySQL","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},"edge_type":"user_defined","type":"","uuid":"111ba680-ee21-440d-be59-101a64f14a5b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},"edge_type":"user_defined","type":"","uuid":"f200b7a8-49a7-44ce-9e5d-2f7d458b7500","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},"edge_type":"user_defined","type":"","uuid":"0694744e-cd7d-48d1-87df-43f033505201","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"20906fd3_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"275ef42a-cc58-4515-8889-8e92f356992c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"530f3b41-cd54-4819-bd67-0ae8e2bd6e8d"},"name":"8c0bb7c2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"DAG","uuid":"5ae67a64-2f1f-4791-9fc6-6d62aad1fbf3","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"b7315f98-87d3-46a5-9aac-5559349657ba"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"102b4b68_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","description":"","type":"EXEC","uuid":"b7315f98-87d3-46a5-9aac-5559349657ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"4ee30f68-bf94-4443-9def-cad4cdd5eee0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"5ae67a64-2f1f-4791-9fc6-6d62aad1fbf3"},"name":"97a9a9af_runbook"}},"variable_list":[],"name":"AWSMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"b5fa0408-21cf-4c5f-a20d-f65737ce8d29","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"664e03a6-da00-4a9c-9129-518e563b75b1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"cbf39f07-a00a-4333-9c04-cb45dd1a12c8"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"cbf39f07-a00a-4333-9c04-cb45dd1a12c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"488856e2-eeaf-499b-8d60-3d9ff03e19c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},{"kind":"app_task","name":"Setup MySQL","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},"edge_type":"user_defined","type":"","uuid":"dee84b28-2f7b-4aca-9774-d00c809187d5","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},"edge_type":"user_defined","type":"","uuid":"36b8d01d-06d9-4680-a3d0-7f14b7c6df67","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},"edge_type":"user_defined","type":"","uuid":"bfedc4c9-b4b4-4098-8d37-c52603619e8d","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"c4835b81-bbc4-45e2-bdec-9ac54dee9502","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"488856e2-eeaf-499b-8d60-3d9ff03e19c0"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"cb9c9fc1-7cf4-4ebd-87f7-0b8ecd0f1831","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"5107bffc-d892-494d-aa75-ee811f3cce56"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"EXEC","uuid":"5107bffc-d892-494d-aa75-ee811f3cce56","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"bc6fb91e-9748-4130-b955-6a652ffa6653","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"cb9c9fc1-7cf4-4ebd-87f7-0b8ecd0f1831"},"name":"88bbbcc1_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_6743452c_eee1_42a2_b0cb_f064b3491728"}],"description":"","message_list":[],"uuid":"92ee9f71-0cc2-4e0c-8cb6-3eb4390a1c32","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"664e03a6-da00-4a9c-9129-518e563b75b1"},"name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}},{"description":"System action for creating an application","message_list":[],"uuid":"3c2aea4d-a686-470d-a31b-6eede9d25544","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"fe13f6f2-5c0c-496a-b9e6-9d3fa47380a7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"d50a2dc4-28ab-4010-a7c8-82c33fe46eaa"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"ff40adb2-4d36-46d8-852a-ca94f7a69d66"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"58762325-c268-48a0-b53a-9ea5648688a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"ff40adb2-4d36-46d8-852a-ca94f7a69d66"},"edge_type":"inherent","type":"","uuid":"dbac2f59-81f4-46be-aac2-191a44fa8d49","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"58762325-c268-48a0-b53a-9ea5648688a4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"d50a2dc4-28ab-4010-a7c8-82c33fe46eaa"},"edge_type":"inherent","type":"","uuid":"a366ee1c-a323-478e-8389-475bf13d48b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"ff40adb2-4d36-46d8-852a-ca94f7a69d66"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d50a2dc4-28ab-4010-a7c8-82c33fe46eaa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"92ee9f71-0cc2-4e0c-8cb6-3eb4390a1c32"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ff40adb2-4d36-46d8-852a-ca94f7a69d66","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"58762325-c268-48a0-b53a-9ea5648688a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"30c879f2-23ea-4c53-8703-1f8074a3f517","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"fe13f6f2-5c0c-496a-b9e6-9d3fa47380a7"},"name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"2522d5cc-1f9c-4e4d-850a-ae4f75c0b800","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"0d7a37ac-9ecb-4ba1-964c-98fbb69a8811","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"11094df6-08f1-4eb8-891f-e887eb29ebfb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"11094df6-08f1-4eb8-891f-e887eb29ebfb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"488856e2-eeaf-499b-8d60-3d9ff03e19c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},{"kind":"app_task","name":"Setup MySQL","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},"edge_type":"user_defined","type":"","uuid":"dee84b28-2f7b-4aca-9774-d00c809187d5","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},"edge_type":"user_defined","type":"","uuid":"36b8d01d-06d9-4680-a3d0-7f14b7c6df67","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},"edge_type":"user_defined","type":"","uuid":"bfedc4c9-b4b4-4098-8d37-c52603619e8d","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"c4835b81-bbc4-45e2-bdec-9ac54dee9502","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"488856e2-eeaf-499b-8d60-3d9ff03e19c0"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"cb9c9fc1-7cf4-4ebd-87f7-0b8ecd0f1831","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"5107bffc-d892-494d-aa75-ee811f3cce56"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"EXEC","uuid":"5107bffc-d892-494d-aa75-ee811f3cce56","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"bc6fb91e-9748-4130-b955-6a652ffa6653","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"cb9c9fc1-7cf4-4ebd-87f7-0b8ecd0f1831"},"name":"88bbbcc1_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_6743452c_eee1_42a2_b0cb_f064b3491728"}],"description":"","message_list":[],"uuid":"09b67978-f74e-4a72-8c45-c5497c6990e9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"0d7a37ac-9ecb-4ba1-964c-98fbb69a8811"},"name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"63895d89-c060-40be-a0ed-0b51727a1a5f","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"f5a06f03-649c-4042-8b75-2db11656559d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1ffbc25b-9c9a-432e-8c14-da092cad723f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"ea418e3f-feeb-4325-8043-0cc64acba8b2"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"cf4f9915-613d-443a-a72f-56148600b0ad"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1ffbc25b-9c9a-432e-8c14-da092cad723f"},"edge_type":"inherent","type":"","uuid":"f4f2da14-b19a-42a4-a7e8-1891ec34dceb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"ea418e3f-feeb-4325-8043-0cc64acba8b2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"ea418e3f-feeb-4325-8043-0cc64acba8b2"},"edge_type":"inherent","type":"","uuid":"e6c3a905-5054-4554-9851-331f51f31c5a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"cf4f9915-613d-443a-a72f-56148600b0ad"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1ffbc25b-9c9a-432e-8c14-da092cad723f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ea418e3f-feeb-4325-8043-0cc64acba8b2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cf4f9915-613d-443a-a72f-56148600b0ad","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"09b67978-f74e-4a72-8c45-c5497c6990e9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}],"description":"","message_list":[],"uuid":"763b5cf9-8bf7-4d27-b633-fb5191dbd746","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"f5a06f03-649c-4042-8b75-2db11656559d"},"name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6afb12be-8ec3-4cd7-ac82-a30503940847","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"b0bdddac-6894-480c-aedb-ff7bdacf3b28","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4e811aaf-1c93-4b74-ab52-ba1ed21ef79f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"12540788-d907-4056-a3da-5517e04109d9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4e811aaf-1c93-4b74-ab52-ba1ed21ef79f"},"edge_type":"inherent","type":"","uuid":"cc18bdce-ad98-4436-a2c3-f5ddd36bc895","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"12540788-d907-4056-a3da-5517e04109d9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4e811aaf-1c93-4b74-ab52-ba1ed21ef79f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"12540788-d907-4056-a3da-5517e04109d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_6743452c_eee1_42a2_b0cb_f064b3491728"}],"description":"","message_list":[],"uuid":"85d51940-47ac-4cc0-9c0f-fea0f107bde5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"b0bdddac-6894-480c-aedb-ff7bdacf3b28"},"name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}},{"description":"System action for starting an application","message_list":[],"uuid":"6c19ba52-2d55-478f-a57b-e0166c33a060","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"f9e0a1ef-415f-4642-9348-58bb4f2f16ea","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"795a0b18-7724-4f19-9b38-b08b788d27b0"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"795a0b18-7724-4f19-9b38-b08b788d27b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"2be4e14c-9ec9-4f36-b334-c8408e3ab5da","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"f9e0a1ef-415f-4642-9348-58bb4f2f16ea"},"name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}},{"description":"System action for restarting an application","message_list":[],"uuid":"318e0c7a-0b09-4db9-9a59-cf0a04bac3d9","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"6d3fa1e3-08fc-4356-a074-b18476760e77","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"1abf07c4-dcf9-4a1c-9148-c739ee92e153"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1abf07c4-dcf9-4a1c-9148-c739ee92e153","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"73a0b92e-d2fb-440b-9e06-d932110b826c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"6d3fa1e3-08fc-4356-a074-b18476760e77"},"name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}},{"description":"System action for stopping an application","message_list":[],"uuid":"7443156b-f9fb-4b80-a1ae-abed95190649","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"db2bb48b-653c-40bc-9be5-90686b85e2c1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a4639f07-7a7a-4725-bc1f-aec479e07de1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a4639f07-7a7a-4725-bc1f-aec479e07de1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"3892a1ac-556b-4c24-a178-dd0d762924e8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_6743452c_eee1_42a2_b0cb_f064b3491728","uuid":"db2bb48b-653c-40bc-9be5-90686b85e2c1"},"name":"SYS_GEN__Runbook_Package_6743452c_eee1_42a2_b0cb_f064b3491728"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"}],"uuid":"6743452c-eee1-42a2-b0cb-f064b3491728","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"488856e2-eeaf-499b-8d60-3d9ff03e19c0","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},{"kind":"app_task","name":"Setup MySQL","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},"edge_type":"user_defined","type":"","uuid":"dee84b28-2f7b-4aca-9774-d00c809187d5","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},"edge_type":"user_defined","type":"","uuid":"36b8d01d-06d9-4680-a3d0-7f14b7c6df67","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},"edge_type":"user_defined","type":"","uuid":"bfedc4c9-b4b4-4098-8d37-c52603619e8d","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"be281c77_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"c4835b81-bbc4-45e2-bdec-9ac54dee9502","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"488856e2-eeaf-499b-8d60-3d9ff03e19c0"},"name":"c2ab2da2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"DAG","uuid":"cb9c9fc1-7cf4-4ebd-87f7-0b8ecd0f1831","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"5107bffc-d892-494d-aa75-ee811f3cce56"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"62f03f3b_dag"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","description":"","type":"EXEC","uuid":"5107bffc-d892-494d-aa75-ee811f3cce56","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageUninstallTask"}],"description":"","message_list":[],"uuid":"bc6fb91e-9748-4130-b955-6a652ffa6653","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"cb9c9fc1-7cf4-4ebd-87f7-0b8ecd0f1831"},"name":"88bbbcc1_runbook"}},"variable_list":[],"name":"AWSSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"4dbb452b-3f40-45a5-845f-8c12c3283f1b","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"DAG","uuid":"5889a792-0696-4cde-bd1b-b53a238f93bc","child_tasks_local_reference_list":[{"kind":"app_task","name":"Image Fetch task for VM","uuid":"5b89578c-f2ff-4efb-9605-a4593c3eaa0a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"SUBSTRATE_IMAGE_FETCH","uuid":"5b89578c-f2ff-4efb-9605-a4593c3eaa0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"","name":"CENTOS_74","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Image Fetch task for VM"}],"description":"","message_list":[],"uuid":"37598e6b-ce24-4be8-bbd5-9c13e8e99708","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"5889a792-0696-4cde-bd1b-b53a238f93bc"},"name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}},{"description":"System action for creating an application","message_list":[],"uuid":"c151b2cb-9722-4675-80f8-b5e4a10ba603","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"DAG","uuid":"f02d3cca-2832-4d8e-a81f-eafb52fc5a27","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"9f780ddc-92f4-46e1-b823-3c287c5ccaff"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"},{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f780ddc-92f4-46e1-b823-3c287c5ccaff","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"37598e6b-ce24-4be8-bbd5-9c13e8e99708"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}],"description":"","message_list":[],"uuid":"3f170a38-dfa3-4d1b-b9b5-c4ab39f0322f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"f02d3cca-2832-4d8e-a81f-eafb52fc5a27"},"name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}},{"description":"System action for starting an application","message_list":[],"uuid":"e7945ccf-4d44-4e92-8cad-695a7e8a3d01","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"DAG","uuid":"226a6ef0-ccfd-438d-a926-d6d32d767c03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}],"description":"","message_list":[],"uuid":"7ac8b5ee-f66c-4999-906b-704b3d615b03","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"226a6ef0-ccfd-438d-a926-d6d32d767c03"},"name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}},{"description":"System action for restarting an application","message_list":[],"uuid":"08fc8197-5274-4e77-9fe8-61b1773b1cfc","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"DAG","uuid":"8c935e07-09b7-4df9-b4ad-80580fc12d3d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}],"description":"","message_list":[],"uuid":"593ca28e-68e0-40c4-858a-d73820fadada","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"8c935e07-09b7-4df9-b4ad-80580fc12d3d"},"name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}},{"description":"System action for stopping an application","message_list":[],"uuid":"eaca90a9-c239-47a1-ae94-f00cc03443bb","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"DAG","uuid":"147a88e6-4b5e-4539-b78e-754da12250b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}],"description":"","message_list":[],"uuid":"3f167a49-b831-4189-a62e-e40fc1124a72","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"147a88e6-4b5e-4539-b78e-754da12250b1"},"name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"2e658d0a-4484-4f41-868f-719937c6e438","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"DAG","uuid":"53dc7531-f57d-4c1e-86cd-38b9a8645008","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}],"description":"","message_list":[],"uuid":"0fe42edb-01e1-4db5-8f2a-9300aeb52f94","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"53dc7531-f57d-4c1e-86cd-38b9a8645008"},"name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"08362be4-ccc8-4373-ad2b-a9428dc6c1b6","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"retries":"0","description":"","type":"DAG","uuid":"2917d174-2417-4dd4-a44a-956cdc28aaf0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}],"description":"","message_list":[],"uuid":"f8110180-0c8f-4abf-a941-f5124d8349fa","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd","uuid":"2917d174-2417-4dd4-a44a-956cdc28aaf0"},"name":"SYS_GEN__Runbook_Package_0bd95882_02ce_43c8_84c9_170d49eb84dd"}}],"message_list":[],"service_local_reference_list":[],"uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd","state":"ACTIVE","version":"","editables":{},"type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_74","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"name":"CENTOS_74"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"06649eba-4aa3-4262-be20-9c634292bd99","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"0929fc97-17b0-413a-b56c-290058d6c7ed","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"debcb7bf-ef55-4c78-9d2f-737e86a4d007"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"debcb7bf-ef55-4c78-9d2f-737e86a4d007","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"17def074-6587-4217-a342-25cbda65b521","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},{"kind":"app_task","name":"Setup MySQL","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},"edge_type":"user_defined","type":"","uuid":"e3fe256a-63b7-4fac-8b47-71117425bc3e","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},"edge_type":"user_defined","type":"","uuid":"94963e3c-d528-4449-a64a-926f4246bebf","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},"edge_type":"user_defined","type":"","uuid":"f1cf038e-82c8-4b27-b9f4-41da55af33d2","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"7b54c835-2e7e-4901-a513-6ae9a3bec61a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"17def074-6587-4217-a342-25cbda65b521"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"f6e56839-3674-4a34-9b11-30a79fb15ce2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"ec08811c-043c-4953-85d2-9f07d3bf1188","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"f6e56839-3674-4a34-9b11-30a79fb15ce2"},"name":"ea47487d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_78651a82_c9b6_4511_8b95_5db31af6a97a"}],"description":"","message_list":[],"uuid":"3bc32609-9cf2-428e-80fa-9ee8779e7eb0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"0929fc97-17b0-413a-b56c-290058d6c7ed"},"name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}},{"description":"System action for creating an application","message_list":[],"uuid":"7caa37a2-aaeb-41d6-94be-4f10547b3b8d","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"82420688-ec48-46aa-9fd2-47479544b87e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"e21e9955-b069-4c12-b0d2-00380fb19e04"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"bd2b84ec-f842-4d73-bca7-55c00b442a57"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"f52ab0fb-7318-4398-99cc-fb9ae5cfb29f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"bd2b84ec-f842-4d73-bca7-55c00b442a57"},"edge_type":"inherent","type":"","uuid":"bcb1d621-4886-461e-9a5a-41dc6e1aefaa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"f52ab0fb-7318-4398-99cc-fb9ae5cfb29f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"e21e9955-b069-4c12-b0d2-00380fb19e04"},"edge_type":"inherent","type":"","uuid":"ee6edd68-7fdb-449f-9966-5e87719235c1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"bd2b84ec-f842-4d73-bca7-55c00b442a57"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e21e9955-b069-4c12-b0d2-00380fb19e04","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"3bc32609-9cf2-428e-80fa-9ee8779e7eb0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"bd2b84ec-f842-4d73-bca7-55c00b442a57","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f52ab0fb-7318-4398-99cc-fb9ae5cfb29f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"c47974b2-49bb-4eee-829e-7f57dbb4776c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"82420688-ec48-46aa-9fd2-47479544b87e"},"name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"3f108de3-255f-472b-8bc8-28d0239a1d46","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"c4414623-5a28-4739-89ed-b5bfbad3399c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"aa747557-683f-45c0-86f7-fdd7f9eed9f6"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"aa747557-683f-45c0-86f7-fdd7f9eed9f6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"17def074-6587-4217-a342-25cbda65b521","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},{"kind":"app_task","name":"Setup MySQL","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},"edge_type":"user_defined","type":"","uuid":"e3fe256a-63b7-4fac-8b47-71117425bc3e","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},"edge_type":"user_defined","type":"","uuid":"94963e3c-d528-4449-a64a-926f4246bebf","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},"edge_type":"user_defined","type":"","uuid":"f1cf038e-82c8-4b27-b9f4-41da55af33d2","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"7b54c835-2e7e-4901-a513-6ae9a3bec61a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"17def074-6587-4217-a342-25cbda65b521"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"f6e56839-3674-4a34-9b11-30a79fb15ce2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"ec08811c-043c-4953-85d2-9f07d3bf1188","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"f6e56839-3674-4a34-9b11-30a79fb15ce2"},"name":"ea47487d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_78651a82_c9b6_4511_8b95_5db31af6a97a"}],"description":"","message_list":[],"uuid":"e8847d6e-bb88-43f7-906d-aade16af4a59","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"c4414623-5a28-4739-89ed-b5bfbad3399c"},"name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"d3ce7006-8eeb-49fb-a247-4fb466d51f01","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"32105d4d-5c77-4efe-993c-ab1cd9546b15","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"4b6fc1fd-70b8-4465-9f7c-a28dc9fcc5df"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"393c7378-7df8-4d14-b175-a4120a8d1197"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"12f8a495-f461-420e-b738-aa9fef6b1b73"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"4b6fc1fd-70b8-4465-9f7c-a28dc9fcc5df"},"edge_type":"inherent","type":"","uuid":"4f9003e0-051c-4250-801a-a79ce91b8239","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"393c7378-7df8-4d14-b175-a4120a8d1197"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"393c7378-7df8-4d14-b175-a4120a8d1197"},"edge_type":"inherent","type":"","uuid":"1dad804e-b1bc-40b4-89da-6065e6d0aacc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"12f8a495-f461-420e-b738-aa9fef6b1b73"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4b6fc1fd-70b8-4465-9f7c-a28dc9fcc5df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"393c7378-7df8-4d14-b175-a4120a8d1197","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"12f8a495-f461-420e-b738-aa9fef6b1b73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"e8847d6e-bb88-43f7-906d-aade16af4a59"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}],"description":"","message_list":[],"uuid":"64c4d748-c04c-4fdf-a3b1-914811e66eec","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"32105d4d-5c77-4efe-993c-ab1cd9546b15"},"name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c395bde7-381c-4905-aa89-4255b2ce5a4d","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"1ccbf927-8326-4a0a-a234-dce55dc1664d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"e0a9e9e7-dd7b-4e4d-9de8-08fd41829288"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"2b9096d8-21b1-470f-aea9-f61ec40f57ae"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"e0a9e9e7-dd7b-4e4d-9de8-08fd41829288"},"edge_type":"inherent","type":"","uuid":"5b628ae7-3acb-49e9-aca0-6de07a706e2f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"2b9096d8-21b1-470f-aea9-f61ec40f57ae"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0a9e9e7-dd7b-4e4d-9de8-08fd41829288","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"2b9096d8-21b1-470f-aea9-f61ec40f57ae","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_78651a82_c9b6_4511_8b95_5db31af6a97a"}],"description":"","message_list":[],"uuid":"1599fc28-1efd-4802-8839-06d57bdecb59","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"1ccbf927-8326-4a0a-a234-dce55dc1664d"},"name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}},{"description":"System action for starting an application","message_list":[],"uuid":"276ab0fa-7d27-477d-9491-68a914581b3f","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"82a8607f-daa2-4e4d-a78a-908cc30fad58","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"eff63ef3-a8a7-4592-81d9-7e2b1a45f606"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eff63ef3-a8a7-4592-81d9-7e2b1a45f606","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"7a2f0648-fe47-4036-8c2e-ca69f08014d2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"82a8607f-daa2-4e4d-a78a-908cc30fad58"},"name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"5120ee0b-4dbb-4221-97ca-09d0893f826b","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"827d13f9-2c1a-4770-a0c9-51ed20b52cd2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"ed3e6821-eb7a-4512-9baf-0827f56d4783"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ed3e6821-eb7a-4512-9baf-0827f56d4783","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"ce59dbd7-84bc-49d6-914c-21d51067591b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"827d13f9-2c1a-4770-a0c9-51ed20b52cd2"},"name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}},{"description":"System action for stopping an application","message_list":[],"uuid":"70401308-ae66-487f-a546-ab7e90148454","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"86c53f05-b3a5-4342-90d7-0b41a6c067e2","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"6844b0bc-e71f-4e40-b720-89051d923547"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6844b0bc-e71f-4e40-b720-89051d923547","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"06bff5ea-e49e-40dc-b266-581be64536a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_78651a82_c9b6_4511_8b95_5db31af6a97a","uuid":"86c53f05-b3a5-4342-90d7-0b41a6c067e2"},"name":"SYS_GEN__Runbook_Package_78651a82_c9b6_4511_8b95_5db31af6a97a"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"}],"uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"17def074-6587-4217-a342-25cbda65b521","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},{"kind":"app_task","name":"Setup MySQL","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},"edge_type":"user_defined","type":"","uuid":"e3fe256a-63b7-4fac-8b47-71117425bc3e","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},"edge_type":"user_defined","type":"","uuid":"94963e3c-d528-4449-a64a-926f4246bebf","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},"edge_type":"user_defined","type":"","uuid":"f1cf038e-82c8-4b27-b9f4-41da55af33d2","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d13a100f_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"7b54c835-2e7e-4901-a513-6ae9a3bec61a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"17def074-6587-4217-a342-25cbda65b521"},"name":"267c96d2_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","description":"","type":"DAG","uuid":"f6e56839-3674-4a34-9b11-30a79fb15ce2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"01fe868d_dag"}],"description":"","message_list":[],"uuid":"ec08811c-043c-4953-85d2-9f07d3bf1188","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"f6e56839-3674-4a34-9b11-30a79fb15ce2"},"name":"ea47487d_runbook"}},"variable_list":[],"name":"GCPMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"fb4535ed-d105-4ac9-b511-a17807142059","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"7a838665-6a76-46ff-959d-32fd851b1aea","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"8368067e-9c4c-46d7-bcfe-5497860ad93a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"8368067e-9c4c-46d7-bcfe-5497860ad93a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"439d0db2-97aa-44c1-9926-88188d6891af","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},{"kind":"app_task","name":"Setup MySQL","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},"edge_type":"user_defined","type":"","uuid":"ee8bd1f0-779c-4bf7-946b-b173cfd1680a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},"edge_type":"user_defined","type":"","uuid":"9f558276-07cc-4c7c-b56b-7fc32021fc1f","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},"edge_type":"user_defined","type":"","uuid":"c571c8ed-b5ef-4092-99b0-3587e0b1649c","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"6ca3e651-5470-4696-8fea-3d881843576f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"5a5b873a-cf31-46cb-ae96-7ede297b5db2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"439d0db2-97aa-44c1-9926-88188d6891af"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"612fbd87-bdb2-47e5-9954-92bf7277ded3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"f62adf6c-19c8-4ee8-a140-71f8eb3612d9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"612fbd87-bdb2-47e5-9954-92bf7277ded3"},"name":"22dbbe31_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}],"description":"","message_list":[],"uuid":"770f4536-a804-4812-af60-315f7a77093a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"7a838665-6a76-46ff-959d-32fd851b1aea"},"name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}},{"description":"System action for creating an application","message_list":[],"uuid":"a2ba20ac-de6b-4a11-b6c5-3bc1e9a8a1d8","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"343869b6-2aa5-4677-9f57-be931edbff31","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"1a2e72f5-8049-41a7-b9cb-fc4172f7916e"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"5ac5c49c-ae8e-4029-89ed-95028586d074"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4c1c3a07-a4f2-4df5-a76e-3802377827a3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"5ac5c49c-ae8e-4029-89ed-95028586d074"},"edge_type":"inherent","type":"","uuid":"c5f93854-fef6-43f6-a7ff-b42df389f3b9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"4c1c3a07-a4f2-4df5-a76e-3802377827a3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"1a2e72f5-8049-41a7-b9cb-fc4172f7916e"},"edge_type":"inherent","type":"","uuid":"0fb9ae0f-14da-4f0c-b357-350a9d45743f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"5ac5c49c-ae8e-4029-89ed-95028586d074"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1a2e72f5-8049-41a7-b9cb-fc4172f7916e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"770f4536-a804-4812-af60-315f7a77093a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5ac5c49c-ae8e-4029-89ed-95028586d074","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4c1c3a07-a4f2-4df5-a76e-3802377827a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"53b77a8d-80dc-4449-b499-0f3f55ef1be5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"343869b6-2aa5-4677-9f57-be931edbff31"},"name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"ec8ff530-d00f-4e2d-9377-38090cad9b22","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"2daadc7f-b244-428f-b7fe-ef327eabf0d8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"34e4ffce-f73f-4c69-85d4-9d0043d1650b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"34e4ffce-f73f-4c69-85d4-9d0043d1650b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"439d0db2-97aa-44c1-9926-88188d6891af","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},{"kind":"app_task","name":"Setup MySQL","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},"edge_type":"user_defined","type":"","uuid":"ee8bd1f0-779c-4bf7-946b-b173cfd1680a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},"edge_type":"user_defined","type":"","uuid":"9f558276-07cc-4c7c-b56b-7fc32021fc1f","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},"edge_type":"user_defined","type":"","uuid":"c571c8ed-b5ef-4092-99b0-3587e0b1649c","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"6ca3e651-5470-4696-8fea-3d881843576f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"5a5b873a-cf31-46cb-ae96-7ede297b5db2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"439d0db2-97aa-44c1-9926-88188d6891af"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"612fbd87-bdb2-47e5-9954-92bf7277ded3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"f62adf6c-19c8-4ee8-a140-71f8eb3612d9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"612fbd87-bdb2-47e5-9954-92bf7277ded3"},"name":"22dbbe31_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}],"description":"","message_list":[],"uuid":"d83532c4-742b-42d0-bb6d-34d047002bce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"2daadc7f-b244-428f-b7fe-ef327eabf0d8"},"name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a360af7f-f9d1-4835-ab5f-94cbe1d751fe","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"695e9fff-a7b0-4e42-8896-480b526a1727","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"fb72ef77-d63c-4953-8066-2b8a3b4f1d8e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d95db747-2f5e-4048-bfd4-ded0bc6107a1"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"77200497-dc0e-4bf9-843a-0b8a57af6dc2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"fb72ef77-d63c-4953-8066-2b8a3b4f1d8e"},"edge_type":"inherent","type":"","uuid":"c0c8c2ee-36e4-4b68-8a40-852cb0227d78","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d95db747-2f5e-4048-bfd4-ded0bc6107a1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"d95db747-2f5e-4048-bfd4-ded0bc6107a1"},"edge_type":"inherent","type":"","uuid":"c32ea225-406a-45ca-992d-71a8f9a5b32e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"77200497-dc0e-4bf9-843a-0b8a57af6dc2"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fb72ef77-d63c-4953-8066-2b8a3b4f1d8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d95db747-2f5e-4048-bfd4-ded0bc6107a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77200497-dc0e-4bf9-843a-0b8a57af6dc2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"d83532c4-742b-42d0-bb6d-34d047002bce"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}],"description":"","message_list":[],"uuid":"eb3686be-4d0b-44e3-89eb-2a13327426fc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"695e9fff-a7b0-4e42-8896-480b526a1727"},"name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"5474aeec-1a47-4a0f-b119-84fb5cd77a3e","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"8b6a3e4b-f45d-4ce0-8ab1-94ec374a0bc9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"7b626bb1-3749-4ce0-9e60-aa6247f162f0"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"0330d8c4-ccda-42bc-a675-9bfe7613615e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"7b626bb1-3749-4ce0-9e60-aa6247f162f0"},"edge_type":"inherent","type":"","uuid":"df035f0a-4d7a-44cc-9014-dab7afc20712","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"0330d8c4-ccda-42bc-a675-9bfe7613615e"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7b626bb1-3749-4ce0-9e60-aa6247f162f0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"0330d8c4-ccda-42bc-a675-9bfe7613615e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}],"description":"","message_list":[],"uuid":"186021cd-6355-4ee2-b9a0-38b77b786fbe","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"8b6a3e4b-f45d-4ce0-8ab1-94ec374a0bc9"},"name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}},{"description":"System action for starting an application","message_list":[],"uuid":"d756b832-03d7-42f1-adbf-c048b7f714ff","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"541ecfdd-241d-45d5-b302-ebb5747111a7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"e81cd58d-9f69-48c0-9072-25c3c6fbdde3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e81cd58d-9f69-48c0-9072-25c3c6fbdde3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"ee960bc2-ac80-446c-98b8-88bb1d979a6f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"541ecfdd-241d-45d5-b302-ebb5747111a7"},"name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}},{"description":"System action for restarting an application","message_list":[],"uuid":"253a87cc-5d5f-456c-8847-945d5d9ccd51","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"69707a29-2d83-4154-8d84-46b55c2fa6ef","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"7c165bcd-bf2e-4dbf-92a0-55c59228c16f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7c165bcd-bf2e-4dbf-92a0-55c59228c16f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"7d5c443f-8b83-4258-bb93-7d6ece588b55","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"69707a29-2d83-4154-8d84-46b55c2fa6ef"},"name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}},{"description":"System action for stopping an application","message_list":[],"uuid":"794316c3-b7c7-46b3-8ae0-2b28b825a61a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"111c8ac7-cf21-4937-81b7-b5ef674d46e1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"04a3a5ce-c3a8-4c4a-9c25-a751df860536"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"04a3a5ce-c3a8-4c4a-9c25-a751df860536","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"45dc0d96-6899-43c4-b7d7-cc4530dfc0d2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb","uuid":"111c8ac7-cf21-4937-81b7-b5ef674d46e1"},"name":"SYS_GEN__Runbook_Package_992f89b0_5ef2_408e_aa62_032c22b8f8eb"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"}],"uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"439d0db2-97aa-44c1-9926-88188d6891af","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},{"kind":"app_task","name":"Setup MySQL","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},"edge_type":"user_defined","type":"","uuid":"ee8bd1f0-779c-4bf7-946b-b173cfd1680a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},"edge_type":"user_defined","type":"","uuid":"9f558276-07cc-4c7c-b56b-7fc32021fc1f","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},"edge_type":"user_defined","type":"","uuid":"c571c8ed-b5ef-4092-99b0-3587e0b1649c","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"eefb69f6_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install  System Packages"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Create Disk Setup"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"6ca3e651-5470-4696-8fea-3d881843576f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Install MySQL"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Setup MySQL"}],"description":"","message_list":[],"uuid":"5a5b873a-cf31-46cb-ae96-7ede297b5db2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"439d0db2-97aa-44c1-9926-88188d6891af"},"name":"7f65f668_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","description":"","type":"DAG","uuid":"612fbd87-bdb2-47e5-9954-92bf7277ded3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"9607e515_dag"}],"description":"","message_list":[],"uuid":"f62adf6c-19c8-4ee8-a140-71f8eb3612d9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"612fbd87-bdb2-47e5-9954-92bf7277ded3"},"name":"22dbbe31_runbook"}},"variable_list":[],"name":"GCPSlavePackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"1b5567d6-9705-42ac-ab03-55e6ca475f4b","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"1e66981f-7186-4e93-ad5d-84ffb2b6464e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"225d058b-9226-496f-80c7-b22005b3b68f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"225d058b-9226-496f-80c7-b22005b3b68f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"8e6b62c8-6751-4c43-bc38-e9c5d78fdd93","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"8842812c-d425-4ddb-bde3-c9846d31e588"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"8842812c-d425-4ddb-bde3-c9846d31e588","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"654fd1ec-6985-464c-9d6f-212955ed3f9c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"8e6b62c8-6751-4c43-bc38-e9c5d78fdd93"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"95281a19-1ee8-4a42-b0ac-2dde5df574f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"89d935b1-0922-46e2-96d4-da5715ff9cb2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"95281a19-1ee8-4a42-b0ac-2dde5df574f7"},"name":"a58212c8_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_e70dc140_8107_41ef_80ff_84d35ffa73da"}],"description":"","message_list":[],"uuid":"b8ffb18e-cb80-482f-9c24-adb081119b1e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"1e66981f-7186-4e93-ad5d-84ffb2b6464e"},"name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}},{"description":"System action for creating an application","message_list":[],"uuid":"a9879d60-9c5b-4b5f-98df-5422890af947","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"6c4f796f-8b9a-4f32-b91c-6f6084365610","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"8f83488f-c8b2-46e7-8537-3308ff9dfb52"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a06b94b0-5823-44c4-a268-eceb57f621cd"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9b33fd85-ee04-4f17-84ab-b22470a25d98"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a06b94b0-5823-44c4-a268-eceb57f621cd"},"edge_type":"inherent","type":"","uuid":"ecddc913-1499-4413-bb89-79a8c36fd82c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"9b33fd85-ee04-4f17-84ab-b22470a25d98"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"8f83488f-c8b2-46e7-8537-3308ff9dfb52"},"edge_type":"inherent","type":"","uuid":"e16fddbc-7f59-4a60-9d60-a267692bccbb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"a06b94b0-5823-44c4-a268-eceb57f621cd"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8f83488f-c8b2-46e7-8537-3308ff9dfb52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"b8ffb18e-cb80-482f-9c24-adb081119b1e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a06b94b0-5823-44c4-a268-eceb57f621cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0a970522_runbook","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9b33fd85-ee04-4f17-84ab-b22470a25d98","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"e426c341-06e0-4975-a5fc-af08667fecf5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"6c4f796f-8b9a-4f32-b91c-6f6084365610"},"name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"83fc1273-dd49-40af-9358-69080037931b","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"c057ac8a-8763-44c2-aad1-807b48d7c303","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"63b1f981-9237-481c-875c-6934e13e3392"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"63b1f981-9237-481c-875c-6934e13e3392","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"8e6b62c8-6751-4c43-bc38-e9c5d78fdd93","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"8842812c-d425-4ddb-bde3-c9846d31e588"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"8842812c-d425-4ddb-bde3-c9846d31e588","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"654fd1ec-6985-464c-9d6f-212955ed3f9c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"8e6b62c8-6751-4c43-bc38-e9c5d78fdd93"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"95281a19-1ee8-4a42-b0ac-2dde5df574f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"89d935b1-0922-46e2-96d4-da5715ff9cb2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"95281a19-1ee8-4a42-b0ac-2dde5df574f7"},"name":"a58212c8_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_e70dc140_8107_41ef_80ff_84d35ffa73da"}],"description":"","message_list":[],"uuid":"5d1770b6-05b9-45b8-93d6-fafc3c0b3465","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"c057ac8a-8763-44c2-aad1-807b48d7c303"},"name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"33ad6e11-a35c-4ea1-9e3a-b45a6db7e41e","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"4773ffa0-ebff-45f0-8b40-37e2e4e1e351","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8ee7cb97-208f-4f87-8f13-d560473b1b29"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"664ff18c-da61-413d-a0cf-b55bb3ca03b6"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"8dd115b0-ae03-4543-bd58-4568ae7981ec"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"8ee7cb97-208f-4f87-8f13-d560473b1b29"},"edge_type":"inherent","type":"","uuid":"53b00266-603d-4d54-8bf5-6384476f1365","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"664ff18c-da61-413d-a0cf-b55bb3ca03b6"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"664ff18c-da61-413d-a0cf-b55bb3ca03b6"},"edge_type":"inherent","type":"","uuid":"5179d159-dc18-4a01-a272-4f88b6d86120","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"8dd115b0-ae03-4543-bd58-4568ae7981ec"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ee7cb97-208f-4f87-8f13-d560473b1b29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"664ff18c-da61-413d-a0cf-b55bb3ca03b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5fd47ec3_runbook","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8dd115b0-ae03-4543-bd58-4568ae7981ec","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"5d1770b6-05b9-45b8-93d6-fafc3c0b3465"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}],"description":"","message_list":[],"uuid":"157bed34-2ab8-46a9-aa1f-3b70ccb81ccc","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"4773ffa0-ebff-45f0-8b40-37e2e4e1e351"},"name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"c3316d14-8a6a-462d-a51e-918adb0fa2be","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"ec81ef2c-ec30-4f4a-953c-08eab92dbaf7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"42bc57f3-c7d1-453f-a26e-7db28e54db8e"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"1bea5787-178a-4a0c-9ea1-0e5a69895b70"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"42bc57f3-c7d1-453f-a26e-7db28e54db8e"},"edge_type":"inherent","type":"","uuid":"f0482ffa-9d38-4fc6-8524-d82e7941f6a1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"1bea5787-178a-4a0c-9ea1-0e5a69895b70"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"42bc57f3-c7d1-453f-a26e-7db28e54db8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"d85387be-5ff5-4f3b-b1c4-55870faad67a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"},{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1bea5787-178a-4a0c-9ea1-0e5a69895b70","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_e70dc140_8107_41ef_80ff_84d35ffa73da"}],"description":"","message_list":[],"uuid":"590286fb-77f7-430e-9aff-85b07a227f5c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"ec81ef2c-ec30-4f4a-953c-08eab92dbaf7"},"name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}},{"description":"System action for starting an application","message_list":[],"uuid":"8576a92b-b8f8-4cf7-92de-bc0cc48d8129","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"935a9f38-5567-4dab-a321-c343c1d9bb76","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"7f00cd3a-3dd5-49f0-94bf-6d7484a0b08d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7f00cd3a-3dd5-49f0-94bf-6d7484a0b08d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"5ddb28d1_runbook","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"95d88ba1-64db-48f6-92cd-784d5c3b62f8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"935a9f38-5567-4dab-a321-c343c1d9bb76"},"name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}},{"description":"System action for restarting an application","message_list":[],"uuid":"30d42101-a797-4b05-a748-c8f23a751e35","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"41ef7400-3812-42d7-a1ec-dfae40bd7d18","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"03fe30a9-7e9d-439e-a791-62f18718ebb2"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"03fe30a9-7e9d-439e-a791-62f18718ebb2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"7e709238_runbook","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"dbb93340-e2c6-4b6a-9189-7828abd20b2a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"41ef7400-3812-42d7-a1ec-dfae40bd7d18"},"name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}},{"description":"System action for stopping an application","message_list":[],"uuid":"a80ee646-e8b7-496b-acca-efa323286ed9","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"244555a5-8f7c-412c-b8f5-b7bc2945d5c7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba","uuid":"93274918-28ea-483f-9b24-b7ca5b585352"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"93274918-28ea-483f-9b24-b7ca5b585352","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"0aefbca3_runbook","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_6caa9df5_5729_4c18_b137_f5aca0a9f1ba"}],"description":"","message_list":[],"uuid":"4327b32b-4598-4d91-a5a3-c3abc385b553","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_e70dc140_8107_41ef_80ff_84d35ffa73da","uuid":"244555a5-8f7c-412c-b8f5-b7bc2945d5c7"},"name":"SYS_GEN__Runbook_Package_e70dc140_8107_41ef_80ff_84d35ffa73da"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"}],"uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"8e6b62c8-6751-4c43-bc38-e9c5d78fdd93","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"8842812c-d425-4ddb-bde3-c9846d31e588"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"ff59932a_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","description":"","type":"EXEC","uuid":"8842812c-d425-4ddb-bde3-c9846d31e588","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"654fd1ec-6985-464c-9d6f-212955ed3f9c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"8e6b62c8-6751-4c43-bc38-e9c5d78fdd93"},"name":"10654624_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","description":"","type":"DAG","uuid":"95281a19-1ee8-4a42-b0ac-2dde5df574f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"5495194c_dag"}],"description":"","message_list":[],"uuid":"89d935b1-0922-46e2-96d4-da5715ff9cb2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"95281a19-1ee8-4a42-b0ac-2dde5df574f7"},"name":"a58212c8_runbook"}},"variable_list":[],"name":"AzureMasterPackage"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"63569a49-9e26-4fa8-8f3d-8ac2f4ae4bfb","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"510fa38d-a933-4c9f-8511-ffb978390cc0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"2dfce59e-1b17-41ba-8143-2e9dceb7de12"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"2dfce59e-1b17-41ba-8143-2e9dceb7de12","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"4d5f7df7-21b4-4a09-9a6c-5ab1bcd74dd4","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"90ef1e18-7b52-4080-835f-e35ca25b8eb7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"90ef1e18-7b52-4080-835f-e35ca25b8eb7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"e8faa95b-cb91-4ae8-9531-f8fedd79e08d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"4d5f7df7-21b4-4a09-9a6c-5ab1bcd74dd4"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"e24fbae0-147c-411f-8735-5e7f9923eeb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"b20edbfa-3c65-4fce-adbd-1368fd151b7c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"e24fbae0-147c-411f-8735-5e7f9923eeb3"},"name":"dab6a81d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_b6a060ac_e7eb_43a9_9031_1bb910679679"}],"description":"","message_list":[],"uuid":"c1eaf6fb-1c51-43e6-bda3-177c0d229f89","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"510fa38d-a933-4c9f-8511-ffb978390cc0"},"name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}},{"description":"System action for creating an application","message_list":[],"uuid":"577f8675-bcef-4323-957d-920417bc9f3a","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"b0b85bca-cb1d-4b9b-a8b6-4066735da456","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"8a6d2524-abfc-4dc8-95a3-59bd6be3e0fa"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"2bd918ac-177c-4495-9494-1a9457451248"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"719f964f-0be3-4586-9160-5b084175770f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"2bd918ac-177c-4495-9494-1a9457451248"},"edge_type":"inherent","type":"","uuid":"747ee553-fbff-4b29-ad3e-909747695e72","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"719f964f-0be3-4586-9160-5b084175770f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"8a6d2524-abfc-4dc8-95a3-59bd6be3e0fa"},"edge_type":"inherent","type":"","uuid":"355ad58e-0e34-4ecb-ad67-f181d2cba708","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"2bd918ac-177c-4495-9494-1a9457451248"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8a6d2524-abfc-4dc8-95a3-59bd6be3e0fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"c1eaf6fb-1c51-43e6-bda3-177c0d229f89"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2bd918ac-177c-4495-9494-1a9457451248","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"d54168c9_runbook","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"719f964f-0be3-4586-9160-5b084175770f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"eae5d0fb-62d8-44b9-ba24-526914223761","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"b0b85bca-cb1d-4b9b-a8b6-4066735da456"},"name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"60c0095a-56bd-4993-867f-a104074e44a7","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"100ec439-9719-4f47-9d1b-0d0035b7e23d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"69a5fd60-c5c9-4460-b20b-84bdbd8f71b3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"69a5fd60-c5c9-4460-b20b-84bdbd8f71b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"4d5f7df7-21b4-4a09-9a6c-5ab1bcd74dd4","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"90ef1e18-7b52-4080-835f-e35ca25b8eb7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"90ef1e18-7b52-4080-835f-e35ca25b8eb7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"e8faa95b-cb91-4ae8-9531-f8fedd79e08d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"4d5f7df7-21b4-4a09-9a6c-5ab1bcd74dd4"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"e24fbae0-147c-411f-8735-5e7f9923eeb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"b20edbfa-3c65-4fce-adbd-1368fd151b7c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"e24fbae0-147c-411f-8735-5e7f9923eeb3"},"name":"dab6a81d_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_b6a060ac_e7eb_43a9_9031_1bb910679679"}],"description":"","message_list":[],"uuid":"c3b165ad-cbdf-4979-b250-e15bce5040c8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"100ec439-9719-4f47-9d1b-0d0035b7e23d"},"name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"cfb3fba7-aa16-411a-aef0-354f2b5cbf1d","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"a8081098-3457-4924-8d6b-561f5119ce94","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"31d2cbf8-0a47-4a12-900e-8d8b91e44333"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a677d21d-c14a-452c-ab2f-94748e96536f"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"77361c5e-fb12-45ce-9308-99c137f2e4b3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"31d2cbf8-0a47-4a12-900e-8d8b91e44333"},"edge_type":"inherent","type":"","uuid":"406e6aff-fbf5-4397-aa68-73ec896bd873","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a677d21d-c14a-452c-ab2f-94748e96536f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"a677d21d-c14a-452c-ab2f-94748e96536f"},"edge_type":"inherent","type":"","uuid":"aeb45147-97b1-405c-b3de-6607255f3413","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"77361c5e-fb12-45ce-9308-99c137f2e4b3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"31d2cbf8-0a47-4a12-900e-8d8b91e44333","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a677d21d-c14a-452c-ab2f-94748e96536f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"92247e35_runbook","uuid":"9655aee0-4d89-4777-886f-0113b1879d12"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"77361c5e-fb12-45ce-9308-99c137f2e4b3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"c3b165ad-cbdf-4979-b250-e15bce5040c8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}],"description":"","message_list":[],"uuid":"3fdd4ea9-ee0b-4c8d-84a7-80a4e9ae1fb8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"a8081098-3457-4924-8d6b-561f5119ce94"},"name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"3955e71d-98d3-4386-8138-5c55d3febc9a","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"f1defe4a-12dc-4a6f-904e-da345551ab89","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"aa4ff74d-66a8-4687-8887-e5c8f0f6680f"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"1ec2fedd-a236-49ad-bd0d-2183841a2dda"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"aa4ff74d-66a8-4687-8887-e5c8f0f6680f"},"edge_type":"inherent","type":"","uuid":"52e93ef8-f746-4fa0-97d9-1cc3950dd5b6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"1ec2fedd-a236-49ad-bd0d-2183841a2dda"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa4ff74d-66a8-4687-8887-e5c8f0f6680f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"bddd11ed-8b80-47f7-a53f-b31045bf9dcc"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"},{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1ec2fedd-a236-49ad-bd0d-2183841a2dda","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b6a060ac_e7eb_43a9_9031_1bb910679679"}],"description":"","message_list":[],"uuid":"94d8358d-6985-443a-ba66-c1797469a28f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"f1defe4a-12dc-4a6f-904e-da345551ab89"},"name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}},{"description":"System action for starting an application","message_list":[],"uuid":"04ef97e9-665b-4c7c-a342-fa1702cce5c4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"c026c2ba-fc6b-4798-b77f-b10a9278c8a6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"2f8b537f-0ddf-4a00-870f-928f1ed5c18c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"2f8b537f-0ddf-4a00-870f-928f1ed5c18c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"a027cde0_runbook","uuid":"cf047020-ab75-4112-9ebe-4c127d658926"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"8346e236-dea1-4ffd-b9cd-51b73c9a3d41","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"c026c2ba-fc6b-4798-b77f-b10a9278c8a6"},"name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}},{"description":"System action for restarting an application","message_list":[],"uuid":"1a19015f-9796-4a57-8ef0-a2978b942327","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"6e9db8ab-c671-483a-b5bf-8cf0e7713d5c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"16c253b6-f1f7-4618-80d2-42f683ea9e4d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"16c253b6-f1f7-4618-80d2-42f683ea9e4d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"f2b2a076_runbook","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"5f82d0ce-a61a-4ba1-8975-8c2e1bfc0964","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"6e9db8ab-c671-483a-b5bf-8cf0e7713d5c"},"name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}},{"description":"System action for stopping an application","message_list":[],"uuid":"f617578a-1d5b-4706-a4bd-4a5d1cdac3ce","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"1af338d5-062a-4c56-8d86-3027a566bbf6","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd","uuid":"513662a8-f9a6-4769-9b2d-2d71ddc71fdf"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"513662a8-f9a6-4769-9b2d-2d71ddc71fdf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"4a2ad0be_runbook","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_36a7c7f5_ff4d_4a27_bb49_4c33aca820bd"}],"description":"","message_list":[],"uuid":"e2f3a575-c166-4832-bac4-21f7ff1ed08f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b6a060ac_e7eb_43a9_9031_1bb910679679","uuid":"1af338d5-062a-4c56-8d86-3027a566bbf6"},"name":"SYS_GEN__Runbook_Package_b6a060ac_e7eb_43a9_9031_1bb910679679"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"}],"uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"4d5f7df7-21b4-4a09-9a6c-5ab1bcd74dd4","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"90ef1e18-7b52-4080-835f-e35ca25b8eb7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"c426da26_dag"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","description":"","type":"EXEC","uuid":"90ef1e18-7b52-4080-835f-e35ca25b8eb7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"PackageInstallTask"}],"description":"","message_list":[],"uuid":"e8faa95b-cb91-4ae8-9531-f8fedd79e08d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"4d5f7df7-21b4-4a09-9a6c-5ab1bcd74dd4"},"name":"604f3369_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","description":"","type":"DAG","uuid":"e24fbae0-147c-411f-8735-5e7f9923eeb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"d93cd003_dag"}],"description":"","message_list":[],"uuid":"b20edbfa-3c65-4fce-adbd-1368fd151b7c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"e24fbae0-147c-411f-8735-5e7f9923eeb3"},"name":"dab6a81d_runbook"}},"variable_list":[],"name":"AzureSlavePackage"}]},"name":"CALM-11748-check-0"},"spec":{"name":"CALM-11748-check-0","resources":{"service_definition_list":[{"singleton":false,"name":"MySQL_Master","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"b0330b16-0679-4a35-885c-92a03086a799","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureMaster","uuid":"07a710d1-d1ff-45cf-bca8-074a6286efc5"},{"kind":"app_task","name":"GetDBState","uuid":"b0a18e41-d2c2-4f27-8bbc-2f49c80f32e8"}],"attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"ConfigureMaster","uuid":"07a710d1-d1ff-45cf-bca8-074a6286efc5"},"edge_type":"user_defined","type":"","uuid":"6fd82d8a-b596-4eef-88a7-5ae7d5b43614","to_task_reference":{"kind":"app_task","name":"GetDBState","uuid":"b0a18e41-d2c2-4f27-8bbc-2f49c80f32e8"}}],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"a6df9f70_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"07a710d1-d1ff-45cf-bca8-074a6286efc5","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Run only on master\nif [ ${is_master} -eq 0 ]\nthen\nsudo sed -i \"\/\\[mysqld\\]\/a innodb_flush_log_at_trx_commit=1\" \/etc\/my.cnf.d\/nutanix.cnf\nsudo sed -i \"\/\\[mysqld\\]\/a sync_binlog=1\" \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo mysql -u root -p${mysql_password}<<EOF\nCREATE USER 'replica'@'%' IDENTIFIED BY \"${mysql_password}\";\nGRANT REPLICATION SLAVE ON *.* to replica@'%';\nFLUSH PRIVILEGES;\nEOF\n\nfi\n\nsudo touch \/var\/run\/mysqld\/mysqld.sock\nsudo chown mysql:mysql \/var\/run\/mysqld\/mysqld.sock\nsudo systemctl restart mysqld\n\nsleep 5\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"ConfigureMaster"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"b0a18e41-d2c2-4f27-8bbc-2f49c80f32e8","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{address}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n\nif [ ${is_master} -eq 0 ]\nthen\n    while true\n    do\n      status=`sudo systemctl status mysqld | grep Active: | awk ' { print $3 }' | sed 's#[(|)]##g'`\n  \t  [ $status = \"running\" ] && break\n      echo $status\n  \t  sleep 2\n    done\n    \n    MYSQL_BIN=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $1}')\n\tMYSQL_POSITION=$(sudo mysql -u root -p${mysql_password} -e 'show master status;' | grep mysql-bin | awk '{print $2}')\n    \n  echo \"MYSQL_BIN=$MYSQL_BIN\"\n  echo \"MYSQL_POSITION=$MYSQL_POSITION\"\nfi\n\n","eval_variables":["MYSQL_BIN","MYSQL_POSITION"],"eval_scope":"local","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"},"type":"","script_type":"sh"},"timeout_secs":"0","type":"SET_VARIABLE","variable_list":[],"name":"GetDBState"}],"description":"","uuid":"7a916107-916b-4ad5-a2bc-a02dbef9b6ac","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"a6df9f70_dag","uuid":"b0330b16-0679-4a35-885c-92a03086a799"},"name":"0a970522_runbook"},"type":"system","uuid":"1c219728-52c0-4741-aa92-f592eeed3648"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"396df2c6-9a9f-45b4-b842-9ae82c8ccf00","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"3f9277cd_dag"}],"description":"","uuid":"1c5472e3-5be6-40ac-947e-5e41c9b9e184","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"3f9277cd_dag","uuid":"396df2c6-9a9f-45b4-b842-9ae82c8ccf00"},"name":"5fd47ec3_runbook"},"type":"system","uuid":"1c869788-6142-4818-8f21-ac81abe4dbd8"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"3cbe7b04-bc79-4246-93ae-6e7e0f35220f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"e4472841-dc17-406e-8fc5-48052debbf09"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"32e9c292_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"e4472841-dc17-406e-8fc5-48052debbf09","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"77a1f447-6f7d-47bc-85af-5ab9e9de7a69","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"32e9c292_dag","uuid":"3cbe7b04-bc79-4246-93ae-6e7e0f35220f"},"name":"5ddb28d1_runbook"},"type":"system","uuid":"28260b90-fe8a-41bf-977e-9623c4a7e0fa"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"97eecf34-5b69-437e-8690-c1b8ffff9dd7","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"ce63573f_dag"}],"description":"","uuid":"2b8e1830-af4f-44ef-8ff0-67aaefa29e9f","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"ce63573f_dag","uuid":"97eecf34-5b69-437e-8690-c1b8ffff9dd7"},"name":"0aefbca3_runbook"},"type":"system","uuid":"f383f6a1-919d-4faf-ade7-6c7e446e774f"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"dff0c7f5-3aad-43a6-b338-284e88b7b0c7","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c4afa1a6_dag"}],"description":"","uuid":"4e9724e9-9da9-4856-8e18-f3531b92df24","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"c4afa1a6_dag","uuid":"dff0c7f5-3aad-43a6-b338-284e88b7b0c7"},"name":"7e709238_runbook"},"type":"system","uuid":"49032167-1347-4521-911b-308c85186bcd"}],"description":"","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","port_list":[],"tier":"","variable_list":[{"val_type":"STRING","description":"","uuid":"fb95e0fb-0089-43d8-ab64-30bbc2f88cdc","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"MYSQL_BIN"},{"val_type":"STRING","description":"","uuid":"66d4afd6-4b9a-4734-b2b3-16ab24748138","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"MYSQL_POSITION"}],"depends_on_list":[]},{"singleton":false,"name":"MySQL_Slave","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"c559b4ee-4f10-40c2-b322-07c223c6a309","child_tasks_local_reference_list":[{"kind":"app_task","name":"ConfigureSlaves","uuid":"29beacf0-8fc0-4c8f-b4ba-e60e76e9d05f"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"93f99bda_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"29beacf0-8fc0-4c8f-b4ba-e60e76e9d05f","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\nmaster_ip=\"@@{MySQL_Master.address}@@\"\nmaster_bin=\"@@{MySQL_Master.MYSQL_BIN}@@\"\nmaster_position=\"@@{MySQL_Master.MYSQL_POSITION}@@\"\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\n# -*- Runs on slaves\nif [ ${is_master} -ne 0 ]\nthen\n  sudo mysql -u root -p${mysql_password} -e \"change master to master_host='${master_ip}',master_user='replica',master_password='${mysql_password}',master_log_file='${master_bin}',master_log_pos=${master_position};\"\n  sudo mysql -u root -p${mysql_password} -e 'start slave;'\n  sudo mysql -u root -p${mysql_password} -e 'show slave status\\G' | grep -A11 Slave_IO_State\nfi\n"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"ConfigureSlaves"}],"description":"","uuid":"b92d8622-66db-4205-94f5-3657bb494a9d","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"93f99bda_dag","uuid":"c559b4ee-4f10-40c2-b322-07c223c6a309"},"name":"d54168c9_runbook"},"type":"system","uuid":"1d218db7-3d41-4f71-836e-2aa9ca41640c"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"2ad1b6f6-1fd9-40c9-ac56-ecb803178412","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"5066b603_dag"}],"description":"","uuid":"9655aee0-4d89-4777-886f-0113b1879d12","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"5066b603_dag","uuid":"2ad1b6f6-1fd9-40c9-ac56-ecb803178412"},"name":"92247e35_runbook"},"type":"system","uuid":"84f67f13-3d80-4bad-9ab7-1a34ba69e148"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"12c562f2-bc5a-458a-a1a7-42dc71d0c0c3","child_tasks_local_reference_list":[{"kind":"app_task","name":"Start","uuid":"705ff2e9-0b2b-46c4-9107-10b19d0b9a78"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"abefdcaf_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"705ff2e9-0b2b-46c4-9107-10b19d0b9a78","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\nsudo systemctl start mysqld\nsudo systemctl enable mysqld"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"Start"}],"description":"","uuid":"cf047020-ab75-4112-9ebe-4c127d658926","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"abefdcaf_dag","uuid":"12c562f2-bc5a-458a-a1a7-42dc71d0c0c3"},"name":"a027cde0_runbook"},"type":"system","uuid":"55571a1a-cbdc-4ea4-9ad5-43bc24728034"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"9f6a204d-e390-4d18-89b5-88cba9cead13","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"097fa65d_dag"}],"description":"","uuid":"7dc94d13-b7eb-422b-bd8b-295e34b328e7","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"097fa65d_dag","uuid":"9f6a204d-e390-4d18-89b5-88cba9cead13"},"name":"4a2ad0be_runbook"},"type":"system","uuid":"55068f9e-ea85-4ab6-a871-9e96e9e2bfe2"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","name":"MySQL_Slave"},"retries":"0","description":"","uuid":"622c5c9f-3c47-4cc4-bb17-9f6041999181","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"e1f94389_dag"}],"description":"","uuid":"71cc9b1c-8e3e-4788-98ca-ea0d522846e5","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"e1f94389_dag","uuid":"622c5c9f-3c47-4cc4-bb17-9f6041999181"},"name":"f2b2a076_runbook"},"type":"system","uuid":"f0359a73-92bd-439a-ba0b-816cd46a9a81"}],"description":"","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd","port_list":[],"tier":"","variable_list":[],"depends_on_list":[{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"}]}],"substrate_definition_list":[{"name":"AHVMaster","action_list":[],"uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":2,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"description":""},{"name":"AHVSlave","action_list":[],"uuid":"5f38dc89-b791-4600-864a-4bd50859597d","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"nic_list":{},"serial_port_list":{},"num_vcpus_per_socket":true,"num_sockets":true,"memory_size_mib":true,"guest_customization":true,"disk_list":{"1":{"disk_size_mib":true},"3":{"disk_size_mib":true},"2":{"disk_size_mib":true},"5":{"disk_size_mib":true},"4":{"disk_size_mib":true},"7":{"disk_size_mib":true},"6":{"disk_size_mib":true},"8":{"disk_size_mib":true}}}}},"os_type":"Linux","type":"AHV_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":8192,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":{"meta_data":"","type":"","user_data":"#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"},"type":"","sysprep":null},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":-1,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"app_package","type":"","name":"CENTOS_74","uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":1,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":2,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":3,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":51200,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":4,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":5,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":6,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":7,"type":""}}},{"data_source_reference":null,"type":"","disk_size_mib":25600,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":8,"type":""}}}]}},"variable_list":[],"description":""},{"name":"AWSMaster","action_list":[],"uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-master-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","availability_zone":"","subnet_id":"","key_name":"","region":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","instance_type":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"AWSSlave","action_list":[],"uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":true},"create_spec":{"name":true,"resources":{"instance_profile_name":true,"availability_zone":true,"subnet_id":true,"key_name":true,"region":true,"user_data":true,"image_id":true,"instance_type":true,"security_group_list":true,"block_device_map":{"data_disk_list":{"1":{"size_gb":true},"0":{"size_gb":true},"3":{"size_gb":true},"2":{"size_gb":true},"5":{"size_gb":true},"4":{"size_gb":true},"7":{"size_gb":true},"6":{"size_gb":true}},"root_disk":{"size_gb":true}},"associate_public_ip_address":true,"vpc_id":true,"tag_list":true}}},"os_type":"Linux","type":"AWS_VM","create_spec":{"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","availability_zone_reference":null,"backup_policy":null,"type":"PROVISION_AWS_VM","cluster_reference":null,"resources":{"instance_profile_name":"","availability_zone":"","subnet_id":"","key_name":"","region":"","instance_initiated_shutdown_behavior":"","user_data":"","image_id":"","instance_type":"","state":"RUNNING","security_group_list":[{"type":"","security_group_id":""}],"block_device_map":{"data_disk_list":[{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdb","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdc","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sdd","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":50,"volume_type":"GP2","device_name":"\/dev\/sde","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdf","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdg","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdh","iops":1,"snapshot_id":"","type":"","delete_on_termination":true},{"size_gb":25,"volume_type":"GP2","device_name":"\/dev\/sdi","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}],"type":"","root_disk":{"size_gb":10,"volume_type":"GP2","device_name":"\/dev\/sda1","iops":1,"snapshot_id":"","type":"","delete_on_termination":true}},"private_ip_address":"","vpc_id":"","tag_list":[],"type":"","account_uuid":"8c2e0a6b-620a-c62a-c3f4-e58b101dfd0d","associate_public_ip_address":true}},"variable_list":[],"description":""},{"name":"GCPMaster","action_list":[],"uuid":"91a64335-8b29-4876-84db-58e421f2177d","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"machineType":true,"name":true,"tags":{"items":true},"labels":true,"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"canIpForward":false,"description":"","zone":"us-central1-c","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","startupScript":""},"labelFingerprint":"","disks":[{"initializeParams":{"sourceImage":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/images\/centos-7","diskType":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-standard"},"disk_type":"PERSISTENT","boot":true,"autoDelete":true}],"name":"mysql-master-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-master-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":"108048128720-compute@developer.gserviceaccount.com"}],"networkInterfaces":[{"accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","name":"ceceec"}],"network":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/global\/networks\/default","subnetwork":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/regions\/us-central1\/subnetworks\/default"}]}},"variable_list":[],"description":""},{"name":"GCPSlave","action_list":[],"uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{public_ip_address}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"connection_port":true,"timeout_secs":true},"create_spec":{"resources":{"labels":true,"machineType":true,"name":true,"tags":{"items":true},"disks":{"0":{"initializeParams":{"diskSizeGb":true,"sourceImage":true,"diskType":true},"autoDelete":true}},"blankDisks":{"1":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"0":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"3":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"2":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"5":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"4":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"7":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true},"6":{"disk_type":true,"name":true,"sizeGb":true,"autoDelete":true}},"sshKeys":{"0":true},"serviceAccounts":{"0":{"scopes":true}},"metadata":{"items":true}}}},"os_type":"Linux","type":"GCP_VM","create_spec":{"type":"PROVISION_GCP_VM","resources":{"labels":[],"machineType":"","description":"","zone":"","tags":{"items":["tensorflow"],"type":"","fingerprint":""},"guestCustomization":{"type":"","startupScript":""},"labelFingerprint":"","disks":[{"diskEncryptionKey":{},"deviceName":"","initializeParams":{"sourceImageEncryptionKey":{},"diskName":"","diskType":"","diskSizeGb":-1,"sourceImage":"","type":""},"autoDelete":true,"boot":true,"source":"","mode":"","interface":"","disk_type":"PERSISTENT","type":""}],"name":"mysql-slave-@@{calm_array_index}@@-@@{calm_time}@@","sshKeys":["centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com\n"],"canIpForward":false,"scheduling":{"automaticRestart":true,"type":"","preemptible":false,"onHostMaintenance":"TERMINATE"},"minCpuPlatform":"","blankDisks":[{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-0-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-1-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-2-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-3-@@{calm_time}@@","sizeGb":50,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-4-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-5-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-6-@@{calm_time}@@","sizeGb":25,"autoDelete":true},{"disk_type":"https:\/\/www.googleapis.com\/compute\/v1\/projects\/nucalm-devopos\/zones\/us-central1-c\/diskTypes\/pd-ssd","type":"","name":"mysql-slave-dev-7-@@{calm_time}@@","sizeGb":25,"autoDelete":true}],"metadata":{"items":[{"type":"","value":"centos:ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","key":"ssh-keys"}],"type":"","fingerprint":""},"type":"","account_uuid":"84213a31-4fe8-7e39-3799-e093e5d0dc2e","serviceAccounts":[{"scopes":[],"type":"","email":""}],"networkInterfaces":[{"aliasIpRanges":[],"network":"","accessConfigs":[{"config_type":"ONE_TO_ONE_NAT","type":"","name":"slave-default-acn","natIP":""}],"networkIP":"","subnetwork":"","type":""}]}},"variable_list":[],"description":""},{"name":"AzureMaster","action_list":[],"uuid":"c8916514-da26-47dc-9369-b5a7d68ab081","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"version":true,"use_custom_image":true,"offer":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-master-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""},{"name":"AzureSlave","action_list":[],"uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a","readiness_probe":{"connection_type":"SSH","retries":"5","disable_readiness_probe":false,"timeout_secs":"300","address":"@@{platform.publicIPAddressList[0]}@@","delay_secs":"0","connection_port":22,"login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"editables":{"readiness_probe":{"connection_type":true,"delay_secs":true,"connection_port":true,"timeout_secs":null},"create_spec":{"resources":{"vm_name":true,"storage_profile":{"is_managed":true,"image_details":{"sku":true,"publisher":true,"version":true,"use_custom_image":true,"offer":true},"os_disk_details":{"storage_type":true,"create_option":true,"caching_type":true,"name":true}},"nw_profile":{"nic_list":{"0":{"nsg_name":true,"vnet_name":true,"private_ip_info":{"ip_allocation_method":true},"nic_name":true,"subnet_name":true,"public_ip_info":{"ip_name":true,"dns_label":true,"ip_allocation_method":true}}}},"resource_group":true,"os_profile":{"linux_config":{"custom_data":true}},"hw_profile":{"vm_size":true},"location":true,"availability_set_id":true,"tag_list":true}}},"os_type":"Linux","type":"AZURE_VM","create_spec":{"type":"PROVISION_AZURE_VM","name":"","resources":{"vm_name":"mysql-slave-@@{calm_unique_hash}@@-@@{calm_array_index}@@","storage_profile":{"is_managed":true,"image_details":{"sku":"","publisher":"","offer":"","source_image_id":"","use_custom_image":false,"version":"","type":""},"type":"","os_disk_details":{"size_in_gb":127,"name":"os-@@{calm_unique_hash}@@-@@{calm_array_index}@@-disk","storage_name":"","storage_type":"Standard_LRS","lun":-1,"type":"","create_option":"FromImage","caching_type":"ReadWrite"},"data_disk_list":[]},"nw_profile":{"nic_list":[{"nsg_name":"","vnet_name":"","private_ip_info":{"ip_address":"","ip_allocation_method":"Dynamic","type":""},"nic_name":"nic-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","subnet_name":"","type":"","public_ip_info":{"ip_name":"public-ip-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","dns_label":"dns-@@{calm_unique_hash}@@-@@{calm_array_index}@@-0","ip_allocation_method":"Dynamic","type":""}}],"primary_nic":-1,"type":""},"resource_group":"","os_profile":{"secrets":[],"type":"","windows_config":{"winrm_listeners":[],"time_zone":"","additional_unattend_content":[],"provision_vm_agent":true,"auto_updates":false,"type":""},"linux_config":{"disable_password_auth":false,"custom_data":"","type":"","public_keys":[]}},"hw_profile":{"max_data_disk_count":0,"vm_size":"","type":""},"location":"","availability_set_id":"","tag_list":[],"type":"","account_uuid":"3c0f2d94-878c-f34c-6d39-90b854129782"}},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"centos","description":"","uuid":"ad36470d-422f-4252-a207-16357a1851ad","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"e824cd5c-3472-4d8a-a96e-8e0d305d1a6d"}}},"editables":{"username":true,"secret":true},"type":"KEY","name":"CENTOS"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"name":"9098b02b_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AHVMaster","uuid":"30245a65-d3b6-45a6-9c4d-b2ff3ec0a68e"},"type":"GREENFIELD","variable_list":[],"uuid":"bfc99fe8-3579-4962-add0-30553ad24cf8"},{"name":"de329770_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AHVSlave","uuid":"5f38dc89-b791-4600-864a-4bd50859597d"},"type":"GREENFIELD","variable_list":[],"uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"4fa8f239-7289-4ff4-864d-28b41859ac04","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"dd6c021e-a551-4cad-bb95-ff9132680614"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"3e7d744d_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"dd6c021e-a551-4cad-bb95-ff9132680614","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"adb756af-6142-4c33-a1d1-45d38af2aeef","variable_list":[{"val_type":"STRING","description":"","uuid":"50c4ba28-8083-4c61-bb0a-a6265d473c65","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"3e7d744d_dag","uuid":"4fa8f239-7289-4ff4-864d-28b41859ac04"},"name":"c6cd4595_runbook"},"type":"user","uuid":"e2ba9348-ed6d-4e56-9c5c-b9e51e6aeaef"},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"b5e4da7d-3ea2-4683-a3a8-ed867fedfbc9","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"2d1de622-5807-4517-a0db-0748f9ba8be6"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"458965d2_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"2d1de622-5807-4517-a0db-0748f9ba8be6","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"20c9e8d7-332a-4c76-b4d0-8af593dc59d6","variable_list":[{"val_type":"STRING","description":"","uuid":"4c098874-a313-471e-8244-72e1d8b228ba","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"458965d2_dag","uuid":"b5e4da7d-3ea2-4683-a3a8-ed867fedfbc9"},"name":"412d41ad_runbook"},"type":"user","uuid":"329767b4-05ac-4ff0-91b0-1e2ca18d4ba9"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"0a83081f-0ade-4a4b-b70f-6dc62ba46bf4","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"f0f1be23-2ec3-46a3-8a32-a7d4a825eed2"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"0d5ad4a7_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8","name":"de329770_deployment"},"retries":"0","description":"","uuid":"f0f1be23-2ec3-46a3-8a32-a7d4a825eed2","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"64bec900-bde9-451f-aa77-f72b5bb08928","variable_list":[{"val_type":"STRING","description":"","uuid":"4c237a51-e7b3-4ca6-b907-2836f735de92","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"0d5ad4a7_dag","uuid":"0a83081f-0ade-4a4b-b70f-6dc62ba46bf4"},"name":"45be859a_runbook"},"type":"user","uuid":"ed4e668f-b452-4129-a8fa-fb3e5a4d2a7c"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"e8c69850-a322-4ec9-a070-26d3709ab02b","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"f84b7461-dfac-43e1-bd54-82b55441ba75"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6baa6164_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"1ad0eb97-521f-4ce8-9bae-e3f15beee5c8","name":"de329770_deployment"},"retries":"0","description":"","uuid":"f84b7461-dfac-43e1-bd54-82b55441ba75","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"f19cdaf1-7ca4-444b-9e8c-eb4016c92a35","variable_list":[{"val_type":"STRING","description":"","uuid":"7138d052-2edc-4969-b685-55622ea174ec","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"6baa6164_dag","uuid":"e8c69850-a322-4ec9-a070-26d3709ab02b"},"name":"16496c32_runbook"},"type":"user","uuid":"83287272-6985-4a21-80d3-6533b72a3f44"}],"name":"Nutanix","variable_list":[{"val_type":"STRING","description":"","uuid":"8d400d6b-abaa-4294-91d7-3b2637bea0aa","value":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDMGAS\/K0Mb\/uwFXwD+hkjguy7VMZk2hpuhwPl9FUZwVBrURf\/i9QMJ5\/paPEZixu8VlRx7Inu4iun7rQfrnfeIYInmBwspXHYiTK3oHJAgZnrAHVEf1p6YaxLINlT1NI5yOAGPRWW6of8rBDBH1ObwU2+wcSx\/1H0uIs3aZNLufr+Rh628ACxAum2Gt8AVRj6ua2BPFyt5VTdclyysAmeh1AiixNgOZXOz6y\/i4TbzpY78I3isuKpxsUeXX6jxEMQol406jHDUF6njEOPIQG2zVZ3QJlTG9OlN+NiyZG9WkZz0VG\/6M8ixxIHHI2dNwUbBFv2HUu+8X9LTLFq2O7KjX9Hp7uZKBAySHA3eKaKHIp2bZuU1bT5PRPkggngX86xg+T+OMNnutbAiMnRJ8+FvD5So+5TIx4b9GgxAxure3x2yRPT9lOiQOB+CVpJPxR0Rn9bOI+wiPnD0kAGvK\/fHT+pqL4PM+hTnJtp9rrCRzIQApBx1263jEcYffhW2epZQRO+he5CMawFJ5TBe08om2AaDJ8GQdrpF6YA3W8DzHbmL3DPVVHdmqPLn10o+LX4gv5SdIIDVGdjKOc1BCnLTRmM28d5+sLDt\/M+kvcQgf0y0yDjMVjGECZkt39hbm4ELMHzZtzYLmHNhBZxRqHeJ7qFTuv1kx88OW3Xc5mbBNQ== centos@nutanix.com","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"INSTANCE_PUBLIC_KEY"},{"val_type":"STRING","description":"","uuid":"0d2bb9c2-52e7-4456-b068-e999f0b01272","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"2ec2d80b-041d-43c0-9d4e-447077e0aaf2"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"uuid":"cc789c31-8fb6-48bf-93de-9dcbfd0bfb89"},{"deployment_create_list":[{"name":"62ee1671_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AWSMaster","uuid":"1bd62499-4bc5-425b-8991-a85ebca474d8"},"type":"GREENFIELD","variable_list":[],"uuid":"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad"},{"name":"a7e03ed8_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AWSSlave","uuid":"2f5b5981-8614-4a5a-8482-3b07fa1c2de1"},"type":"GREENFIELD","variable_list":[],"uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c"}],"description":"","action_list":[{"description":"Take DB Backup. Specify absolute directory path for BACKUP_FILE_PATH","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"61f66262-e49b-4ed1-ad7c-e4fd280a314b","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"59bfa386-2da5-4955-b6c3-f730fe3429ca"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"80ef9728_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"59bfa386-2da5-4955-b6c3-f730fe3429ca","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"6beb62a6-2e20-4e3b-9b10-b54d40cbddc3","variable_list":[{"val_type":"STRING","description":"","uuid":"645bbaba-8c2a-45c3-9f18-745ca2bbbc4b","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"80ef9728_dag","uuid":"61f66262-e49b-4ed1-ad7c-e4fd280a314b"},"name":"11eaa560_runbook"},"type":"user","uuid":"ef71ca53-f8ec-4c83-a34a-496df332e5a6"},{"description":"To restore DB from dump file. Specify absolute directory path for RESTORE_FILE_PATH","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"a7685fa6-9093-4260-8aba-2096bb68a992","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"42d7db8c-3c3e-47f9-9d10-8a093ae694bc"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"6d512a54_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"42d7db8c-3c3e-47f9-9d10-8a093ae694bc","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} ","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"06c57cfa-1c82-4732-b4ec-d3876e612dfd","variable_list":[{"val_type":"STRING","description":"","uuid":"d4032b7a-3c8b-4036-b12c-498c5acffe82","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"6d512a54_dag","uuid":"a7685fa6-9093-4260-8aba-2096bb68a992"},"name":"9651af2f_runbook"},"type":"user","uuid":"aff5b36e-7563-499d-8eba-03fce09f7839"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"32784392-93f6-4186-a5db-b1372fa49c9f","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"64508ebb-4468-4a84-ab81-0953a5a06b29"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"768e7ea3_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c","name":"a7e03ed8_deployment"},"retries":"0","description":"","uuid":"64508ebb-4468-4a84-ab81-0953a5a06b29","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"b3bb5e9c-632a-45f8-a0e3-598ce4520971","variable_list":[{"val_type":"STRING","description":"","uuid":"8a2f082f-6f54-4508-ba75-681559b7e3a3","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"768e7ea3_dag","uuid":"32784392-93f6-4186-a5db-b1372fa49c9f"},"name":"b6420156_runbook"},"type":"user","uuid":"1a03b422-a14f-4b95-a0a0-c2f85cbee007"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"82517d36-8918-4f9d-b12b-895c25669941","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"d2be9639-3a8a-4977-b200-7cf191a8b6cc"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"26dc3690_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"660950cd-d62a-449a-bd8d-07dfaf4a3c7c","name":"a7e03ed8_deployment"},"retries":"0","description":"","uuid":"d2be9639-3a8a-4977-b200-7cf191a8b6cc","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"ce1e7682-b04a-4008-a14d-ef14d834b42c","variable_list":[{"val_type":"STRING","description":"","uuid":"ab1d72a7-6b5f-48cb-bb78-5ba7329ee750","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"26dc3690_dag","uuid":"82517d36-8918-4f9d-b12b-895c25669941"},"name":"5271ed6b_runbook"},"type":"user","uuid":"de02ebcc-9370-4aad-9599-ba69f77298e7"}],"name":"AWS","variable_list":[{"val_type":"STRING","description":"","uuid":"31abc997-d244-4003-9daa-832927753f59","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"57f203d9-f191-4d65-9917-0e5b255d4479"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"uuid":"86af9d1c-2cbf-41bb-9b32-e34cfd7d32da"},{"deployment_create_list":[{"name":"9b1d29e6_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"GCPMaster","uuid":"91a64335-8b29-4876-84db-58e421f2177d"},"type":"GREENFIELD","variable_list":[],"uuid":"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694"},{"name":"54ee850e_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"GCPSlave","uuid":"13b690a1-615a-4ac9-bab7-166c4e717d9c"},"type":"GREENFIELD","variable_list":[],"uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d"}],"description":"","action_list":[{"description":"","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"5dfb660e-5346-4aee-ba44-2214bef55957","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"b3e515ab-7b84-4e8f-b3e2-5d026a2a17ed"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"c8c571b2_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"b3e515ab-7b84-4e8f-b3e2-5d026a2a17ed","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"bab280d7-283f-40ce-adab-12ca4c88a5e2","variable_list":[{"val_type":"STRING","description":"","uuid":"b27ce293-f8e4-49df-b1de-a5e92f871b13","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"c8c571b2_dag","uuid":"5dfb660e-5346-4aee-ba44-2214bef55957"},"name":"cf21cddc_runbook"},"type":"user","uuid":"59632cc4-8e8e-4723-9a06-901ad81696d9"},{"description":"","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"d0d8c287-ca42-4276-8f50-b950af652b83","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"00d7f9a3-1341-4bd3-a15f-b6a107f0e81b"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"eff38554_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"00d7f9a3-1341-4bd3-a15f-b6a107f0e81b","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"5818f892-f946-4351-9f46-41c234ce8c03","variable_list":[{"val_type":"STRING","description":"","uuid":"9accd6e8-2524-40c4-bb92-d55400a4971c","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"eff38554_dag","uuid":"d0d8c287-ca42-4276-8f50-b950af652b83"},"name":"5911aa86_runbook"},"type":"user","uuid":"9a10a64d-df8c-45bd-b85b-498940f0e3f8"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"d913fbec-f423-4a26-a95b-d7b8ac32b441","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale Out","uuid":"eda1c6c9-400d-4699-a9be-486f922c7266"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"18ab1dc5_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d","name":"54ee850e_deployment"},"retries":"0","description":"","uuid":"eda1c6c9-400d-4699-a9be-486f922c7266","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale Out"}],"description":"","uuid":"d755aadd-efde-4163-b2f2-a1e86954ec8d","variable_list":[{"val_type":"STRING","description":"","uuid":"1944af36-2194-422d-b1e7-ae27454851cc","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"18ab1dc5_dag","uuid":"d913fbec-f423-4a26-a95b-d7b8ac32b441"},"name":"0efec22d_runbook"},"type":"user","uuid":"5b36bee1-5ba2-4e1a-92da-4249aabd0418"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"0cef11ba-903f-4a99-ae04-567190c8fa46","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"63d3d372-fd85-4461-904c-9bb2d7b514ff"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"d25c81bb_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"a709cac5-860c-4458-b99a-8e6ee2a5e68d","name":"54ee850e_deployment"},"retries":"0","description":"","uuid":"63d3d372-fd85-4461-904c-9bb2d7b514ff","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"ffa1cef6-6e59-4419-a03d-65c9292fcb54","variable_list":[{"val_type":"STRING","description":"","uuid":"d48cb76e-31e4-4052-97ef-c58aea6cdcfe","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"d25c81bb_dag","uuid":"0cef11ba-903f-4a99-ae04-567190c8fa46"},"name":"eb302554_runbook"},"type":"user","uuid":"e73a1bc8-7805-4a38-a71d-4001b5abcc80"}],"name":"GCP","variable_list":[{"val_type":"STRING","description":"","uuid":"7a18e50f-e3e7-4bab-879e-01e3e4e2b3f8","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"53e82093-9c51-44fc-b5d9-f1e98a9e597a"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"uuid":"8f32d3a6-94a9-4791-b617-1ac73978c7e3"},{"deployment_create_list":[{"name":"c56e12c0_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"AzureMaster","uuid":"c8916514-da26-47dc-9369-b5a7d68ab081"},"type":"GREENFIELD","variable_list":[],"uuid":"4cebe9e2-3bee-4558-ac1b-0c6eddb26595"},{"name":"797414cb_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"}],"description":"","depends_on_list":[],"min_replicas":"1","max_replicas":"3","published_service_local_reference_list":[],"editables":{"min_replicas":true,"max_replicas":true},"substrate_local_reference":{"kind":"app_substrate","name":"AzureSlave","uuid":"97a15e6b-ac3e-40d7-8857-b0e86148de8a"},"type":"GREENFIELD","variable_list":[],"uuid":"26531584-54d0-4695-b677-a948ed17caf0"}],"description":"","action_list":[{"description":"","name":"Backup","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"4d33f572-4a8b-4daa-b4c2-6c1a472b9bc8","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Backup","uuid":"4cd7bfd8-6cd3-4fd6-b3b7-1f108d213586"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"966ad697_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"4cd7bfd8-6cd3-4fd6-b3b7-1f108d213586","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndate_part=`date +%F`\nmkdir -p @@{BACKUP_FILE_PATH}@@\nsudo mysqldump -u root -p${mysql_password} --all-databases | sudo gzip -9 > @@{BACKUP_FILE_PATH}@@\/db_dump.sql.gz"},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Backup"}],"description":"","uuid":"b5247a90-af99-4b29-a79b-73794cb4989e","variable_list":[{"val_type":"STRING","description":"","uuid":"76305e7c-2f7e-4915-a1bd-835ae343a14c","value":"~\/db_backup","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"BACKUP_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"966ad697_dag","uuid":"4d33f572-4a8b-4daa-b4c2-6c1a472b9bc8"},"name":"f1e44022_runbook"},"type":"user","uuid":"5630c341-f748-4f09-90da-56928fb5620a"},{"description":"","name":"Restore","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"a06515e2-5b3f-44db-9ea0-7c2508d7288a","child_tasks_local_reference_list":[{"kind":"app_task","name":"DB Restore","uuid":"c6f93a3d-bd02-4d08-b3e2-e0b752cc8e77"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"5ed684d9_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba","name":"MySQL_Master"},"retries":"0","description":"","uuid":"c6f93a3d-bd02-4d08-b3e2-e0b752cc8e77","child_tasks_local_reference_list":[],"attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\n\n### Setup variables\nmysql_password=\"@@{MYSQL_PASSWORD}@@\"\ndb_file=@@{RESTORE_FILE_PATH}@@\n\nsudo gunzip < $db_file | sudo mysql -u root -p${mysql_password} "},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"DB Restore"}],"description":"","uuid":"05866f0d-50a0-4c5b-af04-b46be974cf55","variable_list":[{"val_type":"STRING","description":"","uuid":"38c417f7-1f42-4367-8b9f-c2c134604fcb","value":"~\/db_backup\/db_dump.sql.gz","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"RESTORE_FILE_PATH"}],"main_task_local_reference":{"kind":"app_task","name":"5ed684d9_dag","uuid":"a06515e2-5b3f-44db-9ea0-7c2508d7288a"},"name":"70027c7e_runbook"},"type":"user","uuid":"bf660ee2-5274-45b7-831b-226fbf7deb4e"},{"description":"","name":"ScaleOut","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"8a819811-aeef-4c04-8363-9b3f648c6389","child_tasks_local_reference_list":[{"kind":"app_task","name":"ScaleOut","uuid":"96bbd7ed-6a43-44c3-b483-814cca7cc008"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"68006bbc_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0","name":"797414cb_deployment"},"retries":"0","description":"","uuid":"96bbd7ed-6a43-44c3-b483-814cca7cc008","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"ScaleOut"}],"description":"","uuid":"2878d1fb-aa3b-4f67-8053-071f67bc9885","variable_list":[{"val_type":"STRING","description":"","uuid":"28a0d58b-de8c-4563-a34a-b9580aa46a12","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"68006bbc_dag","uuid":"8a819811-aeef-4c04-8363-9b3f648c6389"},"name":"7b41b938_runbook"},"type":"user","uuid":"0fbfbfd4-4a5e-4992-a138-829d6f39f3a1"},{"description":"","name":"ScaleIn","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"4620d08f-c4f0-4849-a1b7-02cb16c5dcd7","child_tasks_local_reference_list":[{"kind":"app_task","name":"Scale In","uuid":"f81e52a2-3854-464d-b955-f0ba4a86bd87"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"b337ca9d_dag"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","uuid":"26531584-54d0-4695-b677-a948ed17caf0","name":"797414cb_deployment"},"retries":"0","description":"","uuid":"f81e52a2-3854-464d-b955-f0ba4a86bd87","child_tasks_local_reference_list":[],"attrs":{"scaling_count":"@@{COUNT}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","type":"SCALING","variable_list":[],"name":"Scale In"}],"description":"","uuid":"d32b87c2-037c-4794-9e3f-a810e1fc7dd0","variable_list":[{"val_type":"STRING","description":"","uuid":"ab299493-dbae-42cd-911f-85cbe1484fbb","value":"1","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"COUNT"}],"main_task_local_reference":{"kind":"app_task","name":"b337ca9d_dag","uuid":"4620d08f-c4f0-4849-a1b7-02cb16c5dcd7"},"name":"c0c7671a_runbook"},"type":"user","uuid":"502806de-a023-4833-ae84-00cabeb04bfa"}],"name":"Azure","variable_list":[{"val_type":"STRING","description":"","uuid":"87e78fb1-0263-4d40-9e7a-15de61bac243","label":"","attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"814d4372-9b65-42f0-aa4d-2c1bf11b6a58"}},"editables":{"value":true},"type":"SECRET","name":"MYSQL_PASSWORD"}],"uuid":"c04fb806-a32d-4e48-bc98-92727acdee5b"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"},"package_definition_list":[{"uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"}],"name":"AHVMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","name":"9cbec184_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},{"kind":"app_task","name":"Setup MySQL","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},"edge_type":"user_defined","type":"","uuid":"30429676-b6f5-4c9a-8f51-38ef1a2bc61b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},"edge_type":"user_defined","type":"","uuid":"a7edd9c9-3af2-4f06-a92c-652e9cf236f4","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},"edge_type":"user_defined","type":"","uuid":"1a5db1be-37b5-435e-874f-2f9a00e919f4","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0d9cf514-d9d1-4d22-bf78-4dd46e440f20"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"34fccae5-863d-4f24-b72e-fc70a7fa0745"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4002be4b-bad3-41d7-bb62-3d2c7d2fff73"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5ade0117-5c60-4ffc-b98a-f5391a21ef26"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4b54e35d-49b1-4494-add0-73f74e585dd8"}],"name":"ee9a3de0_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"9cbec184_dag","uuid":"0d9cf514-d9d1-4d22-bf78-4dd46e440f20"},"uuid":"c0713b61-0066-404a-a396-efd6f0ae912b"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","name":"7e474eb1_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"ffe772a5-ea02-4eda-8e89-ac566a00894b"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"86595977-7a06-4d86-9f31-484accb74ae1"},{"target_any_local_reference":{"kind":"app_package","name":"AHVMasterPackage","uuid":"4bf1780c-328d-4847-8304-e7ce6ac7526e"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"ffe772a5-ea02-4eda-8e89-ac566a00894b"}],"name":"4235ede6_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"7e474eb1_dag","uuid":"86595977-7a06-4d86-9f31-484accb74ae1"},"uuid":"8a592310-9aa0-4c94-a3c4-4932ca0d644e"}},"variable_list":[],"description":""},{"uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"}],"name":"AHVSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","name":"35a5e492_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},{"kind":"app_task","name":"Setup MySQL","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},"edge_type":"user_defined","type":"","uuid":"bc8c3cb0-4016-4101-80ce-1a7ec311966f","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},"edge_type":"user_defined","type":"","uuid":"309fa923-d1ab-436e-976a-e440b055614e","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},"edge_type":"user_defined","type":"","uuid":"ce3f3fe0-b5e8-4afd-8f37-d327f6c74d77","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9bfffcb4-bdc0-44aa-afc7-b122392f1b4f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"eda55341-e0fc-4e29-9acc-9c7fb788de57"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"7cc64be2-0eca-4ad8-9bd1-b74c0351a138"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e25be835-30e5-4cfc-9cf2-70dc5e96748f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8dbcfd18-42cb-4225-b99a-15961c1f5c41"}],"name":"db3247c6_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"35a5e492_dag","uuid":"9bfffcb4-bdc0-44aa-afc7-b122392f1b4f"},"uuid":"de00a141-3a09-446f-aae4-86c2ac394269"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","name":"53d74d7d_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"4f44bd22-5acc-48da-80ca-eb7e6ef0e994"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"66a14873-e56a-4dbc-849e-737e3f05b16b"},{"target_any_local_reference":{"kind":"app_package","name":"AHVSlavePackage","uuid":"046b75e8-32ac-4c64-b0a6-c027f9f41a6d"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4f44bd22-5acc-48da-80ca-eb7e6ef0e994"}],"name":"a4fbe7d2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"53d74d7d_dag","uuid":"66a14873-e56a-4dbc-849e-737e3f05b16b"},"uuid":"c2ba1711-484b-411c-a93e-fd3808302a2b"}},"variable_list":[],"description":""},{"uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"}],"name":"AWSMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","name":"20906fd3_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},{"kind":"app_task","name":"Setup MySQL","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},"edge_type":"user_defined","type":"","uuid":"111ba680-ee21-440d-be59-101a64f14a5b","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},"edge_type":"user_defined","type":"","uuid":"f200b7a8-49a7-44ce-9e5d-2f7d458b7500","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},"edge_type":"user_defined","type":"","uuid":"0694744e-cd7d-48d1-87df-43f033505201","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"530f3b41-cd54-4819-bd67-0ae8e2bd6e8d"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"543ce8dd-4b5d-42ce-b694-dc52bebed442"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4fd49238-dfb7-4255-acf8-6e26e616f40e"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e5fddc5c-ee20-430f-879c-a0e57bb62565"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"1bf33808-d29b-470f-8642-a3388b15d2a0"}],"name":"8c0bb7c2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"20906fd3_dag","uuid":"530f3b41-cd54-4819-bd67-0ae8e2bd6e8d"},"uuid":"275ef42a-cc58-4515-8889-8e92f356992c"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","name":"102b4b68_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"b7315f98-87d3-46a5-9aac-5559349657ba"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5ae67a64-2f1f-4791-9fc6-6d62aad1fbf3"},{"target_any_local_reference":{"kind":"app_package","name":"AWSMasterPackage","uuid":"959b5269-6773-482b-8c8b-702f88e0d9e4"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"b7315f98-87d3-46a5-9aac-5559349657ba"}],"name":"97a9a9af_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"102b4b68_dag","uuid":"5ae67a64-2f1f-4791-9fc6-6d62aad1fbf3"},"uuid":"4ee30f68-bf94-4443-9def-cad4cdd5eee0"}},"variable_list":[],"description":""},{"uuid":"6743452c-eee1-42a2-b0cb-f064b3491728","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"}],"name":"AWSSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","name":"be281c77_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},{"kind":"app_task","name":"Setup MySQL","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},"edge_type":"user_defined","type":"","uuid":"dee84b28-2f7b-4aca-9774-d00c809187d5","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},"edge_type":"user_defined","type":"","uuid":"36b8d01d-06d9-4680-a3d0-7f14b7c6df67","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},"edge_type":"user_defined","type":"","uuid":"bfedc4c9-b4b4-4098-8d37-c52603619e8d","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"488856e2-eeaf-499b-8d60-3d9ff03e19c0"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2*\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f8fc5e09-8a00-4e74-87ad-af0d3ba53e17"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for PostgreSQL . 4 disks for DATA and 2 for logs\n# Data disks are 60GB | Log disks are 20GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo vgcreate mysqlDataVG \/dev\/xvdb \/dev\/xvdc \/dev\/xvdd \/dev\/xvde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo vgcreate mysqlLogVG \/dev\/xvdf \/dev\/xvdg \/dev\/xvdh \/dev\/xvdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c0d5f8ea-e4b3-4f18-94fc-9b4bb2bda065"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"14db0fa0-d5ab-4189-953b-1c6ade5d71dc"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"047d6ef3-6966-46d5-9ba7-923bfdb43dba"}],"name":"c2ab2da2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"be281c77_dag","uuid":"488856e2-eeaf-499b-8d60-3d9ff03e19c0"},"uuid":"c4835b81-bbc4-45e2-bdec-9ac54dee9502"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","name":"62f03f3b_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageUninstallTask","uuid":"5107bffc-d892-494d-aa75-ee811f3cce56"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"cb9c9fc1-7cf4-4ebd-87f7-0b8ecd0f1831"},{"target_any_local_reference":{"kind":"app_package","name":"AWSSlavePackage","uuid":"6743452c-eee1-42a2-b0cb-f064b3491728"},"retries":"0","name":"PackageUninstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5107bffc-d892-494d-aa75-ee811f3cce56"}],"name":"88bbbcc1_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"62f03f3b_dag","uuid":"cb9c9fc1-7cf4-4ebd-87f7-0b8ecd0f1831"},"uuid":"bc6fb91e-9748-4130-b955-6a652ffa6653"}},"variable_list":[],"description":""},{"uuid":"0bd95882-02ce-43c8-84c9-170d49eb84dd","action_list":[],"service_local_reference_list":[],"name":"CENTOS_74","version":"","type":"SUBSTRATE_IMAGE","options":{"type":"","name":"CENTOS_74","resources":{"image_type":"DISK_IMAGE","checksum":{"checksum_algorithm":"","type":"","checksum_value":""},"source_uri":"http:\/\/download.nutanix.com\/calm\/CentOS-7-x86_64-GenericCloud.qcow2","version":{"product_version":"","type":"","product_name":""},"architecture":"X86_64","type":""},"description":""},"variable_list":[],"description":""},{"uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"}],"name":"GCPMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","name":"d13a100f_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install System Packages","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},{"kind":"app_task","name":"Setup MySQL","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install System Packages","uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},"edge_type":"user_defined","type":"","uuid":"e3fe256a-63b7-4fac-8b47-71117425bc3e","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},"edge_type":"user_defined","type":"","uuid":"94963e3c-d528-4449-a64a-926f4246bebf","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},"edge_type":"user_defined","type":"","uuid":"f1cf038e-82c8-4b27-b9f4-41da55af33d2","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"17def074-6587-4217-a342-25cbda65b521"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Install System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"56b17f9f-b43c-46ac-9c7e-ef90fd19d72a"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5aa870af-7886-496f-a59f-e10233b6dbbb"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"af95a594-9d2e-4196-a9f1-442ef51020d9"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6a4affa8-f176-45c0-9f72-8976b723cb8e"}],"name":"267c96d2_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d13a100f_dag","uuid":"17def074-6587-4217-a342-25cbda65b521"},"uuid":"7b54c835-2e7e-4901-a513-6ae9a3bec61a"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPMasterPackage","uuid":"78651a82-c9b6-4511-8b95-5db31af6a97a"},"retries":"0","name":"01fe868d_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"f6e56839-3674-4a34-9b11-30a79fb15ce2"}],"name":"ea47487d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"01fe868d_dag","uuid":"f6e56839-3674-4a34-9b11-30a79fb15ce2"},"uuid":"ec08811c-043c-4953-85d2-9f07d3bf1188"}},"variable_list":[],"description":""},{"uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"}],"name":"GCPSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","name":"eefb69f6_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"Install  System Packages","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},{"kind":"app_task","name":"Setup MySQL","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"Install  System Packages","uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},"edge_type":"user_defined","type":"","uuid":"ee8bd1f0-779c-4bf7-946b-b173cfd1680a","to_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"}},{"from_task_reference":{"kind":"app_task","name":"Create Disk Setup","uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},"edge_type":"user_defined","type":"","uuid":"9f558276-07cc-4c7c-b56b-7fc32021fc1f","to_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"}},{"from_task_reference":{"kind":"app_task","name":"Install MySQL","uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},"edge_type":"user_defined","type":"","uuid":"c571c8ed-b5ef-4092-99b0-3587e0b1649c","to_task_reference":{"kind":"app_task","name":"Setup MySQL","uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"439d0db2-97aa-44c1-9926-88188d6891af"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Install  System Packages","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n# -*- Install Mysql\nsudo yum update -y --quiet\nsudo yum install -y  wget xfs* bc unzip lvm2* lsscsi\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"System packages are installed\"","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9c3caa69-187d-494a-b9ea-dce32b2a3284"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Create Disk Setup","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n##############\n#\n# LVM setup script for MySQL . 4 disks for DATA and 4 for logs\n# Data disks are 50GB | Log disks are 25GB \n#\n#############\n\n\n#PGSQL data\nsudo pvcreate \/dev\/sdb \/dev\/sdc \/dev\/sdd \/dev\/sde\nsudo vgcreate mysqlDataVG \/dev\/sdb \/dev\/sdd \/dev\/sdc \/dev\/sde\nsudo lvcreate -l 100%FREE -i4 -I1M -n mysqlDataLV mysqlDataVG          ## Use 1MB to avoid IO amplification \n#lvcreate -l 100%FREE -i4 -I4M -n pgDataLV pgDataVG\n\n\n#PGSQL logs\nsudo pvcreate \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo vgcreate mysqlLogVG \/dev\/sdf \/dev\/sdg \/dev\/sdh \/dev\/sdi\nsudo lvcreate -l 100%FREE -i2 -I1M -n mysqlLogLV mysqlLogVG            ## Use 1MB to avoid IO amplification\n#lvcreate -l 100%FREE -i2 -I4M -n pgLogLV pgLogVG\n\n\n#Disable LVM read ahead\nsudo lvchange -r 0 \/dev\/mysqlDataVG\/mysqlDataLV\nsudo lvchange -r 0 \/dev\/mysqlLogVG\/mysqlLogLV\n\n\n#Format LVMs with ext4 and use nodiscard to make sure format time is fast on Nutanix due to SCSI unmap\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlDataVG\/mysqlDataLV\nsudo mkfs.ext4 -E nodiscard \/dev\/mysqlLogVG\/mysqlLogLV\n\nsleep 10\n\n\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6c2ca19f-87d9-4359-9fc1-50ff932a9da7"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Install MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\nsudo hostnamectl set-hostname \"@@{name}@@\"\n\n# -*- Mysql installation \nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server.x86_64\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"6ca3e651-5470-4696-8fea-3d881843576f"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"Setup MySQL","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"#!\/bin\/bash\n\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n\n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\n# -*- Sysctl configuration\nmysql_grp_id=`id -g mysql`\nsudo sysctl -w vm.swappiness=0\nsudo sysctl -w vm.nr_hugepages=1024\nsudo sysctl -w vm.overcommit_memory=1\nsudo sysctl -w vm.dirty_background_ratio=5 \nsudo sysctl -w vm.dirty_ratio=15\nsudo sysctl -w vm.dirty_expire_centisecs=500\nsudo sysctl -w vm.dirty_writeback_centisecs=100\nsudo sysctl -w vm.hugetlb_shm_group=$mysql_grp_id\n\necho \"vm.swappiness=0\nvm.nr_hugepages=1024\nvm.overcommit_memory=1\nvm.dirty_background_ratio=5 \nvm.dirty_ratio=15\nvm.dirty_expire_centisecs=500\nvm.dirty_writeback_centisecs=100\nvm.hugetlb_shm_group=$mysql_grp_id\" | sudo tee  -a \/etc\/sysctl.conf\n\necho \"ACTION=='add|change', SUBSYSTEM=='block', RUN+='\/bin\/sh -c \\\"\/bin\/echo 1024 > \/sys%p\/queue\/max_sectors_kb\\\"'\" | sudo tee \/etc\/udev\/rules.d\/71-block-max-sectors.rules\n#echo 1024 | sudo tee \/sys\/block\/sd?\/queue\/max_sectors_kb\n\necho \"\/dev\/mysqlDataVG\/mysqlDataLV \/mysql\/data ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\necho \"\/dev\/mysqlLogVG\/mysqlLogLV \/mysql\/log ext4 rw,seclabel,noatime,nobarrier,stripe=4096,data=ordered 0 0\" | sudo tee -a \/etc\/fstab\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo systemctl enable mysqld\n\nsudo rm -rf \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n","script_type":"sh","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"CENTOS","uuid":"ad36470d-422f-4252-a207-16357a1851ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"a0d7b490-1ee2-442f-90cb-e32c5fb4d4cb"}],"name":"7f65f668_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"eefb69f6_dag","uuid":"439d0db2-97aa-44c1-9926-88188d6891af"},"uuid":"5a5b873a-cf31-46cb-ae96-7ede297b5db2"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"GCPSlavePackage","uuid":"992f89b0-5ef2-408e-aa62-032c22b8f8eb"},"retries":"0","name":"9607e515_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"612fbd87-bdb2-47e5-9954-92bf7277ded3"}],"name":"22dbbe31_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"9607e515_dag","uuid":"612fbd87-bdb2-47e5-9954-92bf7277ded3"},"uuid":"f62adf6c-19c8-4ee8-a140-71f8eb3612d9"}},"variable_list":[],"description":""},{"uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"}],"name":"AzureMasterPackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","name":"ff59932a_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"8842812c-d425-4ddb-bde3-c9846d31e588"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8e6b62c8-6751-4c43-bc38-e9c5d78fdd93"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Master","uuid":"6caa9df5-5729-4c18-b137-f5aca0a9f1ba"},"retries":"0","name":"PackageInstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\nsudo sed -i \"\/\\[mysqld\\]\/a server-id=100\" \/etc\/my.cnf.d\/nutanix.cnf\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"8842812c-d425-4ddb-bde3-c9846d31e588"}],"name":"10654624_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"ff59932a_dag","uuid":"8e6b62c8-6751-4c43-bc38-e9c5d78fdd93"},"uuid":"654fd1ec-6985-464c-9d6f-212955ed3f9c"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureMasterPackage","uuid":"e70dc140-8107-41ef-80ff-84d35ffa73da"},"retries":"0","name":"5495194c_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"95281a19-1ee8-4a42-b0ac-2dde5df574f7"}],"name":"a58212c8_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"5495194c_dag","uuid":"95281a19-1ee8-4a42-b0ac-2dde5df574f7"},"uuid":"89d935b1-0922-46e2-96d4-da5715ff9cb2"}},"variable_list":[],"description":""},{"uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"}],"name":"AzureSlavePackage","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","name":"c426da26_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"PackageInstallTask","uuid":"90ef1e18-7b52-4080-835f-e35ca25b8eb7"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4d5f7df7-21b4-4a09-9a6c-5ab1bcd74dd4"},{"target_any_local_reference":{"kind":"app_service","name":"MySQL_Slave","uuid":"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd"},"retries":"0","name":"PackageInstallTask","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"sh","type":"","command_line_args":"","exit_status":[],"script":"#!\/bin\/bash\nset -ex\n\n# -*- Install Mysql\nsudo yum install -y --quiet \"http:\/\/repo.mysql.com\/mysql80-community-release-el7.rpm\"\nsudo yum update -y --quiet\nsudo yum install -y --quiet sshpass mysql-community-server\n\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/sysconfig\/selinux\nsudo sed -i 's\/^SELINUX=.*\/SELINUX=disabled\/' \/etc\/selinux\/config\nsudo setenforce 0\n\necho \"!includedir \/etc\/my.cnf.d\" | sudo tee -a \/etc\/my.cnf\n\necho \"[mysqld]\nbinlog-format=mixed\nlog-bin=mysql-bin\ndatadir=\/mysql\/data\nsql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES\ninnodb_data_home_dir = \/mysql\/data\ninnodb_log_group_home_dir = \/mysql\/log\ninnodb_file_per_table\ntmpdir=\/mysql\/tmpdir\ninnodb_undo_directory = \/mysql\/undo\ndefault-storage-engine = innodb\ndefault_tmp_storage_engine = innodb\ninnodb_log_files_in_group = 4\ninnodb_log_file_size = 1G\ninnodb_log_buffer_size = 8M\ninnodb_buffer_pool_size = 6G\t\nlarge-pages\t\ninnodb_buffer_pool_instances = 64\t\ninnodb_flush_method=O_DIRECT\t\ninnodb_flush_neighbors=0\t \ninnodb_flush_log_at_trx_commit=1\ninnodb_buffer_pool_dump_at_shutdown=1\t\ninnodb_buffer_pool_load_at_startup=1\t\nbulk_insert_buffer_size = 256\t\ninnodb_thread_concurrency = 16\t\n \t \n# Undo tablespace\t \ninnodb_undo_tablespaces = 5\t\n \t \n# Networking\t \nwait_timeout=57600\t \nmax_allowed_packet=1G\t\nsocket=\/var\/lib\/mysql\/mysql.sock\t \nskip-name-resolve\nport=3306\t\nmax_connections=1000\t\n \t \n\n[mysqld_safe]\nlog-error=\/mysql\/log\/mysqld.log\npid-file=\/var\/run\/mysqld\/mysqld.pid\" | sudo tee \/etc\/my.cnf.d\/nutanix.cnf\n\necho \"#master=100\" | sudo tee -a  \/etc\/my.cnf.d\/nutanix.cnf\n\nserver_id=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep  \"server-id=\" | cut -d= -f2`\nis_master=`sudo cat \/etc\/my.cnf.d\/nutanix.cnf | grep -q -w \"#master=$server_id\"; echo $?`\n\nif [ ${is_master} -ne 0 ]\nthen\n   sudo sed -i '\/\\[mysqld\\]\/a read_only=1' \/etc\/my.cnf.d\/nutanix.cnf\nfi\n\nsudo mkdir -p \/mysql\/log \/mysql\/data \/mysql\/tmpdir \/mysql\/undo\nsudo mount -a\nsudo chown -R mysql:mysql \/mysql\n\nsudo rm -f \/mysql\/data\/*\nsudo systemctl start mysqld\n\n#Fix to obtain temp password and set it to blank\npassword=$(grep -oP 'temporary password(.*): \\K(\\S+)' \/var\/log\/mysqld.log)\nsudo mysqladmin --user=root --password=\"$password\" password aaBB**cc1122\nsudo mysql --user=root --password=aaBB**cc1122 -e \"UNINSTALL COMPONENT 'file:\/\/component_validate_password'\"\nsudo mysqladmin --user=root --password=\"aaBB**cc1122\" password \"\"\n\n#Mysql secure installation\nsudo mysql -u root<<-EOF\nALTER USER 'root'@'localhost' IDENTIFIED WITH caching_sha2_password BY '@@{MYSQL_PASSWORD}@@';\nDELETE FROM mysql.user WHERE User='root' AND Host NOT IN ('localhost', '127.0.0.1', '::1');\nDELETE FROM mysql.user WHERE User='';\nDELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';\nFLUSH PRIVILEGES;\nEOF\n"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"90ef1e18-7b52-4080-835f-e35ca25b8eb7"}],"name":"604f3369_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"c426da26_dag","uuid":"4d5f7df7-21b4-4a09-9a6c-5ab1bcd74dd4"},"uuid":"e8faa95b-cb91-4ae8-9531-f8fedd79e08d"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"AzureSlavePackage","uuid":"b6a060ac-e7eb-43a9-9031-1bb910679679"},"retries":"0","name":"d93cd003_dag","type":"DAG","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"e24fbae0-147c-411f-8735-5e7f9923eeb3"}],"name":"dab6a81d_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"d93cd003_dag","uuid":"e24fbae0-147c-411f-8735-5e7f9923eeb3"},"uuid":"b20edbfa-3c65-4fce-adbd-1368fd151b7c"}},"variable_list":[],"description":""}],"client_attrs":{"4cebe9e2-3bee-4558-ac1b-0c6eddb26595":{"y":400,"x":115},"36a7c7f5-ff4d-4a27-bb49-4c33aca820bd":{"y":400,"x":480},"5eea00a4-c2ef-44a9-8509-f8fbc49c5dad":{"y":400,"x":115},"8ad38be6-4a90-4e33-b7e9-9fb6d9ac7694":{"y":400,"x":115},"bfc99fe8-3579-4962-add0-30553ad24cf8":{"y":400,"x":115}}},"description":"* sudo mysql -u root -p[PASSWORD]  \n* default password [ nutanix\/4u ]"},"api_version":"3.0","metadata":{"last_update_time":"1548320047428846","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"2ba5c468-0b8a-4be7-9dbb-db4d19fc83c9","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":1,"creation_time":"1548319974428031","name":"CALM-11748-check-0"}}