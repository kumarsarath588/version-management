{"status":{"description":"","source_mpi":"","state":"ACTIVE","is_cloned":false,"message_list":[],"resources":{"service_definition_list":[{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"dacce6c4-ffc6-45e8-a912-cc566eec9626","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"DAG","uuid":"7b5cf7bd-1824-4999-b016-f34c1d974a8d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"72b916a5_dag"}],"description":"","message_list":[],"uuid":"94e0a00c-976f-4cb5-920a-4268be095296","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"72b916a5_dag","uuid":"7b5cf7bd-1824-4999-b016-f34c1d974a8d"},"name":"889e469c_runbook_cloned_1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"6bc0d745-f4be-4cf1-9cdf-557ed3cc0e56","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"DAG","uuid":"2fd33e02-52ef-4cd3-bd6d-f68de7ac4280","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"429866a5_dag"}],"description":"","message_list":[],"uuid":"5623b392-ade7-4e40-97e6-02f727e6861a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"429866a5_dag","uuid":"2fd33e02-52ef-4cd3-bd6d-f68de7ac4280"},"name":"ba903ca4_runbook_cloned_1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"f6428c1e-30fd-4b0b-914b-4ccda38fcba2","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"DAG","uuid":"280f54d2-8f1e-46d7-9b7d-88cf383719c6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"39e9ed37_dag"}],"description":"","message_list":[],"uuid":"919c2825-3446-4bc8-9030-9255bca06701","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"39e9ed37_dag","uuid":"280f54d2-8f1e-46d7-9b7d-88cf383719c6"},"name":"e57299e8_runbook_cloned_1"}},{"description":"System action for starting an application","message_list":[],"uuid":"af4196a8-16ce-45d4-a1ce-07604fe71123","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"DAG","uuid":"64364048-3271-4625-b3aa-22921c634df4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f65bed74_dag"}],"description":"","message_list":[],"uuid":"3b39ba16-6503-4961-8fd4-a11deb2bb75a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f65bed74_dag","uuid":"64364048-3271-4625-b3aa-22921c634df4"},"name":"481c8fb9_runbook_cloned_1"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b185b389-b307-46ec-9246-458c199a236d","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"DAG","uuid":"6b21cd57-d812-46d8-9fd5-211c22ad4679","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"dbc95a1b_dag"}],"description":"","message_list":[],"uuid":"2f2a14fe-9647-4c1e-aaa9-5038b46d158e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"dbc95a1b_dag","uuid":"6b21cd57-d812-46d8-9fd5-211c22ad4679"},"name":"1211f851_runbook_cloned_1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"e8b2c947-eaf8-4ef4-8b1a-add088d40861","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"DAG","uuid":"a3de3ec3-8059-4659-9d0e-299a8939dbb1","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"9628cbe2-1caf-4fe3-bd91-2cd6078009a3"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9628cbe2-1caf-4fe3-bd91-2cd6078009a3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}],"description":"","message_list":[],"uuid":"b4435b20-5809-4e95-b622-ede632921678","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"a3de3ec3-8059-4659-9d0e-299a8939dbb1"},"name":"SYS_GEN__Runbook_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}}],"message_list":[],"uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"FileServer"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"176b24ec-b75a-4007-ac81-07248663eecb","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"DAG","uuid":"b1fcc229-fcc9-46ec-890b-3dd2abda7f67","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"72b916a5_dag"}],"description":"","message_list":[],"uuid":"8e106ca0-1c4c-42f1-add6-88aec41f5cf0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"72b916a5_dag","uuid":"b1fcc229-fcc9-46ec-890b-3dd2abda7f67"},"name":"889e469c_runbook"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"5051fb5e-2515-4f48-9dc8-8326618218b0","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"DAG","uuid":"4cc45053-ba4f-4413-b625-f4e7a3daa890","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"429866a5_dag"}],"description":"","message_list":[],"uuid":"a3fa9190-013f-401c-9a4e-ba93c3eeee21","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"429866a5_dag","uuid":"4cc45053-ba4f-4413-b625-f4e7a3daa890"},"name":"ba903ca4_runbook"}},{"description":"System action for restarting an application","message_list":[],"uuid":"daca4429-0b42-4ba7-9858-bc226aff2c93","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"DAG","uuid":"d608183b-f2d5-4d0b-9bab-ba865ee13544","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"39e9ed37_dag"}],"description":"","message_list":[],"uuid":"0347369a-1f7c-4e26-98c4-2f0ec29df67d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"39e9ed37_dag","uuid":"d608183b-f2d5-4d0b-9bab-ba865ee13544"},"name":"e57299e8_runbook"}},{"description":"System action for starting an application","message_list":[],"uuid":"30273407-1d53-4681-8f2d-edacc699ceab","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"DAG","uuid":"4e51b45f-d65d-43fd-b832-c69b6253c3d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f65bed74_dag"}],"description":"","message_list":[],"uuid":"e5f95b58-0367-4c97-97f6-6c086396901c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f65bed74_dag","uuid":"4e51b45f-d65d-43fd-b832-c69b6253c3d3"},"name":"481c8fb9_runbook"}},{"description":"System action for stopping an application","message_list":[],"uuid":"a5ecf191-be7d-4d73-b7db-6c9d880517be","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"DAG","uuid":"66448083-4373-475c-ae90-fcae54daa0de","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"dbc95a1b_dag"}],"description":"","message_list":[],"uuid":"36fa838d-2238-416b-af07-612d612f09e0","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"dbc95a1b_dag","uuid":"66448083-4373-475c-ae90-fcae54daa0de"},"name":"1211f851_runbook"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"d11c1a8c-c511-4806-9da5-d57705a7bed0","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"DAG","uuid":"4f1d37e2-b114-4b96-ad54-b0ff8c705f6a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"a9157666-9b4f-4cb5-a947-650dd6ade410"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"a9157666-9b4f-4cb5-a947-650dd6ade410","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"f4c788de-b5f3-44a6-9363-b05e8450dde4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"4f1d37e2-b114-4b96-ad54-b0ff8c705f6a"},"name":"SYS_GEN__Runbook_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}}],"message_list":[],"uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"RODC"},{"port_list":[],"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"1ab930e1-aa9f-4814-88f6-692277b85b66","name":"action_create","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"DAG","uuid":"da5568f2-5bed-4115-a0c6-d57c6da569f4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"72b916a5_dag"}],"description":"","message_list":[],"uuid":"921dc14b-d505-4d24-89cb-e44b5ccdad7d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"72b916a5_dag","uuid":"da5568f2-5bed-4115-a0c6-d57c6da569f4"},"name":"889e469c_runbook_cloned_1_cloned_1"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"052c5260-f177-4a59-89ff-cd32cae7fe23","name":"action_delete","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"DAG","uuid":"59dfcc25-88d1-4d90-a2d8-13c8f8a9feb4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"429866a5_dag"}],"description":"","message_list":[],"uuid":"dc23771e-0f6c-40cb-9ac9-41151e197903","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"429866a5_dag","uuid":"59dfcc25-88d1-4d90-a2d8-13c8f8a9feb4"},"name":"ba903ca4_runbook_cloned_1_cloned_1"}},{"description":"System action for restarting an application","message_list":[],"uuid":"67aa7276-4a63-42a0-b150-7ceb6cc81083","name":"action_restart","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"DAG","uuid":"bcbbebd4-aaf7-4efe-a94b-333b15639539","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"39e9ed37_dag"}],"description":"","message_list":[],"uuid":"d8a863c0-d19e-4f85-939f-0f5d1ca8b68c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"39e9ed37_dag","uuid":"bcbbebd4-aaf7-4efe-a94b-333b15639539"},"name":"e57299e8_runbook_cloned_1_cloned_1"}},{"description":"System action for starting an application","message_list":[],"uuid":"3d350626-420c-4153-87f0-39d4d9e49a1c","name":"action_start","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"DAG","uuid":"0faa8f2d-1f23-49a7-aecb-3d61fbd7c07f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"f65bed74_dag"}],"description":"","message_list":[],"uuid":"0c5a91ae-a45e-4e0d-b918-d95f3e147594","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f65bed74_dag","uuid":"0faa8f2d-1f23-49a7-aecb-3d61fbd7c07f"},"name":"481c8fb9_runbook_cloned_1_cloned_1"}},{"description":"System action for stopping an application","message_list":[],"uuid":"c688fd7e-f9bc-4244-8728-814dc66b11d2","name":"action_stop","state":"ACTIVE","critical":false,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"DAG","uuid":"8d365e53-6da9-46cb-ae2b-d4a7c7ea8711","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"dbc95a1b_dag"}],"description":"","message_list":[],"uuid":"0def1695-83b1-4f67-b1e9-413081bca11e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"dbc95a1b_dag","uuid":"8d365e53-6da9-46cb-ae2b-d4a7c7ea8711"},"name":"1211f851_runbook_cloned_1_cloned_1"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"23341540-494a-4431-9251-e0aed20767f5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"DAG","uuid":"868e5af1-5788-45fb-ab44-eddf4ccb153a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Service_Element_Delete_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"d2a0c8f0-d02e-4ef7-8994-38169a87a1e5"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"d2a0c8f0-d02e-4ef7-8994-38169a87a1e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Service_Element_Delete_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"e38a6c5f-fa3d-4ee4-8e8f-dd2febe64d29","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"868e5af1-5788-45fb-ab44-eddf4ccb153a"},"name":"SYS_GEN__Runbook_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}}],"message_list":[],"uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29","state":"ACTIVE","depends_on_list":[],"editables":{},"tier":"","singleton":false,"variable_list":[],"name":"SQLServer"}],"substrate_definition_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"973545a6-c215-4ca9-962e-82366a059faf","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DAG","uuid":"ed973ff6-1a44-4524-b643-f891a9765d63","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"4fc610b5-e80c-497d-ab34-b3e037d45eea"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"a1c0575c-8308-4da3-9eec-92da03ed62d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"4fc610b5-e80c-497d-ab34-b3e037d45eea"},"edge_type":"inherent","type":"","uuid":"1d09180a-3361-4fc3-b848-a4ba6209ea61","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"a1c0575c-8308-4da3-9eec-92da03ed62d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"4fc610b5-e80c-497d-ab34-b3e037d45eea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"TFileServer","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n              <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"a1c0575c-8308-4da3-9eec-92da03ed62d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"6b046cef-9f52-49c0-a4e7-236f4e13eb5e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"ed973ff6-1a44-4524-b643-f891a9765d63"},"name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}},{"description":"System action for powering on an application","message_list":[],"uuid":"937e7395-ce1c-471f-8372-5a019528d1d9","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DAG","uuid":"61b4b6e4-6c3b-4452-ad8f-c56801b11e9a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"4acb0446-374d-4805-a93a-2ff99f57e995"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"76f8a062-43bc-4a67-b4de-f1d5fff5bbf1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"4acb0446-374d-4805-a93a-2ff99f57e995"},"edge_type":"inherent","type":"","uuid":"2dbb936a-22db-41b6-abb0-d2e9f60bc4fc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"76f8a062-43bc-4a67-b4de-f1d5fff5bbf1"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"4acb0446-374d-4805-a93a-2ff99f57e995","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"76f8a062-43bc-4a67-b4de-f1d5fff5bbf1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"a2b384a0-fe26-4a28-a165-f3e791f80be7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"61b4b6e4-6c3b-4452-ad8f-c56801b11e9a"},"name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8258515a-ddb3-4a1d-98cd-24b3e8c02c15","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DAG","uuid":"0c477fd4-fefd-48ff-82a8-132dc0f9d135","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"899c6da1-eae5-45ab-a23f-27e5f5637903"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"9e826a14-cba6-4558-914a-82ba3cd8f514"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"899c6da1-eae5-45ab-a23f-27e5f5637903"},"edge_type":"inherent","type":"","uuid":"04a1c6a4-cdd7-4bbc-97c6-efeb45b4465c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"9e826a14-cba6-4558-914a-82ba3cd8f514"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"899c6da1-eae5-45ab-a23f-27e5f5637903","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"9e826a14-cba6-4558-914a-82ba3cd8f514","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TFileServer_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"ff6a3d2b-45f5-401a-b19f-2c7602e77dce","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"0c477fd4-fefd-48ff-82a8-132dc0f9d135"},"name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}},{"description":"System action for suspending an application","message_list":[],"uuid":"a8f874c4-bc9a-4518-b6db-0b860140c0ee","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DAG","uuid":"805e578d-c9d2-4f3c-84b8-bf80d5116091","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"ed08aa52-c03a-45af-8029-2f85df8d4f03","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"805e578d-c9d2-4f3c-84b8-bf80d5116091"},"name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}},{"description":"System action for modifying an application","message_list":[],"uuid":"53dc4663-246e-4934-9dfb-5705d4c0f552","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DAG","uuid":"8f8ea35d-ace2-40b6-b2a4-ebdb3184d981","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"8324c9d7-117e-48a5-bdc6-461d0e4e2e9b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"8f8ea35d-ace2-40b6-b2a4-ebdb3184d981"},"name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}},{"description":"System action for powering off an application","message_list":[],"uuid":"9c99b431-6a1c-431c-8d5f-6ccbc3d6755b","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DAG","uuid":"5b119df9-a89f-492c-81a4-5ed33eb4414a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"8bcd209b-3f7f-4b9e-b7e0-eefa9700ff91"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"8bcd209b-3f7f-4b9e-b7e0-eefa9700ff91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"20d68b4b-ddb1-4837-9fec-acddf78363ad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"5b119df9-a89f-492c-81a4-5ed33eb4414a"},"name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"17d30bdb-b9e5-4202-baa2-e598d27fae80","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DAG","uuid":"33a058ee-5bce-423b-805e-3f0576d4d948","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"184a3e43-d652-4403-8e74-4e8eb832be1a"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"184a3e43-d652-4403-8e74-4e8eb832be1a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"bfa71e50-02c8-4d82-b28d-1bb47f8d9ec3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"33a058ee-5bce-423b-805e-3f0576d4d948"},"name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"9c44fcfa-9294-46aa-b85d-28a118d31735","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"DAG","uuid":"827edc1b-09ca-4edf-b94d-c41c871cfd0a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"9334c3de-1f31-4bb5-94f3-e0cc44b56f10"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"9334c3de-1f31-4bb5-94f3-e0cc44b56f10","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"9d7b284e-fd1a-46aa-acac-98ce9cc83b25","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"827edc1b-09ca-4edf-b94d-c41c871cfd0a"},"name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}}],"message_list":[],"uuid":"75318bd1-7ab9-4e18-9388-7822c825080f","state":"ACTIVE","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"120","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"TFileServer","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n              <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"variable_list":[],"name":"TFileServer"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"74fee16e-b6e3-4f1b-b73b-03691ddd5c76","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DAG","uuid":"1a9db1c4-9d35-45f0-a067-1090ec738ec5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"d3d16f55-8ce3-44ea-b13a-3598c35c5260"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"8025024d-8fa6-48fa-a3a0-288767bb2e03"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"d3d16f55-8ce3-44ea-b13a-3598c35c5260"},"edge_type":"inherent","type":"","uuid":"b8e22358-4e96-485e-90bf-842219bf0086","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"8025024d-8fa6-48fa-a3a0-288767bb2e03"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"d3d16f55-8ce3-44ea-b13a-3598c35c5260","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"TRODC","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n   \n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>  \n      \n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n      \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n            \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"8025024d-8fa6-48fa-a3a0-288767bb2e03","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"93833a23-768e-4e63-a1d5-9351fceb883a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"1a9db1c4-9d35-45f0-a067-1090ec738ec5"},"name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}},{"description":"System action for powering on an application","message_list":[],"uuid":"0b089dbd-1df4-4652-b103-dcceb37f0294","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DAG","uuid":"4722923d-95d2-4b0c-aa02-1ec986b15762","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"8570f010-366d-441d-93b4-d9e83130c0f7"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"4fa7ba64-8715-4067-8572-f7437104adc0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"8570f010-366d-441d-93b4-d9e83130c0f7"},"edge_type":"inherent","type":"","uuid":"7db691c7-46ee-434a-9793-72da569b7a92","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"4fa7ba64-8715-4067-8572-f7437104adc0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"8570f010-366d-441d-93b4-d9e83130c0f7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"4fa7ba64-8715-4067-8572-f7437104adc0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"5f9697a5-81f7-4d55-826b-90cc89bb93f8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"4722923d-95d2-4b0c-aa02-1ec986b15762"},"name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}},{"description":"System action for restarting an application","message_list":[],"uuid":"acf3eabc-1815-4d83-99bc-a2351313241a","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DAG","uuid":"21f8be65-04f9-4a77-955a-24f5d1f35d1c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"93f13fa0-7ce9-413a-8a67-51a6361826d3"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"d8a6e850-3c87-48f3-99e9-02f2bbfad95f"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"93f13fa0-7ce9-413a-8a67-51a6361826d3"},"edge_type":"inherent","type":"","uuid":"f3bba597-a3ca-4b41-9fd0-a62309641e0f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"d8a6e850-3c87-48f3-99e9-02f2bbfad95f"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"93f13fa0-7ce9-413a-8a67-51a6361826d3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"d8a6e850-3c87-48f3-99e9-02f2bbfad95f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TRODC_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"aeb93c66-0928-4d3a-9e7d-206ba7b77683","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"21f8be65-04f9-4a77-955a-24f5d1f35d1c"},"name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}},{"description":"System action for suspending an application","message_list":[],"uuid":"fca7365a-0889-446d-bb6e-660728fc27f2","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DAG","uuid":"f9dc833a-f358-4ab3-9a3e-63060cb00bd1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"8e108edd-74a0-4cd8-b137-1ca0ebe5532d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"f9dc833a-f358-4ab3-9a3e-63060cb00bd1"},"name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}},{"description":"System action for modifying an application","message_list":[],"uuid":"beb8c21c-365c-4041-8159-117c255cfd3a","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DAG","uuid":"e4a7ab67-78ee-4c2f-8c53-45a7ebc77cd0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"69f0a24b-42d4-4a11-b031-394aa7797ee8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"e4a7ab67-78ee-4c2f-8c53-45a7ebc77cd0"},"name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}},{"description":"System action for powering off an application","message_list":[],"uuid":"020b1e66-27ce-46f2-89ef-c39fbea48ea4","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DAG","uuid":"6d85d3bd-128a-4e0b-a48c-62505be1006d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"b525da47-bcb3-4896-b221-aca6a01b4222"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"b525da47-bcb3-4896-b221-aca6a01b4222","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"026501d1-49d8-4bfb-ae4b-09c7b922ac8e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"6d85d3bd-128a-4e0b-a48c-62505be1006d"},"name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"11df80f4-efdc-467d-bad7-d130f404a7e1","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DAG","uuid":"395c2312-d436-4fb1-82fb-2bc2095ef808","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"bdb03647-b9e3-4c9d-a1fa-e06509ec3e51"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"bdb03647-b9e3-4c9d-a1fa-e06509ec3e51","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"117b052b-207c-4b44-acba-6ed0ff563e9a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"395c2312-d436-4fb1-82fb-2bc2095ef808"},"name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"73274fad-d1dc-4c78-843c-91e0a7543307","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"DAG","uuid":"30cc9f72-7d46-4a52-b7d0-614132784611","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"1e77a16a-e311-4a20-8c3c-f3daf3c9ee31"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"1e77a16a-e311-4a20-8c3c-f3daf3c9ee31","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"63ff57b8-fd92-46ca-88c2-993a4ba81d81","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"30cc9f72-7d46-4a52-b7d0-614132784611"},"name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}}],"message_list":[],"uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42","state":"ACTIVE","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"120","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"TRODC","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n   \n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>  \n      \n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n      \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n            \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]}},"variable_list":[],"name":"TRODC"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"db840053-27b2-422f-a8c2-65b4f4869850","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DAG","uuid":"120a1035-0a7d-40a9-9eca-dc6d1f5f1b77","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"232f7b78-30aa-476c-a282-7defaa355c43"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"d3f6553d-3420-4dee-ae8a-cecd12d2bf15"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Provision_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"232f7b78-30aa-476c-a282-7defaa355c43"},"edge_type":"inherent","type":"","uuid":"3133574c-ce24-430a-932e-c234224ac2e1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"d3f6553d-3420-4dee-ae8a-cecd12d2bf15"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"PROVISION_NUTANIX","uuid":"232f7b78-30aa-476c-a282-7defaa355c43","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"name":"TSQLServer","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"ae7b7652-bddf-41b2-8920-fa3d5bd0be9a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":1,"type":""}}}]}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Provision_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"d3f6553d-3420-4dee-ae8a-cecd12d2bf15","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"89bd932a-7ff3-4409-88bc-9db2f7ab9d43","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"120a1035-0a7d-40a9-9eca-dc6d1f5f1b77"},"name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}},{"description":"System action for powering on an application","message_list":[],"uuid":"baa54405-e4d7-4345-bc41-e43a3ba1df19","name":"action_poweron","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DAG","uuid":"096363e4-d7a6-414f-9f70-41903d524423","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e1e6fdc3-4180-4f2c-8a21-f204d1cd0693"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e567fda0-1cb1-441c-bcd9-ecd8d92a32ce"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOn_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e1e6fdc3-4180-4f2c-8a21-f204d1cd0693"},"edge_type":"inherent","type":"","uuid":"c3e589aa-7f80-4e95-a5ac-c3b1be72557b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e567fda0-1cb1-441c-bcd9-ecd8d92a32ce"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"e1e6fdc3-4180-4f2c-8a21-f204d1cd0693","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOn_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"e567fda0-1cb1-441c-bcd9-ecd8d92a32ce","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"3e3ad37d-0742-476b-afec-f639abcb6dc9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"096363e4-d7a6-414f-9f70-41903d524423"},"name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"9ba6c505-ab8f-4e23-abc6-3e27928ddfeb","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DAG","uuid":"11195880-d2de-4b02-b1d0-edfb6a67f95b","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"0fd2b02b-fba8-4ac2-8013-0800a5980bc1"},{"kind":"app_task","name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"c3337a13-aeba-4b69-b597-04d094eb0114"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_Restart_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"0fd2b02b-fba8-4ac2-8013-0800a5980bc1"},"edge_type":"inherent","type":"","uuid":"9ccd734f-cdda-42b0-a2f2-a352b2efbd85","to_task_reference":{"kind":"app_task","name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"c3337a13-aeba-4b69-b597-04d094eb0114"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"0fd2b02b-fba8-4ac2-8013-0800a5980bc1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_Restart_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CHECK_LOGIN","uuid":"c3337a13-aeba-4b69-b597-04d094eb0114","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"retries":"5","dial_timeout":"","timeout":"60","address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","type":"CHECK_LOGIN","sleep_time":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__check_login_for_TSQLServer_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"e7fd427d-6a26-4741-b3ec-db22a91b9db5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"11195880-d2de-4b02-b1d0-edfb6a67f95b"},"name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}},{"description":"System action for suspending an application","message_list":[],"uuid":"83c8e16d-f81a-4d3f-9073-04554a25ce45","name":"action_suspend","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DAG","uuid":"617a48f7-c7fc-473d-aae9-b27485fd79c7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"91c30815-c7be-4bef-8d58-2a7b487177d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"617a48f7-c7fc-473d-aae9-b27485fd79c7"},"name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}},{"description":"System action for modifying an application","message_list":[],"uuid":"a05f28f3-5286-454a-97f8-27b5563bc93e","name":"action_modify","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DAG","uuid":"26478906-7074-4440-8834-41a20b94257d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"166bb13f-edd6-4523-9c18-c67905ceed22","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"26478906-7074-4440-8834-41a20b94257d"},"name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}},{"description":"System action for powering off an application","message_list":[],"uuid":"67093c43-8437-411d-8a09-f0340c50b2ab","name":"action_poweroff","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DAG","uuid":"fc4c0721-00b1-4c33-9497-e8af0064ea01","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Operation_PowerOff_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"602cc1c5-d8a8-44d4-a079-4f4fe18beae7"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"VMOPERATION_NUTANIX","uuid":"602cc1c5-d8a8-44d4-a079-4f4fe18beae7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":"GENERIC_OPERATION"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Operation_PowerOff_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"91c64252-73ce-43a9-acb8-dce557a2557a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"fc4c0721-00b1-4c33-9497-e8af0064ea01"},"name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"75e4b43e-280f-49d9-83eb-db866476b06a","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DAG","uuid":"1b01d095-b682-49a2-9e75-d3f460c45d32","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Nutanix_Delete_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"fe823fbc-4fc6-461d-9747-d5fbb92c2d18"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DELETE_NUTANIX","uuid":"fe823fbc-4fc6-461d-9747-d5fbb92c2d18","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Nutanix_Delete_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"1bb7ea75-29f0-480f-9510-49645eb167e3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"1b01d095-b682-49a2-9e75-d3f460c45d32"},"name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"52d5426a-21c1-4006-a93c-15e57c3fc1aa","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"DAG","uuid":"71cb6955-4f47-4823-b8ca-7cd9848ab952","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Substrate_Element_Delete_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"bc40de13-2ff8-4e49-b265-f737362cdd9b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"bc40de13-2ff8-4e49-b265-f737362cdd9b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Substrate_Element_Delete_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"f697102c-0063-4b62-9c7e-557ca1637271","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"71cb6955-4f47-4823-b8ca-7cd9848ab952"},"name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}}],"message_list":[],"uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d","state":"ACTIVE","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"120","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"TSQLServer","categories":"","availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"resources":{"nic_list":[{"nic_type":"NORMAL_NIC","ip_endpoint_list":[],"network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"parent_reference":null,"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"serial_port_list":[],"gpu_list":[],"memory_size_mib":4096,"power_state":"ON","hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"type":"","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","type":"","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","type":"","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"ae7b7652-bddf-41b2-8920-fa3d5bd0be9a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":1,"type":""}}}]}},"variable_list":[],"name":"TSQLServer"}],"credential_definition_list":[{"username":"administrator@contoso.com","description":"","state":"ACTIVE","message_list":[],"uuid":"07289b6f-f397-447c-8872-6c32c22addf4","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{},"type":"PASSWORD","name":"DOMAIN_CRED"},{"username":"administrator","description":"","state":"ACTIVE","message_list":[],"uuid":"f798eb56-dc79-491f-beec-09ecc15db66e","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{}}},"editables":{},"type":"PASSWORD","name":"LOCAL"}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"40ffa860-9d7d-4aec-81cd-d7c5b117ef40","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DAG","uuid":"0d8fa57a-de44-4afb-a6f7-e702d950124d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"761f0bfc-40b2-4a10-9db0-a38d1859e889"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"001f3e17-f25f-4da7-8748-37e624337082"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"156d80f2-1f82-414a-a8e7-660329500612"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"e3417445-fec5-41e7-8eb1-47e5f6fafe6d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"b51aea23-69d1-4115-be1f-270bd78741c8"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"e3417445-fec5-41e7-8eb1-47e5f6fafe6d"},"edge_type":"inherent","type":"","uuid":"6f4d2dfc-8648-457a-a4bb-a4e4db5cc182","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"b51aea23-69d1-4115-be1f-270bd78741c8"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"156d80f2-1f82-414a-a8e7-660329500612"},"edge_type":"inherent","type":"","uuid":"b60961ad-5b84-4d80-8a6b-e9930f33b2e7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"e3417445-fec5-41e7-8eb1-47e5f6fafe6d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"761f0bfc-40b2-4a10-9db0-a38d1859e889"},"edge_type":"inherent","type":"","uuid":"5dac4e08-383f-4561-b57e-2bee11e07f27","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"001f3e17-f25f-4da7-8748-37e624337082"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"001f3e17-f25f-4da7-8748-37e624337082"},"edge_type":"inherent","type":"","uuid":"081c04a0-8207-4cd7-8760-bb70b43993b7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"156d80f2-1f82-414a-a8e7-660329500612"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"761f0bfc-40b2-4a10-9db0-a38d1859e889","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"001f3e17-f25f-4da7-8748-37e624337082","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"93833a23-768e-4e63-a1d5-9351fceb883a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"156d80f2-1f82-414a-a8e7-660329500612","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"b1967b89-2e8e-4fb0-adfa-7aff4f97b5f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e3417445-fec5-41e7-8eb1-47e5f6fafe6d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook","uuid":"8e106ca0-1c4c-42f1-add6-88aec41f5cf0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b51aea23-69d1-4115-be1f-270bd78741c8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook","uuid":"e5f95b58-0367-4c97-97f6-6c086396901c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"089524f5-4b49-490e-8dfc-78e35675d229","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"0d8fa57a-de44-4afb-a6f7-e702d950124d"},"name":"SYS_GEN__Runbook_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}},{"description":"System action for starting an application","message_list":[],"uuid":"e7d43441-2024-4e8b-b5e8-ad8b80bf62dc","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DAG","uuid":"64982fe2-46f8-4178-9676-3e074a59a087","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"9bdbc539-85b4-40fa-a7b0-145e82858d84"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"c122ac49-687c-4102-8ab6-472a58c1c6d4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"9bdbc539-85b4-40fa-a7b0-145e82858d84"},"edge_type":"inherent","type":"","uuid":"391be19a-baa8-482a-a02f-e8b9e43991ca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"c122ac49-687c-4102-8ab6-472a58c1c6d4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9bdbc539-85b4-40fa-a7b0-145e82858d84","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"5f9697a5-81f7-4d55-826b-90cc89bb93f8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c122ac49-687c-4102-8ab6-472a58c1c6d4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook","uuid":"e5f95b58-0367-4c97-97f6-6c086396901c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"3c14641f-4a85-438e-97b3-27da47fede47","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"64982fe2-46f8-4178-9676-3e074a59a087"},"name":"SYS_GEN__Runbook_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}},{"description":"System action for restarting an application","message_list":[],"uuid":"a18b66c1-33fc-4881-b513-92afa0e1decd","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DAG","uuid":"8857c833-75cd-434c-9c30-4bc93c8ead2e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"56f6d081-3b06-4220-8c71-153e6c9e2a79"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"93dd8722-de1a-4161-8826-ba80947021b6"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"56f6d081-3b06-4220-8c71-153e6c9e2a79"},"edge_type":"inherent","type":"","uuid":"ee71b3d4-7e86-4d9d-b159-aa8fbd67fda2","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"93dd8722-de1a-4161-8826-ba80947021b6"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"56f6d081-3b06-4220-8c71-153e6c9e2a79","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"aeb93c66-0928-4d3a-9e7d-206ba7b77683"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"93dd8722-de1a-4161-8826-ba80947021b6","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook","uuid":"0347369a-1f7c-4e26-98c4-2f0ec29df67d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"b1906d3e-a861-47c4-b4e2-6392181f14c9","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"8857c833-75cd-434c-9c30-4bc93c8ead2e"},"name":"SYS_GEN__Runbook_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}},{"description":"System action for stopping an application","message_list":[],"uuid":"b19d6c6a-cb0d-4bb7-80fc-408bbdbc294c","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DAG","uuid":"87b3a4b6-e24e-428e-8f25-dcc67f56c2b0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"f47eacdb-a8d0-4c5e-bdc1-664882013ce3"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"16eef86e-f102-452e-b1c0-293f2134110d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"f47eacdb-a8d0-4c5e-bdc1-664882013ce3"},"edge_type":"inherent","type":"","uuid":"90335ec7-36ce-4f5a-ad64-e93f0b8de03e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"16eef86e-f102-452e-b1c0-293f2134110d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f47eacdb-a8d0-4c5e-bdc1-664882013ce3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook","uuid":"36fa838d-2238-416b-af07-612d612f09e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"16eef86e-f102-452e-b1c0-293f2134110d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"026501d1-49d8-4bfb-ae4b-09c7b922ac8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"}],"description":"","message_list":[],"uuid":"a7176b37-6aba-4ce4-9150-807d59fad492","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"87b3a4b6-e24e-428e-8f25-dcc67f56c2b0"},"name":"SYS_GEN__Runbook_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"a4c9e577-18d3-4f81-8d28-f48c6ef91c88","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DAG","uuid":"bdaae641-4676-4dee-b8e2-a43ce34bf61c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"6bda150c-7deb-4a98-a35e-f53837c7a450"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"c6670b8f-c94e-4dc0-86e3-412da83a6bb4"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"701367e3-5e7c-43db-bb86-29de92bd71bd"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"91cdd545-2faf-4d9c-b67d-53908fbca6f8"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"3cde9289-ae00-489d-8680-7781d0b5b945"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"6bda150c-7deb-4a98-a35e-f53837c7a450"},"edge_type":"inherent","type":"","uuid":"f93c2649-9c83-461f-9156-502a9350c6b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"c6670b8f-c94e-4dc0-86e3-412da83a6bb4"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"c6670b8f-c94e-4dc0-86e3-412da83a6bb4"},"edge_type":"inherent","type":"","uuid":"63a34a16-c9ad-4dc3-811e-d99fe973c975","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"701367e3-5e7c-43db-bb86-29de92bd71bd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"91cdd545-2faf-4d9c-b67d-53908fbca6f8"},"edge_type":"inherent","type":"","uuid":"a06eeaf6-b9b4-476a-b3b1-774622512968","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"3cde9289-ae00-489d-8680-7781d0b5b945"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"701367e3-5e7c-43db-bb86-29de92bd71bd"},"edge_type":"inherent","type":"","uuid":"69b89ddd-fe6d-43ec-868f-13b43cb77dcf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"91cdd545-2faf-4d9c-b67d-53908fbca6f8"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6bda150c-7deb-4a98-a35e-f53837c7a450","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook","uuid":"36fa838d-2238-416b-af07-612d612f09e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c6670b8f-c94e-4dc0-86e3-412da83a6bb4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook","uuid":"a3fa9190-013f-401c-9a4e-ba93c3eeee21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"701367e3-5e7c-43db-bb86-29de92bd71bd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"08065478-f272-4478-9817-c7e542af6816"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"91cdd545-2faf-4d9c-b67d-53908fbca6f8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"117b052b-207c-4b44-acba-6ed0ff563e9a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3cde9289-ae00-489d-8680-7781d0b5b945","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}],"description":"","message_list":[],"uuid":"c51d8236-a143-4721-990a-ba84e139edc2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"bdaae641-4676-4dee-b8e2-a43ce34bf61c"},"name":"SYS_GEN__Runbook_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}},{"description":"System action for scaleout","message_list":[],"uuid":"14a269bb-a8f8-41d7-9c48-10f72edd081a","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DAG","uuid":"4b0d714b-e09b-463d-9cfa-ef95a75dcb0d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"a6e500f2-00ae-4230-89eb-7d5654319191"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"SCALING","uuid":"a6e500f2-00ae-4230-89eb-7d5654319191","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}],"description":"","message_list":[],"uuid":"f12ac6ae-360d-478e-bccd-6399fc20f420","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"b110e411-b0de-4ca9-816a-399d2d3cbcf2","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"4b0d714b-e09b-463d-9cfa-ef95a75dcb0d"},"name":"SYS_GEN__Runbook_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}},{"description":"System action for scalein","message_list":[],"uuid":"bcaee388-9da2-4b3f-9dca-6e51d7c3df72","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DAG","uuid":"43ed8670-5fa0-4527-ab2a-a14fd540cdf4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"cdf5421d-2e60-4b82-8f34-dd9103258de4"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"SCALING","uuid":"cdf5421d-2e60-4b82-8f34-dd9103258de4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}],"description":"","message_list":[],"uuid":"61bb79e2-39d1-4910-ae9c-16fc9e0f4cec","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"c14b3bc4-7976-47ca-a57d-35a1e9024e54","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"43ed8670-5fa0-4527-ab2a-a14fd540cdf4"},"name":"SYS_GEN__Runbook_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"da13f9ff-beb3-4fb3-8eef-5743e408527c","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DAG","uuid":"fb3782a7-8a1c-4558-a081-8bd537e77247","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"b39cfeae-9430-4eed-8498-02ad7c41caab"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"87916453-4e2d-42bb-a89b-644f4cf9f185"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"f37d8947-ebef-4508-96be-be491bc0d501"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"7663a5a2-0e87-4bd7-b3f7-b13ff9c350c0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"b39cfeae-9430-4eed-8498-02ad7c41caab"},"edge_type":"inherent","type":"","uuid":"c4597b92-96c6-44c6-80a6-97203d14e373","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"87916453-4e2d-42bb-a89b-644f4cf9f185"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"87916453-4e2d-42bb-a89b-644f4cf9f185"},"edge_type":"inherent","type":"","uuid":"efbdd492-6cf2-4778-be19-b7d3bc600643","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"f37d8947-ebef-4508-96be-be491bc0d501"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"f37d8947-ebef-4508-96be-be491bc0d501"},"edge_type":"inherent","type":"","uuid":"4cebeb40-1e23-47e9-9330-4ce6d08cbd5f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"7663a5a2-0e87-4bd7-b3f7-b13ff9c350c0"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b39cfeae-9430-4eed-8498-02ad7c41caab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"f4c788de-b5f3-44a6-9363-b05e8450dde4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"87916453-4e2d-42bb-a89b-644f4cf9f185","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f37d8947-ebef-4508-96be-be491bc0d501","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"63ff57b8-fd92-46ca-88c2-993a4ba81d81"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"7663a5a2-0e87-4bd7-b3f7-b13ff9c350c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}],"description":"","message_list":[],"uuid":"cdccf624-da77-452c-bf7e-5ab3d5e52461","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"fb3782a7-8a1c-4558-a081-8bd537e77247"},"name":"SYS_GEN__Runbook_Deployment_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"}],"substrate_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"be8bfd7f_deployment"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"e59ee141-2836-4023-9cfb-5ef1854eb5da","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DAG","uuid":"27ecd855-a888-4020-a6a9-a6c9e1f18777","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"1add88e3-2897-45a8-bcb7-32c5502e6bd8"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"16a63ec7-cace-42a8-9dec-1b804bde85dd"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8191b912-8413-4ab6-b059-7295b8ff692b"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"0cfca7cc-6e07-4650-98fa-a52796f8205d"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"5d187226-b45f-4d04-8889-6a6c8ec988e2"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"0cfca7cc-6e07-4650-98fa-a52796f8205d"},"edge_type":"inherent","type":"","uuid":"2c3348a4-376b-448c-bfc5-c890e6a9623a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"5d187226-b45f-4d04-8889-6a6c8ec988e2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8191b912-8413-4ab6-b059-7295b8ff692b"},"edge_type":"inherent","type":"","uuid":"157d8239-171c-4ff8-a4cb-c77e20ee7875","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"0cfca7cc-6e07-4650-98fa-a52796f8205d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"1add88e3-2897-45a8-bcb7-32c5502e6bd8"},"edge_type":"inherent","type":"","uuid":"fe73e0c4-4e7e-47c0-b53c-228b1621713f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"16a63ec7-cace-42a8-9dec-1b804bde85dd"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"16a63ec7-cace-42a8-9dec-1b804bde85dd"},"edge_type":"inherent","type":"","uuid":"5d2ecdf7-46db-4dc7-b969-2c78e79d2f38","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8191b912-8413-4ab6-b059-7295b8ff692b"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"1add88e3-2897-45a8-bcb7-32c5502e6bd8","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"16a63ec7-cace-42a8-9dec-1b804bde85dd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"6b046cef-9f52-49c0-a4e7-236f4e13eb5e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8191b912-8413-4ab6-b059-7295b8ff692b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"7087c8bb-5c6b-4554-8063-6a6c8074476c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0cfca7cc-6e07-4650-98fa-a52796f8205d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook_cloned_1","uuid":"94e0a00c-976f-4cb5-920a-4268be095296"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5d187226-b45f-4d04-8889-6a6c8ec988e2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1","uuid":"3b39ba16-6503-4961-8fd4-a11deb2bb75a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}],"description":"","message_list":[],"uuid":"50aae84d-2ae7-4ac4-8bf4-48ff83a6907e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"27ecd855-a888-4020-a6a9-a6c9e1f18777"},"name":"SYS_GEN__Runbook_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"}},{"description":"System action for starting an application","message_list":[],"uuid":"bc351f74-654d-4ad3-9007-eb512038f263","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DAG","uuid":"2f22c997-c282-4b4b-a115-bb914caec602","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"24acfe9b-827e-475a-88fe-f98afa84db58"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"6a6e68eb-6a76-4bb6-9b60-a2c762372435"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"24acfe9b-827e-475a-88fe-f98afa84db58"},"edge_type":"inherent","type":"","uuid":"8148e89e-76fc-476a-91c5-5280f910f4c5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"6a6e68eb-6a76-4bb6-9b60-a2c762372435"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"24acfe9b-827e-475a-88fe-f98afa84db58","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"a2b384a0-fe26-4a28-a165-f3e791f80be7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6a6e68eb-6a76-4bb6-9b60-a2c762372435","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1","uuid":"3b39ba16-6503-4961-8fd4-a11deb2bb75a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}],"description":"","message_list":[],"uuid":"5f636c05-5aeb-42ee-9b75-58bab5dcfbb2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"2f22c997-c282-4b4b-a115-bb914caec602"},"name":"SYS_GEN__Runbook_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"}},{"description":"System action for restarting an application","message_list":[],"uuid":"8f3c4869-008a-4704-8106-4cc5fb340df4","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DAG","uuid":"4b204a9c-e45a-45d5-a626-f88589f5553f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"f28c364f-0107-4f86-b07a-02d95f79e8f1"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"afbd8d65-88ee-4259-b0c4-eecfa43f9cb9"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"f28c364f-0107-4f86-b07a-02d95f79e8f1"},"edge_type":"inherent","type":"","uuid":"ab447192-2579-4ce0-b3c4-ee666c6a1bb0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"afbd8d65-88ee-4259-b0c4-eecfa43f9cb9"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f28c364f-0107-4f86-b07a-02d95f79e8f1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"ff6a3d2b-45f5-401a-b19f-2c7602e77dce"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"afbd8d65-88ee-4259-b0c4-eecfa43f9cb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook_cloned_1","uuid":"919c2825-3446-4bc8-9030-9255bca06701"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}],"description":"","message_list":[],"uuid":"33fe2ba0-04f9-43da-a2dc-c3933798316e","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"4b204a9c-e45a-45d5-a626-f88589f5553f"},"name":"SYS_GEN__Runbook_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"}},{"description":"System action for stopping an application","message_list":[],"uuid":"43c96a39-15a9-4549-bd12-c64f86800920","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DAG","uuid":"33fc1218-08fb-45aa-9355-06adb2b40e20","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"0a1e982a-db58-465e-9ee1-3fd2d9ab0952"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"8ea16262-fe66-414c-8d0d-0774194c74fa"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"0a1e982a-db58-465e-9ee1-3fd2d9ab0952"},"edge_type":"inherent","type":"","uuid":"f4f2ed40-4d33-42a9-87f1-837695bb0198","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"8ea16262-fe66-414c-8d0d-0774194c74fa"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a1e982a-db58-465e-9ee1-3fd2d9ab0952","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1","uuid":"2f2a14fe-9647-4c1e-aaa9-5038b46d158e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8ea16262-fe66-414c-8d0d-0774194c74fa","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"20d68b4b-ddb1-4837-9fec-acddf78363ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"25d6d3da-f0ce-493b-823a-0f421da1a38b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"33fc1218-08fb-45aa-9355-06adb2b40e20"},"name":"SYS_GEN__Runbook_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"ced1d571-852e-48e6-8d28-72c1292d74c2","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DAG","uuid":"5bcdd83b-9257-4efa-962c-fc474b384edc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"6b3aa085-f74a-456c-99b7-44c572ca113f"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"3db5cac3-c732-43aa-a484-912e038ed8e0"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"92935b2d-7baf-424f-943b-6d43144e1e9a"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"c5541803-5684-4c1b-986f-2c34a7c413e3"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"3b690b04-2b47-4c74-bc52-728ec4b9acbc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"6b3aa085-f74a-456c-99b7-44c572ca113f"},"edge_type":"inherent","type":"","uuid":"4e481613-97d4-413c-b681-320233786cd3","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"3db5cac3-c732-43aa-a484-912e038ed8e0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"3db5cac3-c732-43aa-a484-912e038ed8e0"},"edge_type":"inherent","type":"","uuid":"e95ca975-166f-4622-85b8-319eb82b2e88","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"92935b2d-7baf-424f-943b-6d43144e1e9a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"c5541803-5684-4c1b-986f-2c34a7c413e3"},"edge_type":"inherent","type":"","uuid":"b00b690c-9dcc-4bec-94ad-bf57498769a8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"3b690b04-2b47-4c74-bc52-728ec4b9acbc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"92935b2d-7baf-424f-943b-6d43144e1e9a"},"edge_type":"inherent","type":"","uuid":"1d9c4120-1db8-41c6-a73a-b30fbce5ed90","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"c5541803-5684-4c1b-986f-2c34a7c413e3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6b3aa085-f74a-456c-99b7-44c572ca113f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1","uuid":"2f2a14fe-9647-4c1e-aaa9-5038b46d158e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"3db5cac3-c732-43aa-a484-912e038ed8e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook_cloned_1","uuid":"5623b392-ade7-4e40-97e6-02f727e6861a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"92935b2d-7baf-424f-943b-6d43144e1e9a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"c7887462-bcb0-436b-8cf9-8ff6bc4b3a98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c5541803-5684-4c1b-986f-2c34a7c413e3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"bfa71e50-02c8-4d82-b28d-1bb47f8d9ec3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"3b690b04-2b47-4c74-bc52-728ec4b9acbc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_6730876c_8762_4800_96ad_6f4608b42d57"}],"description":"","message_list":[],"uuid":"9c1378bc-e396-401d-bb19-aede0978bac4","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"5bcdd83b-9257-4efa-962c-fc474b384edc"},"name":"SYS_GEN__Runbook_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"}},{"description":"System action for scaleout","message_list":[],"uuid":"9fe23a20-3559-41ab-8500-4cab0567c726","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DAG","uuid":"8cf43c58-6879-46fc-913a-3d413e28833f","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"5748f2a9-f9c8-4f4c-839e-a43e4087ff0f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"SCALING","uuid":"5748f2a9-f9c8-4f4c-839e-a43e4087ff0f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_6730876c_8762_4800_96ad_6f4608b42d57"}],"description":"","message_list":[],"uuid":"6681d9b3-9a67-4f20-90da-c8e498a77980","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"99f28b4d-0e76-4eab-bb95-3f59be1da248","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"8cf43c58-6879-46fc-913a-3d413e28833f"},"name":"SYS_GEN__Runbook_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"}},{"description":"System action for scalein","message_list":[],"uuid":"670434ae-1d96-4d00-a36b-8113feaa2ad8","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DAG","uuid":"ec569aa8-3d7e-42e2-98e8-5ceb413946ee","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"0dab6c28-9cd0-4bd0-9741-9e39f58289a1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"SCALING","uuid":"0dab6c28-9cd0-4bd0-9741-9e39f58289a1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_6730876c_8762_4800_96ad_6f4608b42d57"}],"description":"","message_list":[],"uuid":"850afc46-ee54-421d-8160-c0b5d1497738","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"1af44e71-3997-4caa-bb8b-5793e3156e6a","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"ec569aa8-3d7e-42e2-98e8-5ceb413946ee"},"name":"SYS_GEN__Runbook_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"1b4563ae-81af-414f-a817-4759939379f5","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DAG","uuid":"28d24144-7955-413e-8fb9-d35120b232e9","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"811918ab-7693-4527-a712-e839170078cd"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8e460a42-e731-42b4-913b-a57085cfb0c0"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"c822e107-0f92-49b7-8496-cda9f8a94ffe"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"0cf2e58f-a7e0-4b77-bd03-9c72f7f1245d"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"811918ab-7693-4527-a712-e839170078cd"},"edge_type":"inherent","type":"","uuid":"3d47383c-a96e-4d3c-8ed5-95c1dfcedc3e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8e460a42-e731-42b4-913b-a57085cfb0c0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8e460a42-e731-42b4-913b-a57085cfb0c0"},"edge_type":"inherent","type":"","uuid":"5bba20b6-94d8-4d3a-aa0c-c62ac1d275cb","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"c822e107-0f92-49b7-8496-cda9f8a94ffe"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"c822e107-0f92-49b7-8496-cda9f8a94ffe"},"edge_type":"inherent","type":"","uuid":"1e88fd3e-3165-4448-ac34-d5796aee2f2d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"0cf2e58f-a7e0-4b77-bd03-9c72f7f1245d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"811918ab-7693-4527-a712-e839170078cd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"b4435b20-5809-4e95-b622-ede632921678"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"8e460a42-e731-42b4-913b-a57085cfb0c0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c822e107-0f92-49b7-8496-cda9f8a94ffe","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"9d7b284e-fd1a-46aa-acac-98ce9cc83b25"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"0cf2e58f-a7e0-4b77-bd03-9c72f7f1245d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_6730876c_8762_4800_96ad_6f4608b42d57"}],"description":"","message_list":[],"uuid":"b608d053-2f0e-4647-9d36-fe77c7f4a922","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"28d24144-7955-413e-8fb9-d35120b232e9"},"name":"SYS_GEN__Runbook_Deployment_6730876c_8762_4800_96ad_6f4608b42d57"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"6730876c-8762-4800-96ad-6f4608b42d57","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"}],"substrate_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"be8bfd7f_deployment_cloned_1"},{"description":"","action_list":[{"description":"System action for creating an application","message_list":[],"uuid":"aff54d09-b7e8-4819-91d1-bdee0869be25","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DAG","uuid":"3f50c1a0-22b2-4c40-9499-74374233dd22","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"94bd0318-1b4c-437d-ac15-043f829bc483"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e5e85d4d-595e-437a-a195-0a218bfcc518"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"18f7d56c-9509-4b29-b1ee-7bf4e43c5133"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"c954db60-b271-4697-bbdd-53d842abc045"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"20df3007-25d3-41a3-a106-67438170027c"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"c954db60-b271-4697-bbdd-53d842abc045"},"edge_type":"inherent","type":"","uuid":"a70ca4b8-cc8f-4758-a178-36857da8e714","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"20df3007-25d3-41a3-a106-67438170027c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"18f7d56c-9509-4b29-b1ee-7bf4e43c5133"},"edge_type":"inherent","type":"","uuid":"4f7b8be9-a60e-4cbf-9b81-0581550ec253","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"c954db60-b271-4697-bbdd-53d842abc045"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"94bd0318-1b4c-437d-ac15-043f829bc483"},"edge_type":"inherent","type":"","uuid":"9d348597-338f-4d3f-bfc3-f3398cc0689e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e5e85d4d-595e-437a-a195-0a218bfcc518"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e5e85d4d-595e-437a-a195-0a218bfcc518"},"edge_type":"inherent","type":"","uuid":"79323957-44b8-4939-85eb-c5f3dec4f902","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"18f7d56c-9509-4b29-b1ee-7bf4e43c5133"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"94bd0318-1b4c-437d-ac15-043f829bc483","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e5e85d4d-595e-437a-a195-0a218bfcc518","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"89bd932a-7ff3-4409-88bc-9db2f7ab9d43"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"18f7d56c-9509-4b29-b1ee-7bf4e43c5133","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"fa675554-ebae-4251-91f7-d15ea558f747"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c954db60-b271-4697-bbdd-53d842abc045","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook_cloned_1_cloned_1","uuid":"921dc14b-d505-4d24-89cb-e44b5ccdad7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"20df3007-25d3-41a3-a106-67438170027c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1_cloned_1","uuid":"0c5a91ae-a45e-4e0d-b918-d95f3e147594"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"928822a1-d013-41ec-9de0-285292a2ed21","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"3f50c1a0-22b2-4c40-9499-74374233dd22"},"name":"SYS_GEN__Runbook_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"}},{"description":"System action for starting an application","message_list":[],"uuid":"33d0c7b9-6ad5-4be7-a89f-394178dc089a","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DAG","uuid":"f10418f8-150a-41bb-800c-98571e086707","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"a9309a5f-6e1d-4cde-8f77-0ac8913f4110"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"ead14609-325e-46ea-8116-9b2c69ddca43"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"a9309a5f-6e1d-4cde-8f77-0ac8913f4110"},"edge_type":"inherent","type":"","uuid":"7b739386-abce-476d-95b3-15551aa26726","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"ead14609-325e-46ea-8116-9b2c69ddca43"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a9309a5f-6e1d-4cde-8f77-0ac8913f4110","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"3e3ad37d-0742-476b-afec-f639abcb6dc9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ead14609-325e-46ea-8116-9b2c69ddca43","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1_cloned_1","uuid":"0c5a91ae-a45e-4e0d-b918-d95f3e147594"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"7bb79772-a98e-4faa-88b3-279ca7f344d1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"f10418f8-150a-41bb-800c-98571e086707"},"name":"SYS_GEN__Runbook_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"}},{"description":"System action for restarting an application","message_list":[],"uuid":"eeed101e-a6bc-4df4-958b-71102af01ae0","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DAG","uuid":"087da22a-8da1-4c7e-ba5d-7a61e0d20bb7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"8d8e6ae0-58a3-44cb-bc2e-085fe2963c5a"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"a3a142bf-f400-43a3-b146-d5918bfdc329"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"8d8e6ae0-58a3-44cb-bc2e-085fe2963c5a"},"edge_type":"inherent","type":"","uuid":"c3d92c60-d9b1-4180-aa67-b443bc71c2e6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"a3a142bf-f400-43a3-b146-d5918bfdc329"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8d8e6ae0-58a3-44cb-bc2e-085fe2963c5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e7fd427d-6a26-4741-b3ec-db22a91b9db5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a3a142bf-f400-43a3-b146-d5918bfdc329","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook_cloned_1_cloned_1","uuid":"d8a863c0-d19e-4f85-939f-0f5d1ca8b68c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"05b50114-5d02-4580-8c9a-67e3a701736a","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"087da22a-8da1-4c7e-ba5d-7a61e0d20bb7"},"name":"SYS_GEN__Runbook_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"}},{"description":"System action for stopping an application","message_list":[],"uuid":"1dc9cb92-6894-43e1-98b4-6534192e9eab","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DAG","uuid":"501cc2af-5d2e-4634-ba0f-2e8dd2c6f10e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"968c2cc7-fe7c-4062-8b05-a7cc5d1e0672"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"785fa0c3-bfb7-4f03-b9fb-31fa79e45225"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"968c2cc7-fe7c-4062-8b05-a7cc5d1e0672"},"edge_type":"inherent","type":"","uuid":"1b8525fb-abed-4d67-b1d7-dfba4e2518e1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"785fa0c3-bfb7-4f03-b9fb-31fa79e45225"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"968c2cc7-fe7c-4062-8b05-a7cc5d1e0672","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1_cloned_1","uuid":"0def1695-83b1-4f67-b1e9-413081bca11e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"785fa0c3-bfb7-4f03-b9fb-31fa79e45225","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"91c64252-73ce-43a9-acb8-dce557a2557a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"}],"description":"","message_list":[],"uuid":"baca4508-0e27-4bd2-85e3-f88cf61b227f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"501cc2af-5d2e-4634-ba0f-2e8dd2c6f10e"},"name":"SYS_GEN__Runbook_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"36142885-86ba-4cef-aa21-273fc7fd65cd","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DAG","uuid":"4ec74e38-183d-4ac2-8717-72e971814ead","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"a79d058f-e7f9-4b60-80bb-2d270cfd496c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"423f7af8-0e1b-4f02-b6bb-02f9091482ba"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"c5aa0c9a-89ce-4ff0-a3a7-0395eb2fd598"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"d777b5b3-caaf-4b5e-82a9-e3329ab108a4"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"22076bf2-3895-463b-9140-e41ab6c77248"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"a79d058f-e7f9-4b60-80bb-2d270cfd496c"},"edge_type":"inherent","type":"","uuid":"8368cb60-1fe5-4263-8e6e-8b5ab0099a8f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"423f7af8-0e1b-4f02-b6bb-02f9091482ba"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"423f7af8-0e1b-4f02-b6bb-02f9091482ba"},"edge_type":"inherent","type":"","uuid":"5ec2e068-ed18-4c8d-a3ab-8ec005c52b69","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"c5aa0c9a-89ce-4ff0-a3a7-0395eb2fd598"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"d777b5b3-caaf-4b5e-82a9-e3329ab108a4"},"edge_type":"inherent","type":"","uuid":"92a6193f-77dd-440a-a7ee-ab194278fbb9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"22076bf2-3895-463b-9140-e41ab6c77248"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"c5aa0c9a-89ce-4ff0-a3a7-0395eb2fd598"},"edge_type":"inherent","type":"","uuid":"479a7d35-f3ee-4919-b2e5-08f1106d684b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"d777b5b3-caaf-4b5e-82a9-e3329ab108a4"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a79d058f-e7f9-4b60-80bb-2d270cfd496c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1_cloned_1","uuid":"0def1695-83b1-4f67-b1e9-413081bca11e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"423f7af8-0e1b-4f02-b6bb-02f9091482ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook_cloned_1_cloned_1","uuid":"dc23771e-0f6c-40cb-9ac9-41151e197903"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c5aa0c9a-89ce-4ff0-a3a7-0395eb2fd598","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"90665890-4dd7-484a-8355-6cecc3be6d44"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d777b5b3-caaf-4b5e-82a9-e3329ab108a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"1bb7ea75-29f0-480f-9510-49645eb167e3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"22076bf2-3895-463b-9140-e41ab6c77248","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_aac639ed_f946_487a_bd26_4427fa28fd29"}],"description":"","message_list":[],"uuid":"f82453ab-18ff-45ec-b095-084e55db676b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"4ec74e38-183d-4ac2-8717-72e971814ead"},"name":"SYS_GEN__Runbook_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"}},{"description":"System action for scaleout","message_list":[],"uuid":"9a7551b4-7b5c-4182-aaa4-7d8994c820e6","name":"action_scaleout","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DAG","uuid":"e3e4449e-3182-4316-a04c-b47fd8525514","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scaleout_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"91105a2b-863d-4f9b-92e6-916fc5bea33f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"SCALING","uuid":"91105a2b-863d-4f9b-92e6-916fc5bea33f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEOUT"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scaleout_aac639ed_f946_487a_bd26_4427fa28fd29"}],"description":"","message_list":[],"uuid":"48768e60-6da8-4e2e-9744-ae803d7e3bac","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"79dcae32-4542-4529-919f-10bd3d196101","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"e3e4449e-3182-4316-a04c-b47fd8525514"},"name":"SYS_GEN__Runbook_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"}},{"description":"System action for scalein","message_list":[],"uuid":"9d54a366-c804-48ec-8fb9-e35e1fe58d9a","name":"action_scalein","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DAG","uuid":"da1efb22-47f9-49d8-b562-11f2f2d44ee7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Deployment_Scalein_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"6ab5437d-7b34-4aec-b916-45ed7755869c"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"SCALING","uuid":"6ab5437d-7b34-4aec-b916-45ed7755869c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"scaling_count":"@@{scaling_count}@@","type":"","scaling_type":"SCALEIN"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Deployment_Scalein_aac639ed_f946_487a_bd26_4427fa28fd29"}],"description":"","message_list":[],"uuid":"9da6f355-869a-49e9-b756-aaefb8c11b74","state":"ACTIVE","variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"697b4948-6ad6-49b2-9369-c62474376c13","value":"0","label":"","state":"NOT_VALIDATED","attrs":{},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"scaling_count"}],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"da1efb22-47f9-49d8-b562-11f2f2d44ee7"},"name":"SYS_GEN__Runbook_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"6eb42a9b-e74d-4b18-894a-6801e150b508","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DAG","uuid":"70c396fd-1e3b-4777-85c2-0698dc88c290","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"aa193c17-54e3-4176-9865-968d026b8af9"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"f42f37e2-40a8-4f7c-bb75-b92b951f7729"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"8349ef3a-09f1-40f9-9b61-b1b2b2dd481d"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"b1ae5a42-f326-4776-910b-4512b932a511"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"aa193c17-54e3-4176-9865-968d026b8af9"},"edge_type":"inherent","type":"","uuid":"744c1808-4f74-4a19-b104-8afdf7b60023","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"f42f37e2-40a8-4f7c-bb75-b92b951f7729"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"8349ef3a-09f1-40f9-9b61-b1b2b2dd481d"},"edge_type":"inherent","type":"","uuid":"0e83b1c1-c2fa-4935-a20f-135d079e5f3d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"b1ae5a42-f326-4776-910b-4512b932a511"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"f42f37e2-40a8-4f7c-bb75-b92b951f7729"},"edge_type":"inherent","type":"","uuid":"da6f6e88-07c7-4cf7-b0c8-166083de8509","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"8349ef3a-09f1-40f9-9b61-b1b2b2dd481d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"aa193c17-54e3-4176-9865-968d026b8af9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"e38a6c5f-fa3d-4ee4-8e8f-dd2febe64d29"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"f42f37e2-40a8-4f7c-bb75-b92b951f7729","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8349ef3a-09f1-40f9-9b61-b1b2b2dd481d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"f697102c-0063-4b62-9c7e-557ca1637271"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"b1ae5a42-f326-4776-910b-4512b932a511","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_aac639ed_f946_487a_bd26_4427fa28fd29"}],"description":"","message_list":[],"uuid":"7aa6680b-c65e-4914-8e42-8fa760bbd90f","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"70c396fd-1e3b-4777-85c2-0698dc88c290"},"name":"SYS_GEN__Runbook_Deployment_aac639ed_f946_487a_bd26_4427fa28fd29"}}],"message_list":[],"published_service_local_reference_list":[],"uuid":"aac639ed-f946-487a-bd26-4427fa28fd29","min_replicas":"1","state":"ACTIVE","max_replicas":"1","depends_on_list":[],"editables":{},"package_local_reference_list":[{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"}],"substrate_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"type":"GREENFIELD","options":{},"variable_list":[],"name":"be8bfd7f_deployment_cloned_1_cloned_1"}],"description":"","action_list":[{"description":"","message_list":[],"uuid":"54ce81be-9374-4dbe-8c8b-a7c9c7429cfa","name":"ReinitBDD","state":"ACTIVE","critical":false,"attrs":{},"type":"user","runbook":{"task_definition_list":[{"retries":"0","description":"","type":"DAG","uuid":"a856c1c7-fa4e-468b-bbaf-433991ef5123","child_tasks_local_reference_list":[{"kind":"app_task","name":"RestaurationBDD","uuid":"495eeeb5-e85f-4edd-8cb9-17ae0dc71a89"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"82263ac5_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"495eeeb5-e85f-4edd-8cb9-17ae0dc71a89","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"echo \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RestaurationBDD"}],"description":"","message_list":[],"uuid":"174a5b30-0626-434c-aa7c-9c06a0466469","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"82263ac5_dag","uuid":"a856c1c7-fa4e-468b-bbaf-433991ef5123"},"name":"d5b36229_runbook"}},{"description":"System action for creating an application","message_list":[],"uuid":"910d795b-101b-4e72-9b79-29e8f9c525ef","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"70b281f5-dfae-4f5a-81d5-87864fa9b218"},"retries":"0","description":"","type":"DAG","uuid":"0fe1b89b-910e-409a-8705-d3016b8866cf","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__DE_Provision_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"2097b27e-b11a-4c94-99dc-9507fbdf2d4c"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"05796344-9f72-407d-9947-788f9d7ca11e"},{"kind":"app_task","name":"SYS_GEN__DE_Provision_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"4a32a10d-2c7b-40ba-aa97-7a7efbf660ea"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"7723dc7f-376d-4618-8de6-594f7902f59c"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"63bb7d15-4c3f-49fa-bef3-c4e82d38ff77"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"df5c476c-b86d-48b8-bb5a-94c1d0375b26"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"689a39cc-c000-4048-afc0-3c206dd35d61"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"6932d2ea-620a-49fe-9162-cf1d5f5bd2fb"},{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"9df53220-4f38-4af4-874f-9c9bbcb28f2f"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"1b448c93-fbdb-414c-85f3-68fb6d443ce5"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"d217673d-c296-4be0-80c5-c13c5d0ce58a"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"eb3707d3-5882-441c-b204-5981ea406e29"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"893c4598-7c64-4b05-bfac-3e9a50848573"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"e79f8ba9-482a-4186-a4ef-bac554e98202"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"18cd9770-6a33-4bc9-8dd8-cbe452daa132"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"1b448c93-fbdb-414c-85f3-68fb6d443ce5"},"edge_type":"inherent","type":"","uuid":"5d8a26a3-ffea-4b79-88e5-47fdde9ac75a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"893c4598-7c64-4b05-bfac-3e9a50848573"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"9df53220-4f38-4af4-874f-9c9bbcb28f2f"},"edge_type":"inherent","type":"","uuid":"c0816f3f-7f87-4015-818f-0e7c0c178913","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"1b448c93-fbdb-414c-85f3-68fb6d443ce5"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"4a32a10d-2c7b-40ba-aa97-7a7efbf660ea"},"edge_type":"inherent","type":"","uuid":"958ac137-7e5a-44a9-844b-d8b275ddc64a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"7723dc7f-376d-4618-8de6-594f7902f59c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"7723dc7f-376d-4618-8de6-594f7902f59c"},"edge_type":"inherent","type":"","uuid":"ea68add1-65a9-4e11-8db3-e65971cc56a4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"9df53220-4f38-4af4-874f-9c9bbcb28f2f"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"eb3707d3-5882-441c-b204-5981ea406e29"},"edge_type":"inherent","type":"","uuid":"e2442f13-ab35-4e53-9adb-a66663338535","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"e79f8ba9-482a-4186-a4ef-bac554e98202"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"689a39cc-c000-4048-afc0-3c206dd35d61"},"edge_type":"inherent","type":"","uuid":"1cba721b-7622-4b1b-9432-0cd741f8494f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"eb3707d3-5882-441c-b204-5981ea406e29"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"05796344-9f72-407d-9947-788f9d7ca11e"},"edge_type":"inherent","type":"","uuid":"3706da2b-cf98-48b8-903b-bd9c6401056f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"63bb7d15-4c3f-49fa-bef3-c4e82d38ff77"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"63bb7d15-4c3f-49fa-bef3-c4e82d38ff77"},"edge_type":"inherent","type":"","uuid":"932c4d46-6b1f-41fb-8327-7ae9701b0117","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"689a39cc-c000-4048-afc0-3c206dd35d61"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"d217673d-c296-4be0-80c5-c13c5d0ce58a"},"edge_type":"inherent","type":"","uuid":"b08feab7-1bfe-4d85-8f69-53d8b2739dcc","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"18cd9770-6a33-4bc9-8dd8-cbe452daa132"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"6932d2ea-620a-49fe-9162-cf1d5f5bd2fb"},"edge_type":"inherent","type":"","uuid":"3b7eebe1-51ef-421a-9c8f-78392f552de5","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"d217673d-c296-4be0-80c5-c13c5d0ce58a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Provision_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"2097b27e-b11a-4c94-99dc-9507fbdf2d4c"},"edge_type":"inherent","type":"","uuid":"ea0a5ce5-1b62-4f4a-a017-077250108b3c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"df5c476c-b86d-48b8-bb5a-94c1d0375b26"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"df5c476c-b86d-48b8-bb5a-94c1d0375b26"},"edge_type":"inherent","type":"","uuid":"21738f33-cfe2-40a9-8ad3-860a6c3d6b3a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"6932d2ea-620a-49fe-9162-cf1d5f5bd2fb"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"2097b27e-b11a-4c94-99dc-9507fbdf2d4c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"05796344-9f72-407d-9947-788f9d7ca11e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"CREATE_DEPLOYMENT_ELEMENT","uuid":"4a32a10d-2c7b-40ba-aa97-7a7efbf660ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Provision_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7723dc7f-376d-4618-8de6-594f7902f59c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"6b046cef-9f52-49c0-a4e7-236f4e13eb5e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"63bb7d15-4c3f-49fa-bef3-c4e82d38ff77","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"93833a23-768e-4e63-a1d5-9351fceb883a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"df5c476c-b86d-48b8-bb5a-94c1d0375b26","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"89bd932a-7ff3-4409-88bc-9db2f7ab9d43"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"689a39cc-c000-4048-afc0-3c206dd35d61","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"b1967b89-2e8e-4fb0-adfa-7aff4f97b5f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6932d2ea-620a-49fe-9162-cf1d5f5bd2fb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"fa675554-ebae-4251-91f7-d15ea558f747"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9df53220-4f38-4af4-874f-9c9bbcb28f2f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"7087c8bb-5c6b-4554-8063-6a6c8074476c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1b448c93-fbdb-414c-85f3-68fb6d443ce5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook_cloned_1","uuid":"94e0a00c-976f-4cb5-920a-4268be095296"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d217673d-c296-4be0-80c5-c13c5d0ce58a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook_cloned_1_cloned_1","uuid":"921dc14b-d505-4d24-89cb-e44b5ccdad7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"eb3707d3-5882-441c-b204-5981ea406e29","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook","uuid":"8e106ca0-1c4c-42f1-add6-88aec41f5cf0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"893c4598-7c64-4b05-bfac-3e9a50848573","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1","uuid":"3b39ba16-6503-4961-8fd4-a11deb2bb75a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e79f8ba9-482a-4186-a4ef-bac554e98202","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook","uuid":"e5f95b58-0367-4c97-97f6-6c086396901c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"18cd9770-6a33-4bc9-8dd8-cbe452daa132","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1_cloned_1","uuid":"0c5a91ae-a45e-4e0d-b918-d95f3e147594"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"45b1b4ae-b7bf-4bd0-b1f6-717bad2b11ef","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218","uuid":"0fe1b89b-910e-409a-8705-d3016b8866cf"},"name":"SYS_GEN__Runbook_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"}},{"description":"System action for starting an application","message_list":[],"uuid":"051b1c2e-0c7c-49ad-ba13-c2ba6c4ad026","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"70b281f5-dfae-4f5a-81d5-87864fa9b218"},"retries":"0","description":"","type":"DAG","uuid":"7021638e-76fa-4428-99e9-137db19d90de","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"93ec0a57-c721-4dd5-bde9-82738a5c7595"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"83d1cf07-bd7f-43de-a12c-95761ec69223"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"359c84ac-1e98-4c24-b8c8-0e334a099cbf"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"c812a303-0587-4834-931c-d7242b8c30e9"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"50683c7b-937e-47db-b5c4-56d81014af73"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"d9b0a224-2f0d-4077-b49d-940bcb178c8e"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"359c84ac-1e98-4c24-b8c8-0e334a099cbf"},"edge_type":"inherent","type":"","uuid":"ef56b7c7-5c93-44c2-b4ac-85958466140b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"c812a303-0587-4834-931c-d7242b8c30e9"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"93ec0a57-c721-4dd5-bde9-82738a5c7595"},"edge_type":"inherent","type":"","uuid":"aa33a9db-587d-4524-9b30-fdd1af169ffe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"d9b0a224-2f0d-4077-b49d-940bcb178c8e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"83d1cf07-bd7f-43de-a12c-95761ec69223"},"edge_type":"inherent","type":"","uuid":"d0e09261-ac43-444a-8210-a722604ffe17","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"50683c7b-937e-47db-b5c4-56d81014af73"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"93ec0a57-c721-4dd5-bde9-82738a5c7595","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"5f9697a5-81f7-4d55-826b-90cc89bb93f8"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"83d1cf07-bd7f-43de-a12c-95761ec69223","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"3e3ad37d-0742-476b-afec-f639abcb6dc9"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"359c84ac-1e98-4c24-b8c8-0e334a099cbf","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"a2b384a0-fe26-4a28-a165-f3e791f80be7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c812a303-0587-4834-931c-d7242b8c30e9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1","uuid":"3b39ba16-6503-4961-8fd4-a11deb2bb75a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"50683c7b-937e-47db-b5c4-56d81014af73","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1_cloned_1","uuid":"0c5a91ae-a45e-4e0d-b918-d95f3e147594"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d9b0a224-2f0d-4077-b49d-940bcb178c8e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook","uuid":"e5f95b58-0367-4c97-97f6-6c086396901c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"60cd5fc7-ff27-4457-a579-4075020d550c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218","uuid":"7021638e-76fa-4428-99e9-137db19d90de"},"name":"SYS_GEN__Runbook_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"}},{"description":"System action for restarting an application","message_list":[],"uuid":"4881dfb6-9869-499e-8d2b-af74815eed68","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"70b281f5-dfae-4f5a-81d5-87864fa9b218"},"retries":"0","description":"","type":"DAG","uuid":"18779983-02c6-4d16-9bd6-32f8b16daf88","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"26ec5f8b-885d-49e5-9a30-4a1c8f1d81e7"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"8cb4a251-c0c8-4d80-96db-65522be81a95"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"c303b36d-8ba3-4593-afda-42806e6e3fab"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"e0409d20-d525-48af-a8c4-ee91b826c31b"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"9c3467c7-2b45-480e-9d04-e6e94d93013a"},{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"9df39ee1-9c66-4fe6-9e30-c5459775e8df"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"8cb4a251-c0c8-4d80-96db-65522be81a95"},"edge_type":"inherent","type":"","uuid":"261662bb-0b4a-4549-b571-ad69e671bc99","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"e0409d20-d525-48af-a8c4-ee91b826c31b"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"26ec5f8b-885d-49e5-9a30-4a1c8f1d81e7"},"edge_type":"inherent","type":"","uuid":"431e0354-2a02-453c-a87f-9d39ec2a1a5a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"9c3467c7-2b45-480e-9d04-e6e94d93013a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"c303b36d-8ba3-4593-afda-42806e6e3fab"},"edge_type":"inherent","type":"","uuid":"7a4e4584-e21c-4a7b-b289-5aeaf61dbfc1","to_task_reference":{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"9df39ee1-9c66-4fe6-9e30-c5459775e8df"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"26ec5f8b-885d-49e5-9a30-4a1c8f1d81e7","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"aeb93c66-0928-4d3a-9e7d-206ba7b77683"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8cb4a251-c0c8-4d80-96db-65522be81a95","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"ff6a3d2b-45f5-401a-b19f-2c7602e77dce"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c303b36d-8ba3-4593-afda-42806e6e3fab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"e7fd427d-6a26-4741-b3ec-db22a91b9db5"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e0409d20-d525-48af-a8c4-ee91b826c31b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook_cloned_1","uuid":"919c2825-3446-4bc8-9030-9255bca06701"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9c3467c7-2b45-480e-9d04-e6e94d93013a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook","uuid":"0347369a-1f7c-4e26-98c4-2f0ec29df67d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9df39ee1-9c66-4fe6-9e30-c5459775e8df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook_cloned_1_cloned_1","uuid":"d8a863c0-d19e-4f85-939f-0f5d1ca8b68c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"127e431f-1f4f-46be-b9f1-ea20e010c2a1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218","uuid":"18779983-02c6-4d16-9bd6-32f8b16daf88"},"name":"SYS_GEN__Runbook_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"}},{"description":"System action for stopping an application","message_list":[],"uuid":"bb8a5f65-be60-4cfc-9765-f6721878f161","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"70b281f5-dfae-4f5a-81d5-87864fa9b218"},"retries":"0","description":"","type":"DAG","uuid":"25a37be2-4c4e-4912-a6fc-9bfc868c8fcb","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"1c947520-b019-4775-8f89-fc0d6f21d88b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"110b6319-2715-4d0d-aedf-d6433ec4136b"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"8fe03e2b-2ba7-4f02-a700-8cec3e2dd586"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"61c0959b-bd00-4ef4-9295-fd88591c700e"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"62f9f04f-f7bf-4a42-8d68-31ef1c36c886"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"fc57e848-4521-4b9d-962a-581ff36c5582"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"8fe03e2b-2ba7-4f02-a700-8cec3e2dd586"},"edge_type":"inherent","type":"","uuid":"480e7ad1-fce4-4104-a990-6a94e3f58046","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"fc57e848-4521-4b9d-962a-581ff36c5582"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"110b6319-2715-4d0d-aedf-d6433ec4136b"},"edge_type":"inherent","type":"","uuid":"f4ac8b77-28e8-4eef-bfb7-70332891d8aa","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"61c0959b-bd00-4ef4-9295-fd88591c700e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"1c947520-b019-4775-8f89-fc0d6f21d88b"},"edge_type":"inherent","type":"","uuid":"044e82a6-a049-4c61-832d-8937bafe7fb7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"62f9f04f-f7bf-4a42-8d68-31ef1c36c886"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1c947520-b019-4775-8f89-fc0d6f21d88b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1_cloned_1","uuid":"0def1695-83b1-4f67-b1e9-413081bca11e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"110b6319-2715-4d0d-aedf-d6433ec4136b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook","uuid":"36fa838d-2238-416b-af07-612d612f09e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8fe03e2b-2ba7-4f02-a700-8cec3e2dd586","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1","uuid":"2f2a14fe-9647-4c1e-aaa9-5038b46d158e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"61c0959b-bd00-4ef4-9295-fd88591c700e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"026501d1-49d8-4bfb-ae4b-09c7b922ac8e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"62f9f04f-f7bf-4a42-8d68-31ef1c36c886","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"91c64252-73ce-43a9-acb8-dce557a2557a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"fc57e848-4521-4b9d-962a-581ff36c5582","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"20d68b4b-ddb1-4837-9fec-acddf78363ad"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"}],"description":"","message_list":[],"uuid":"c28e1159-b592-4df0-aa2f-7a945565968d","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218","uuid":"25a37be2-4c4e-4912-a6fc-9bfc868c8fcb"},"name":"SYS_GEN__Runbook_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"add5c1c3-b65a-4eed-b4a6-fcc4ee1c47f8","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"70b281f5-dfae-4f5a-81d5-87864fa9b218"},"retries":"0","description":"","type":"DAG","uuid":"2e4f4de7-f2a3-4550-9ea4-24d9b59ca628","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"22a9995d-05f5-4c0f-87f5-899775217196"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"a8654809-8219-482b-ad09-ec71f250744d"},{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"d715755b-869b-4c93-8cfe-36dc48d81429"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"6d8f3c40-a86f-4950-b5c7-bed78a341ede"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"5796907f-1f2e-4cd7-8ece-4c86a6bcb43e"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"d24ac2f7-b322-44c4-ad29-d0efa9f08368"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8642672c-64e9-4f9f-b475-1dad09176924"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"f1e59e55-3cd5-4887-a714-6b89631c593c"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"efddbec3-d85c-48d6-b410-aaa155363f9c"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"9971428d-7b57-45fa-a554-34e7bb5b0705"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"f8a60a94-2aa3-40bb-a088-03a435c4ed2d"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"9897b022-c81b-4740-a82c-578332c75c4d"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"4eef644f-f6f8-492d-b41f-087b9cc42cf2"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"5a0525c6-2249-4e4c-a7f4-5d5b74c76800"},{"kind":"app_task","name":"SYS_GEN__DE_Delete_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"00ccffc4-f0b6-45f1-b803-e42146e4c5db"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"d715755b-869b-4c93-8cfe-36dc48d81429"},"edge_type":"inherent","type":"","uuid":"d1727e02-b08e-4dce-93ea-c6bcd55964ae","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"d24ac2f7-b322-44c4-ad29-d0efa9f08368"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"d24ac2f7-b322-44c4-ad29-d0efa9f08368"},"edge_type":"inherent","type":"","uuid":"23dc54f7-b1cd-4dbc-a856-ee34ff482ed9","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8642672c-64e9-4f9f-b475-1dad09176924"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"9897b022-c81b-4740-a82c-578332c75c4d"},"edge_type":"inherent","type":"","uuid":"3b429e4b-2e0e-459d-8463-2afa432ad90c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"00ccffc4-f0b6-45f1-b803-e42146e4c5db"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8642672c-64e9-4f9f-b475-1dad09176924"},"edge_type":"inherent","type":"","uuid":"6e764299-1b0b-40fd-b21d-b5a7f7d9a024","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"9897b022-c81b-4740-a82c-578332c75c4d"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"a8654809-8219-482b-ad09-ec71f250744d"},"edge_type":"inherent","type":"","uuid":"eb0ac10f-2767-433c-a33b-e86270b08cbf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"6d8f3c40-a86f-4950-b5c7-bed78a341ede"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"6d8f3c40-a86f-4950-b5c7-bed78a341ede"},"edge_type":"inherent","type":"","uuid":"8a5c0ac7-b955-4e71-bae2-23208c7e110f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"efddbec3-d85c-48d6-b410-aaa155363f9c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"9971428d-7b57-45fa-a554-34e7bb5b0705"},"edge_type":"inherent","type":"","uuid":"49fba06c-7d90-4602-b0ff-7ed56c4a42ca","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"5a0525c6-2249-4e4c-a7f4-5d5b74c76800"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"efddbec3-d85c-48d6-b410-aaa155363f9c"},"edge_type":"inherent","type":"","uuid":"9cf4799f-541b-49c5-88e4-86f592f8e00b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"9971428d-7b57-45fa-a554-34e7bb5b0705"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"22a9995d-05f5-4c0f-87f5-899775217196"},"edge_type":"inherent","type":"","uuid":"d4360e74-c1f1-4a16-a917-3c41e99d9092","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"5796907f-1f2e-4cd7-8ece-4c86a6bcb43e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"5796907f-1f2e-4cd7-8ece-4c86a6bcb43e"},"edge_type":"inherent","type":"","uuid":"bea315e5-c23f-43fe-a4b8-20ce98881c19","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"f1e59e55-3cd5-4887-a714-6b89631c593c"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"f8a60a94-2aa3-40bb-a088-03a435c4ed2d"},"edge_type":"inherent","type":"","uuid":"2ef0f32f-de85-4d6f-8584-14f5d2269add","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Delete_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"4eef644f-f6f8-492d-b41f-087b9cc42cf2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"f1e59e55-3cd5-4887-a714-6b89631c593c"},"edge_type":"inherent","type":"","uuid":"caecb990-8787-43be-bb5e-6d7bacd71218","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"f8a60a94-2aa3-40bb-a088-03a435c4ed2d"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"22a9995d-05f5-4c0f-87f5-899775217196","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1_cloned_1","uuid":"0def1695-83b1-4f67-b1e9-413081bca11e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a8654809-8219-482b-ad09-ec71f250744d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook","uuid":"36fa838d-2238-416b-af07-612d612f09e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d715755b-869b-4c93-8cfe-36dc48d81429","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1","uuid":"2f2a14fe-9647-4c1e-aaa9-5038b46d158e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6d8f3c40-a86f-4950-b5c7-bed78a341ede","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook","uuid":"a3fa9190-013f-401c-9a4e-ba93c3eeee21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"5796907f-1f2e-4cd7-8ece-4c86a6bcb43e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook_cloned_1_cloned_1","uuid":"dc23771e-0f6c-40cb-9ac9-41151e197903"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d24ac2f7-b322-44c4-ad29-d0efa9f08368","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook_cloned_1","uuid":"5623b392-ade7-4e40-97e6-02f727e6861a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"8642672c-64e9-4f9f-b475-1dad09176924","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"c7887462-bcb0-436b-8cf9-8ff6bc4b3a98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f1e59e55-3cd5-4887-a714-6b89631c593c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"90665890-4dd7-484a-8355-6cecc3be6d44"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"efddbec3-d85c-48d6-b410-aaa155363f9c","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"08065478-f272-4478-9817-c7e542af6816"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9971428d-7b57-45fa-a554-34e7bb5b0705","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"117b052b-207c-4b44-acba-6ed0ff563e9a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f8a60a94-2aa3-40bb-a088-03a435c4ed2d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"1bb7ea75-29f0-480f-9510-49645eb167e3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9897b022-c81b-4740-a82c-578332c75c4d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"bfa71e50-02c8-4d82-b28d-1bb47f8d9ec3"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"4eef644f-f6f8-492d-b41f-087b9cc42cf2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"5a0525c6-2249-4e4c-a7f4-5d5b74c76800","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"DELETE_DEPLOYMENT_ELEMENT","uuid":"00ccffc4-f0b6-45f1-b803-e42146e4c5db","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Delete_6730876c_8762_4800_96ad_6f4608b42d57"}],"description":"","message_list":[],"uuid":"fdc3a714-c42f-4eb2-a87b-7f31ede8f9d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218","uuid":"2e4f4de7-f2a3-4550-9ea4-24d9b59ca628"},"name":"SYS_GEN__Runbook_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"704ff41a-2564-45dd-8ad1-84004d203b21","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_profile","name":"Default","uuid":"70b281f5-dfae-4f5a-81d5-87864fa9b218"},"retries":"0","description":"","type":"DAG","uuid":"b52ac069-fa99-46be-81a9-c4de45a9a47a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"28bb6df7-c694-40ea-a841-9c170cb46355"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"9f67281d-6ec9-4527-8a85-9c326ec77658"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"a081ff58-3aa3-45f8-9307-48c0f4c9d9e5"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"766fb7f3-27df-4daf-ab1e-0bce39fd760a"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"12888e53-8db8-4958-9cec-f2d5d62592d0"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"c16bad2e-e803-4e67-b540-c69ee6411b54"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"cb4ed442-0493-4eda-868b-dbf739818837"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"ab63269e-92d0-49e4-8293-d4ab0591ca90"},{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"d636152b-4b0f-4876-ace8-094fc3f7e461"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"e0b81612-d28f-43d7-9f18-9e50de5dec30"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"b0ea01c2-baf9-4ffb-8685-e1ce781428ea"},{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"25c453d6-cabf-47d1-bd0c-2fc5f54570dc"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"a081ff58-3aa3-45f8-9307-48c0f4c9d9e5"},"edge_type":"inherent","type":"","uuid":"b5a987b6-56e1-4f7d-8b2c-01fbb47d40d6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"12888e53-8db8-4958-9cec-f2d5d62592d0"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"12888e53-8db8-4958-9cec-f2d5d62592d0"},"edge_type":"inherent","type":"","uuid":"0cc59ff5-ab27-4a1b-aa6f-695f50a3bd6f","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"d636152b-4b0f-4876-ace8-094fc3f7e461"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"d636152b-4b0f-4876-ace8-094fc3f7e461"},"edge_type":"inherent","type":"","uuid":"f36b6f8e-d67d-4ba1-a02b-a1a84be2638a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_6730876c_8762_4800_96ad_6f4608b42d57","uuid":"b0ea01c2-baf9-4ffb-8685-e1ce781428ea"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"9f67281d-6ec9-4527-8a85-9c326ec77658"},"edge_type":"inherent","type":"","uuid":"7332e2eb-067f-4ca3-bc54-6bda40d7ae51","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"766fb7f3-27df-4daf-ab1e-0bce39fd760a"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"766fb7f3-27df-4daf-ab1e-0bce39fd760a"},"edge_type":"inherent","type":"","uuid":"b8f0987e-8168-4357-a6ac-d55974d48e85","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"cb4ed442-0493-4eda-868b-dbf739818837"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"cb4ed442-0493-4eda-868b-dbf739818837"},"edge_type":"inherent","type":"","uuid":"d8b0090d-3b7c-4236-b9cc-8d16e6bd5138","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b","uuid":"25c453d6-cabf-47d1-bd0c-2fc5f54570dc"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"28bb6df7-c694-40ea-a841-9c170cb46355"},"edge_type":"inherent","type":"","uuid":"747acfad-c0b7-4210-bdfb-e1a5c2e6d17d","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"c16bad2e-e803-4e67-b540-c69ee6411b54"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"ab63269e-92d0-49e4-8293-d4ab0591ca90"},"edge_type":"inherent","type":"","uuid":"7e9f64d1-6987-434c-8c53-bd213e48ba5b","to_task_reference":{"kind":"app_task","name":"SYS_GEN__DE_Soft_Delete_aac639ed_f946_487a_bd26_4427fa28fd29","uuid":"e0b81612-d28f-43d7-9f18-9e50de5dec30"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"c16bad2e-e803-4e67-b540-c69ee6411b54"},"edge_type":"inherent","type":"","uuid":"6da8d00c-eaf2-495b-8094-334544116a9e","to_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"ab63269e-92d0-49e4-8293-d4ab0591ca90"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"28bb6df7-c694-40ea-a841-9c170cb46355","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"e38a6c5f-fa3d-4ee4-8e8f-dd2febe64d29"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f67281d-6ec9-4527-8a85-9c326ec77658","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"f4c788de-b5f3-44a6-9363-b05e8450dde4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"a081ff58-3aa3-45f8-9307-48c0f4c9d9e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"b4435b20-5809-4e95-b622-ede632921678"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"766fb7f3-27df-4daf-ab1e-0bce39fd760a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"12888e53-8db8-4958-9cec-f2d5d62592d0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"c16bad2e-e803-4e67-b540-c69ee6411b54","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"cb4ed442-0493-4eda-868b-dbf739818837","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42","uuid":"63ff57b8-fd92-46ca-88c2-993a4ba81d81"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_9857aea5_4537_4f57_8d6c_4e339a588a42"},{"target_any_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ab63269e-92d0-49e4-8293-d4ab0591ca90","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d","uuid":"f697102c-0063-4b62-9c7e-557ca1637271"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_0127ece5_7d50_4b05_a3cb_5bae6188a70d"},{"target_any_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d636152b-4b0f-4876-ace8-094fc3f7e461","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"deployment_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f","uuid":"9d7b284e-fd1a-46aa-acac-98ce9cc83b25"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Substrate_75318bd1_7ab9_4e18_9388_7822c825080f"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1_cloned_1","uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"e0b81612-d28f-43d7-9f18-9e50de5dec30","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_aac639ed_f946_487a_bd26_4427fa28fd29"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment_cloned_1","uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"b0ea01c2-baf9-4ffb-8685-e1ce781428ea","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_6730876c_8762_4800_96ad_6f4608b42d57"},{"target_any_local_reference":{"kind":"app_blueprint_deployment","name":"be8bfd7f_deployment","uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},"retries":"0","description":"","type":"SOFT_DELETE_DEPLOYMENT_ELEMENT","uuid":"25c453d6-cabf-47d1-bd0c-2fc5f54570dc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DE_Soft_Delete_50d6c84b_a803_4f21_88ce_f40143d6ef3b"}],"description":"","message_list":[],"uuid":"de4cab78-70f3-4a9e-bc6a-6135e87312d7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218","uuid":"b52ac069-fa99-46be-81a9-c4de45a9a47a"},"name":"SYS_GEN__Runbook_Application_70b281f5_dfae_4f5a_81d5_87864fa9b218"}}],"message_list":[],"uuid":"70b281f5-dfae-4f5a-81d5-87864fa9b218","state":"ACTIVE","dependency_list":[],"variable_list":[{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"72d22eb8-afd9-4a3c-ba0d-2908a31ec339","value":"10.46.6.5","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"DNSServer"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"04d8a2f4-af3d-4473-b6f3-63b3658b1208","value":"contoso.com","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DOMAIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"d3f348f5-1401-4a73-a698-397d025e5466","value":"RODC","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{"value":true},"is_hidden":false,"type":"LOCAL","options":{},"name":"DOMAIN_TYPE"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"8ef66bf2-eb4d-4e71-b1bc-e8342e6f4956","value":"On en fait un autre ???","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MSO365_Teams_Message"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"ec1f99fe-2a0b-4bd9-b4d0-ef5d452e788d","value":"Deploiement termine","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"MSO365_Teams_Title"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"94947970-6bd5-45da-ab95-52b3b7e7f4f2","value":"https:\/\/outlook.office.com\/webhook\/4117132b-9424-40c7-a67a-547478c993c1@f82dcf67-d8b9-429f-a265-0b7a306e57e7\/IncomingWebhook\/eacfeec3457241bd8270bb476abf1cb3\/9f21995d-87ec-4dd0-91d9-149d7911c24f","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"O365_Teams_Connector_Url"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"3c6e9ea8-fa53-43ef-a40e-42e9f4205f0c","value":"https:\/\/hooks.slack.com\/services\/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","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"SLACK_HOOK"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"9cbad754-4e2d-499d-8746-8cf6c11b6697","value":"","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"CHILD_DOMAIN"},{"regex":{},"val_type":"STRING","is_mandatory":false,"description":"","data_type":"BASE","message_list":[],"uuid":"39f050ad-9ba1-4007-b048-e3e56150b3b5","value":"MSSQLSERVER","label":"","state":"ACTIVE","attrs":{"type":""},"editables":{},"is_hidden":false,"type":"LOCAL","options":{},"name":"SQL_INSTANCE_NAME"}],"name":"Default"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"},"package_definition_list":[{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"b9abd5f5-7022-4a1a-9e95-072577c24c1b","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"f8243cc0-e499-4a06-bdf0-e42cffd7da60","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"8e24d9d9-1963-4a9e-b8fd-a3f49bde75f9"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"8e24d9d9-1963-4a9e-b8fd-a3f49bde75f9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"dfd36107-1092-4979-8b37-8c32e0435e20","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_RenameAndJoinDomain","uuid":"afeb4e3b-2afd-4b99-934f-9bf6f16404df"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"EXEC","uuid":"afeb4e3b-2afd-4b99-934f-9bf6f16404df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname : $HOSTNAME\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\n\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_RenameAndJoinDomain"}],"description":"","message_list":[],"uuid":"256f72ff-c651-42a6-bcdf-ce00961eead3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"dfd36107-1092-4979-8b37-8c32e0435e20"},"name":"b54300dd_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"12fc7bdf-f3b0-43da-b62f-413f9b256454","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_UnjoinDoman","uuid":"73341ce6-8e9c-4cf2-8c26-487682d6df3f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"EXEC","uuid":"73341ce6-8e9c-4cf2-8c26-487682d6df3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_UnjoinDoman"}],"description":"","message_list":[],"uuid":"1788a81e-229d-4d94-a4f4-b18812f62636","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"12fc7bdf-f3b0-43da-b62f-413f9b256454"},"name":"ea9792f4_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}],"description":"","message_list":[],"uuid":"7087c8bb-5c6b-4554-8063-6a6c8074476c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"f8243cc0-e499-4a06-bdf0-e42cffd7da60"},"name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}},{"description":"System action for creating an application","message_list":[],"uuid":"6c392f45-01ba-41b2-bac3-72bc5385f9bf","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"d428ed52-16d7-42a9-8cc2-560f06d14255","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"0ed5c1c7-4c74-4a70-960a-d42c0c339888"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"7b34ee8d-ab2c-4f35-aa2c-e4771a6654ab"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"17364474-8797-4add-a20c-7b2804260fb3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"7b34ee8d-ab2c-4f35-aa2c-e4771a6654ab"},"edge_type":"inherent","type":"","uuid":"08a2d3ef-3ced-41f9-a25a-c56fdb8b9fcf","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"17364474-8797-4add-a20c-7b2804260fb3"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"0ed5c1c7-4c74-4a70-960a-d42c0c339888"},"edge_type":"inherent","type":"","uuid":"a4a023c1-32ab-4486-9e7d-cad2014e0ca7","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"7b34ee8d-ab2c-4f35-aa2c-e4771a6654ab"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0ed5c1c7-4c74-4a70-960a-d42c0c339888","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"7087c8bb-5c6b-4554-8063-6a6c8074476c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7b34ee8d-ab2c-4f35-aa2c-e4771a6654ab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook_cloned_1","uuid":"94e0a00c-976f-4cb5-920a-4268be095296"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"17364474-8797-4add-a20c-7b2804260fb3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1","uuid":"3b39ba16-6503-4961-8fd4-a11deb2bb75a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}],"description":"","message_list":[],"uuid":"29982f0e-651f-4474-8e1e-887e03819abf","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"d428ed52-16d7-42a9-8cc2-560f06d14255"},"name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"d56c4d63-2b1e-43c0-9345-65a254412293","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"28030c3c-b25b-4f1e-a52d-e972975681dd","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"96309d59-705d-48b7-89f9-f0f25f965b83"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"96309d59-705d-48b7-89f9-f0f25f965b83","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"dfd36107-1092-4979-8b37-8c32e0435e20","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_RenameAndJoinDomain","uuid":"afeb4e3b-2afd-4b99-934f-9bf6f16404df"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"EXEC","uuid":"afeb4e3b-2afd-4b99-934f-9bf6f16404df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname : $HOSTNAME\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\n\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_RenameAndJoinDomain"}],"description":"","message_list":[],"uuid":"256f72ff-c651-42a6-bcdf-ce00961eead3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"dfd36107-1092-4979-8b37-8c32e0435e20"},"name":"b54300dd_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"12fc7bdf-f3b0-43da-b62f-413f9b256454","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_UnjoinDoman","uuid":"73341ce6-8e9c-4cf2-8c26-487682d6df3f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"EXEC","uuid":"73341ce6-8e9c-4cf2-8c26-487682d6df3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_UnjoinDoman"}],"description":"","message_list":[],"uuid":"1788a81e-229d-4d94-a4f4-b18812f62636","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"12fc7bdf-f3b0-43da-b62f-413f9b256454"},"name":"ea9792f4_runbook_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}],"description":"","message_list":[],"uuid":"c7887462-bcb0-436b-8cf9-8ff6bc4b3a98","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"28030c3c-b25b-4f1e-a52d-e972975681dd"},"name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"dd3bfc58-2d05-4bcb-9ebb-5630f49e2f85","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"63c97450-c778-4c23-a64c-cdd8a2515355","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"4f013451-66fe-4608-b5bf-8b1c42ad3c43"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"0a8d7398-d206-40c9-9a4d-2d761a87be13"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"d3cbffe7-1f81-4a1a-b3a6-612a625659c3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"4f013451-66fe-4608-b5bf-8b1c42ad3c43"},"edge_type":"inherent","type":"","uuid":"65571c16-1090-4362-8387-f81f360d5a7c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"0a8d7398-d206-40c9-9a4d-2d761a87be13"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"0a8d7398-d206-40c9-9a4d-2d761a87be13"},"edge_type":"inherent","type":"","uuid":"8e698c63-a51d-4989-b8b6-8d30a4075233","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"d3cbffe7-1f81-4a1a-b3a6-612a625659c3"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4f013451-66fe-4608-b5bf-8b1c42ad3c43","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1","uuid":"2f2a14fe-9647-4c1e-aaa9-5038b46d158e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"0a8d7398-d206-40c9-9a4d-2d761a87be13","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook_cloned_1","uuid":"5623b392-ade7-4e40-97e6-02f727e6861a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d3cbffe7-1f81-4a1a-b3a6-612a625659c3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"c7887462-bcb0-436b-8cf9-8ff6bc4b3a98"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}],"description":"","message_list":[],"uuid":"041c44d4-5e3c-45da-ae69-f54047d5a4b6","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"63c97450-c778-4c23-a64c-cdd8a2515355"},"name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"55c75ccb-bea9-48b3-b3ae-abccb67703a9","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"c66cd083-125a-4a9f-8ae4-a0c2e3a97fc0","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"e2105ce5-6632-4b85-ba0e-e508f6bd4231"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"d354f02a-641e-4be2-9f81-7b4db1a4d5e5"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"e2105ce5-6632-4b85-ba0e-e508f6bd4231"},"edge_type":"inherent","type":"","uuid":"1ea6c06c-6c3f-48ff-8c7a-0a07c57bd8d8","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"d354f02a-641e-4be2-9f81-7b4db1a4d5e5"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e2105ce5-6632-4b85-ba0e-e508f6bd4231","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"b4435b20-5809-4e95-b622-ede632921678"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"},{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"d354f02a-641e-4be2-9f81-7b4db1a4d5e5","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}],"description":"","message_list":[],"uuid":"347d83d2-3ba7-4d3d-a552-5c005ac619e3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"c66cd083-125a-4a9f-8ae4-a0c2e3a97fc0"},"name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}},{"description":"System action for starting an application","message_list":[],"uuid":"2b53f49a-8e1b-4caf-bf7f-12e67b5c6ef4","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"69337686-b1ed-403c-9de7-24aaa356ae56","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"9f05e54b-b984-4a44-b00c-19057f37398d"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"9f05e54b-b984-4a44-b00c-19057f37398d","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1","uuid":"3b39ba16-6503-4961-8fd4-a11deb2bb75a"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}],"description":"","message_list":[],"uuid":"ffe3b328-c6d0-48a3-a817-ba174f0eaaad","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"69337686-b1ed-403c-9de7-24aaa356ae56"},"name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}},{"description":"System action for restarting an application","message_list":[],"uuid":"06b7d57a-9139-40cb-a81b-0124862c77ca","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"e4272e94-dfd4-4ee9-a37b-86b9e292b15e","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"e36470d5-d81c-4deb-9be3-ad3505341628"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e36470d5-d81c-4deb-9be3-ad3505341628","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook_cloned_1","uuid":"919c2825-3446-4bc8-9030-9255bca06701"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}],"description":"","message_list":[],"uuid":"6a1727d4-6452-4bab-a755-71d2ab38bb28","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"e4272e94-dfd4-4ee9-a37b-86b9e292b15e"},"name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}},{"description":"System action for stopping an application","message_list":[],"uuid":"dbe46eb3-287b-4907-9a77-d691e3c27790","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"e8f9a234-30a8-4cb9-aff9-70a326f04912","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c","uuid":"39e5e5d0-40d7-45b0-a2f3-e62df6797b7f"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"39e5e5d0-40d7-45b0-a2f3-e62df6797b7f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1","uuid":"2f2a14fe-9647-4c1e-aaa9-5038b46d158e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_ef25d881_8ff8_4af7_b89b_569f31f9af0c"}],"description":"","message_list":[],"uuid":"624063fb-573f-4732-8227-5a04b1be94b1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d","uuid":"e8f9a234-30a8-4cb9-aff9-70a326f04912"},"name":"SYS_GEN__Runbook_Package_b7b0360e_52f7_4579_a838_10e3bfebfe4d"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"}],"uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"dfd36107-1092-4979-8b37-8c32e0435e20","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_RenameAndJoinDomain","uuid":"afeb4e3b-2afd-4b99-934f-9bf6f16404df"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"EXEC","uuid":"afeb4e3b-2afd-4b99-934f-9bf6f16404df","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname : $HOSTNAME\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\n\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_RenameAndJoinDomain"}],"description":"","message_list":[],"uuid":"256f72ff-c651-42a6-bcdf-ce00961eead3","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"dfd36107-1092-4979-8b37-8c32e0435e20"},"name":"b54300dd_runbook_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","description":"","type":"DAG","uuid":"12fc7bdf-f3b0-43da-b62f-413f9b256454","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_UnjoinDoman","uuid":"73341ce6-8e9c-4cf2-8c26-487682d6df3f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","description":"","type":"EXEC","uuid":"73341ce6-8e9c-4cf2-8c26-487682d6df3f","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"FileServer_UnjoinDoman"}],"description":"","message_list":[],"uuid":"1788a81e-229d-4d94-a4f4-b18812f62636","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"12fc7bdf-f3b0-43da-b62f-413f9b256454"},"name":"ea9792f4_runbook_cloned_1"}},"variable_list":[],"name":"FileServer_Package"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"d39cf22d-5ece-456d-a0e7-1767f4e2f43c","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"d3f5a5ed-5a74-4f75-adf8-f5663ca844dc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"42689af2-911f-4df2-b09a-394bb68f32b1"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"42689af2-911f-4df2-b09a-394bb68f32b1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"488cbef6-bfb4-480e-954c-8a7bf098f25e","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},"edge_type":"user_defined","type":"","uuid":"6afab150-4f84-40ef-9219-b2407879422f","to_task_reference":{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}},{"from_task_reference":{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},"edge_type":"user_defined","type":"","uuid":"d464b35b-867b-4fc3-aeb0-9335890bffad","to_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif(\"@@{DOMAIN_TYPE}@@\" -eq \"DC\"){\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses \"127.0.0.1\"\n  Restart-Computer -Force -AsJob\n  exit 0\n}\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\n\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : ActiveDirectoryBundle.ps1\n# Author      : K Sarath Kumar\n# Version     : 1.0\n# Description : Installs and configures domain controller features AD, CDC, ADC & RODC.\n##############################################\n\n$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Write-Output \"Import-Module ADDSDeployment\"\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\calm\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n    \tWrite-Output \"01 Install DC Role\"\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n    \tWrite-Output \"01 Install ADC Role\"\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n    \tWrite-Output \"01 Install CDC Role\"\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Write-Output \"01 Install RODC Role\"\n      $SafeModePassword = ConvertTo-SecureString Nutanix\/4u -AsPlainText -Force\n      Write-Output \"01 Install RODC Role - Test\"\n      Test-ADDSDomainControllerInstallation -Credential $credential -SafeModeAdministratorPassword $SafeModePassword -DomainName a56.demo\n      Write-Output \"01 Install RODC Role - Install\"\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est autoris\u00e9\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrateurs\", \"BUILTIN\\Op\u00e9rateurs de serveur\", \"BUILTIN\\Op\u00e9rateurs de sauvegarde\", \"BUILTIN\\Op\u00e9rateurs de compte\", \"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est refus\u00e9\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"01 Invalid DomainType\"\n    }\n}\n}\n# -*- Cheking Exitance of Active directory Feature.\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n} else{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n} else{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  Write-Output \"Domain doesn't exist\"\n  Write-Output \"OS Detected version : $MajorOSVersion\"\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  } elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Write-Output \"Domain mode : $DomainMode\"\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\nStart-Sleep -Seconds 5\n\necho $Error\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_ConfigurationRoleRODC"}],"description":"","message_list":[],"uuid":"cfb71c35-8055-40c0-937b-af1252490e29","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"488cbef6-bfb4-480e-954c-8a7bf098f25e"},"name":"b54300dd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"5e3c5bb3-694f-45db-b7ca-3969caed61ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},"edge_type":"user_defined","type":"","uuid":"28fd9471-206c-4516-8e27-689ff3b970bc","to_task_reference":{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nUninstall-ADDSDomainController -Credential $credential -DemoteOperationMasterRole -NoRebootOnCompletion -Force -ForceRemoval -LocalAdministratorPassword $adminpassword","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Unistall_AD_Services"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\n\nRestart-Computer -Force -AsJob","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_UnjoinDomain"}],"description":"","message_list":[],"uuid":"d353ecaa-011c-4807-9d5a-0a33446228c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"5e3c5bb3-694f-45db-b7ca-3969caed61ae"},"name":"ea9792f4_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}],"description":"","message_list":[],"uuid":"b1967b89-2e8e-4fb0-adfa-7aff4f97b5f7","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"d3f5a5ed-5a74-4f75-adf8-f5663ca844dc"},"name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}},{"description":"System action for creating an application","message_list":[],"uuid":"2b303b37-efe1-493f-a324-6f2fc5f96e5d","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"e8b0039c-5327-43ec-93fc-f5e83cc34de8","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"76f38b7d-9634-4f24-99a2-5e55f4428b36"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"29df5518-791f-49b1-aca4-0c2482ff2275"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"f750a73e-c8d3-44dd-a5ea-7998532bf2c1"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"29df5518-791f-49b1-aca4-0c2482ff2275"},"edge_type":"inherent","type":"","uuid":"46f3d63c-9c12-4280-80a7-4cb736c655b4","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"f750a73e-c8d3-44dd-a5ea-7998532bf2c1"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"76f38b7d-9634-4f24-99a2-5e55f4428b36"},"edge_type":"inherent","type":"","uuid":"d629b16a-f214-47db-b46d-b8ce9606c3f6","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"29df5518-791f-49b1-aca4-0c2482ff2275"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"76f38b7d-9634-4f24-99a2-5e55f4428b36","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"b1967b89-2e8e-4fb0-adfa-7aff4f97b5f7"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"29df5518-791f-49b1-aca4-0c2482ff2275","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook","uuid":"8e106ca0-1c4c-42f1-add6-88aec41f5cf0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"f750a73e-c8d3-44dd-a5ea-7998532bf2c1","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook","uuid":"e5f95b58-0367-4c97-97f6-6c086396901c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"5f6cf2ef-5d7b-46df-9135-6c771ebf98a2","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"e8b0039c-5327-43ec-93fc-f5e83cc34de8"},"name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"c081a21b-3bb2-42e6-bc6e-5a9427fc7d6b","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"83b166ff-f367-4223-b71b-057598cf394a","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"3d41df9d-d55f-445c-a2f9-2fe7390f217e"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"3d41df9d-d55f-445c-a2f9-2fe7390f217e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"488cbef6-bfb4-480e-954c-8a7bf098f25e","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},"edge_type":"user_defined","type":"","uuid":"6afab150-4f84-40ef-9219-b2407879422f","to_task_reference":{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}},{"from_task_reference":{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},"edge_type":"user_defined","type":"","uuid":"d464b35b-867b-4fc3-aeb0-9335890bffad","to_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif(\"@@{DOMAIN_TYPE}@@\" -eq \"DC\"){\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses \"127.0.0.1\"\n  Restart-Computer -Force -AsJob\n  exit 0\n}\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\n\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : ActiveDirectoryBundle.ps1\n# Author      : K Sarath Kumar\n# Version     : 1.0\n# Description : Installs and configures domain controller features AD, CDC, ADC & RODC.\n##############################################\n\n$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Write-Output \"Import-Module ADDSDeployment\"\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\calm\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n    \tWrite-Output \"01 Install DC Role\"\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n    \tWrite-Output \"01 Install ADC Role\"\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n    \tWrite-Output \"01 Install CDC Role\"\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Write-Output \"01 Install RODC Role\"\n      $SafeModePassword = ConvertTo-SecureString Nutanix\/4u -AsPlainText -Force\n      Write-Output \"01 Install RODC Role - Test\"\n      Test-ADDSDomainControllerInstallation -Credential $credential -SafeModeAdministratorPassword $SafeModePassword -DomainName a56.demo\n      Write-Output \"01 Install RODC Role - Install\"\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est autoris\u00e9\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrateurs\", \"BUILTIN\\Op\u00e9rateurs de serveur\", \"BUILTIN\\Op\u00e9rateurs de sauvegarde\", \"BUILTIN\\Op\u00e9rateurs de compte\", \"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est refus\u00e9\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"01 Invalid DomainType\"\n    }\n}\n}\n# -*- Cheking Exitance of Active directory Feature.\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n} else{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n} else{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  Write-Output \"Domain doesn't exist\"\n  Write-Output \"OS Detected version : $MajorOSVersion\"\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  } elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Write-Output \"Domain mode : $DomainMode\"\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\nStart-Sleep -Seconds 5\n\necho $Error\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_ConfigurationRoleRODC"}],"description":"","message_list":[],"uuid":"cfb71c35-8055-40c0-937b-af1252490e29","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"488cbef6-bfb4-480e-954c-8a7bf098f25e"},"name":"b54300dd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"5e3c5bb3-694f-45db-b7ca-3969caed61ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},"edge_type":"user_defined","type":"","uuid":"28fd9471-206c-4516-8e27-689ff3b970bc","to_task_reference":{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nUninstall-ADDSDomainController -Credential $credential -DemoteOperationMasterRole -NoRebootOnCompletion -Force -ForceRemoval -LocalAdministratorPassword $adminpassword","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Unistall_AD_Services"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\n\nRestart-Computer -Force -AsJob","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_UnjoinDomain"}],"description":"","message_list":[],"uuid":"d353ecaa-011c-4807-9d5a-0a33446228c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"5e3c5bb3-694f-45db-b7ca-3969caed61ae"},"name":"ea9792f4_runbook"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}],"description":"","message_list":[],"uuid":"08065478-f272-4478-9817-c7e542af6816","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"83b166ff-f367-4223-b71b-057598cf394a"},"name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"f688ffe0-54dc-4884-a457-0e92b7440c5c","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"5b7542cb-e43b-4581-b1b3-817dd759354c","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"820841fd-1945-4b9c-8dfb-93dafc6ccce0"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"13aff106-1ef3-4864-aef1-fb44b1dfd82e"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"b076873f-7271-4448-ab80-4996bfd22c09"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"820841fd-1945-4b9c-8dfb-93dafc6ccce0"},"edge_type":"inherent","type":"","uuid":"b954089b-f95a-474e-b72e-a3a9143df34a","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"13aff106-1ef3-4864-aef1-fb44b1dfd82e"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"13aff106-1ef3-4864-aef1-fb44b1dfd82e"},"edge_type":"inherent","type":"","uuid":"30e8d864-6a99-41a6-9c5c-46d919a3d6ff","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"b076873f-7271-4448-ab80-4996bfd22c09"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"820841fd-1945-4b9c-8dfb-93dafc6ccce0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook","uuid":"36fa838d-2238-416b-af07-612d612f09e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"13aff106-1ef3-4864-aef1-fb44b1dfd82e","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook","uuid":"a3fa9190-013f-401c-9a4e-ba93c3eeee21"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b076873f-7271-4448-ab80-4996bfd22c09","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"08065478-f272-4478-9817-c7e542af6816"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}],"description":"","message_list":[],"uuid":"e483c3ce-89dc-4843-a425-ae3fb2bae167","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"5b7542cb-e43b-4581-b1b3-817dd759354c"},"name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"af54e384-d7b5-4996-bb49-77e274b23f24","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"7fe3078e-2580-4ada-b428-9a97fa6a5985","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"7fd87564-5889-4bb0-a785-f7b2c399bbab"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"ded566bc-2a00-4ad8-b4dd-7e3ca55e4495"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"7fd87564-5889-4bb0-a785-f7b2c399bbab"},"edge_type":"inherent","type":"","uuid":"de3d99a6-e60a-43e4-91cd-412f4c97333c","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"ded566bc-2a00-4ad8-b4dd-7e3ca55e4495"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"7fd87564-5889-4bb0-a785-f7b2c399bbab","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"f4c788de-b5f3-44a6-9363-b05e8450dde4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"},{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"ded566bc-2a00-4ad8-b4dd-7e3ca55e4495","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}],"description":"","message_list":[],"uuid":"86405f8e-810f-4048-b735-c3f9db6c6f99","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"7fe3078e-2580-4ada-b428-9a97fa6a5985"},"name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}},{"description":"System action for starting an application","message_list":[],"uuid":"8115a375-ff9f-442b-9286-16c53c6a9b12","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"3fc5008b-2904-4fe3-afef-ae4e5b26144d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"6bc42280-0caa-46c2-8b48-3efc69fc6278"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"6bc42280-0caa-46c2-8b48-3efc69fc6278","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook","uuid":"e5f95b58-0367-4c97-97f6-6c086396901c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"49c055d2-a741-4b18-81d3-923d58cc9b49","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"3fc5008b-2904-4fe3-afef-ae4e5b26144d"},"name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}},{"description":"System action for restarting an application","message_list":[],"uuid":"97b36856-6367-4f74-97ac-925b17220a95","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"f5318ab7-3b44-493e-bed2-6702b7fa0815","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"c9ebd566-d4a2-4cbd-9ee4-4e56644a2965"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c9ebd566-d4a2-4cbd-9ee4-4e56644a2965","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook","uuid":"0347369a-1f7c-4e26-98c4-2f0ec29df67d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"6c2906d1-c8e2-4129-b7e8-3d26f424946b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"f5318ab7-3b44-493e-bed2-6702b7fa0815"},"name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}},{"description":"System action for stopping an application","message_list":[],"uuid":"84007f26-6623-4d1c-ae26-565d86f19f3a","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"b12bb5dc-5969-467a-b13b-64e13bf2e587","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9","uuid":"c9a2daf1-ccf8-402c-83d3-1eaefa0c0476"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c9a2daf1-ccf8-402c-83d3-1eaefa0c0476","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook","uuid":"36fa838d-2238-416b-af07-612d612f09e0"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_0fddcd66_fb37_45b5_8f36_84b302f644d9"}],"description":"","message_list":[],"uuid":"0533bb84-28cd-46f2-8a44-6e543bd4bdb8","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68","uuid":"b12bb5dc-5969-467a-b13b-64e13bf2e587"},"name":"SYS_GEN__Runbook_Package_13b0c7e9_528a_4f2c_a5b1_0e4c50e7ef68"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"}],"uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"488cbef6-bfb4-480e-954c-8a7bf098f25e","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},"edge_type":"user_defined","type":"","uuid":"6afab150-4f84-40ef-9219-b2407879422f","to_task_reference":{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}},{"from_task_reference":{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},"edge_type":"user_defined","type":"","uuid":"d464b35b-867b-4fc3-aeb0-9335890bffad","to_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif(\"@@{DOMAIN_TYPE}@@\" -eq \"DC\"){\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses \"127.0.0.1\"\n  Restart-Computer -Force -AsJob\n  exit 0\n}\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\n\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : ActiveDirectoryBundle.ps1\n# Author      : K Sarath Kumar\n# Version     : 1.0\n# Description : Installs and configures domain controller features AD, CDC, ADC & RODC.\n##############################################\n\n$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Write-Output \"Import-Module ADDSDeployment\"\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\calm\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n    \tWrite-Output \"01 Install DC Role\"\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n    \tWrite-Output \"01 Install ADC Role\"\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n    \tWrite-Output \"01 Install CDC Role\"\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Write-Output \"01 Install RODC Role\"\n      $SafeModePassword = ConvertTo-SecureString Nutanix\/4u -AsPlainText -Force\n      Write-Output \"01 Install RODC Role - Test\"\n      Test-ADDSDomainControllerInstallation -Credential $credential -SafeModeAdministratorPassword $SafeModePassword -DomainName a56.demo\n      Write-Output \"01 Install RODC Role - Install\"\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est autoris\u00e9\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrateurs\", \"BUILTIN\\Op\u00e9rateurs de serveur\", \"BUILTIN\\Op\u00e9rateurs de sauvegarde\", \"BUILTIN\\Op\u00e9rateurs de compte\", \"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est refus\u00e9\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"01 Invalid DomainType\"\n    }\n}\n}\n# -*- Cheking Exitance of Active directory Feature.\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n} else{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n} else{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  Write-Output \"Domain doesn't exist\"\n  Write-Output \"OS Detected version : $MajorOSVersion\"\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  } elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Write-Output \"Domain mode : $DomainMode\"\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\nStart-Sleep -Seconds 5\n\necho $Error\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_ConfigurationRoleRODC"}],"description":"","message_list":[],"uuid":"cfb71c35-8055-40c0-937b-af1252490e29","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"488cbef6-bfb4-480e-954c-8a7bf098f25e"},"name":"b54300dd_runbook"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","description":"","type":"DAG","uuid":"5e3c5bb3-694f-45db-b7ca-3969caed61ae","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},"edge_type":"user_defined","type":"","uuid":"28fd9471-206c-4516-8e27-689ff3b970bc","to_task_reference":{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nUninstall-ADDSDomainController -Credential $credential -DemoteOperationMasterRole -NoRebootOnCompletion -Force -ForceRemoval -LocalAdministratorPassword $adminpassword","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_Unistall_AD_Services"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","description":"","type":"EXEC","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\n\nRestart-Computer -Force -AsJob","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"RODC_UnjoinDomain"}],"description":"","message_list":[],"uuid":"d353ecaa-011c-4807-9d5a-0a33446228c5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"5e3c5bb3-694f-45db-b7ca-3969caed61ae"},"name":"ea9792f4_runbook"}},"variable_list":[],"name":"RODC_Package"},{"description":"","action_list":[{"description":"System action for installing an application","message_list":[],"uuid":"6c3bed58-4f98-48b3-9f2d-379e45ece371","name":"action_install","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"9df96a10-dc73-4a71-b302-81ba163f3c12","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Install_Crb_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"ac22635d-27dd-4dcd-85a5-f07ef41745cb"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_INSTALL","uuid":"ac22635d-27dd-4dcd-85a5-f07ef41745cb","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"10a0adf7-3bdf-4a13-8e98-18caa31a3463","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"027be01d-f58f-4899-9899-3937a6220868"},{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},{"kind":"app_task","name":"Message_Teams","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"},{"kind":"app_task","name":"Message_Slack","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},"edge_type":"user_defined","type":"","uuid":"ed239342-7866-4b48-8ec9-724aca2636fd","to_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},"edge_type":"user_defined","type":"","uuid":"3846a4c3-d682-4b0c-9f3a-b18a10a7f2e6","to_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"027be01d-f58f-4899-9899-3937a6220868"},"edge_type":"user_defined","type":"","uuid":"700383c8-2746-402f-9547-035f09db0319","to_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},"edge_type":"user_defined","type":"","uuid":"a8019cd4-c62e-422c-bd06-d6f438f12232","to_task_reference":{"kind":"app_task","name":"Message_Slack","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},"edge_type":"user_defined","type":"","uuid":"2fc73bea-9620-48f4-aef3-e1f7788e039b","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},"edge_type":"user_defined","type":"","uuid":"ad4ab116-be9a-42e6-8472-a752be7a5767","to_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},"edge_type":"user_defined","type":"","uuid":"0717e7d4-1dc2-424b-9132-947d3e976111","to_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"027be01d-f58f-4899-9899-3937a6220868","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$osversion = (Get-CimInstance Win32_OperatingSystem).Version \n$version = $osversion.split(\".\")[0] \n \nif ($version -eq 10) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n} ElseIf ($Version -eq 6) { \n    $sub = $version.split(\".\")[1] \n    if ($sub -eq 1 -or $sub -eq 0) { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n    } Else { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n    } \n} ElseIf ($Version -eq 5) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n} Else { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DisableUAC"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname : $HOSTNAME\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\n\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\n\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"90b90252-27c9-4599-b4ef-764a889b5265","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"netsh advfirewall set allprofiles state off\necho $Error","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DesactivationFirewall"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"D:\\setup.exe \/q \/ACTION=Install \/IACCEPTSQLSERVERLICENSETERMS \/FEATURES=SQL \/INSTANCENAME=\"@@{SQL_INSTANCE_NAME}@@\" \/SQLSVCACCOUNT=\"NT AUTHORITY\\SYSTEM\" \/SQLSYSADMINACCOUNTS=\"@@{DOMAIN_CRED.username}@@\" \/AGTSVCACCOUNT=\"NT AUTHORITY\\Network Service\" \/SQLSVCINSTANTFILEINIT=\"True\" \/IACCEPTSQLSERVERLICENSETERMS \/UpdateEnabled=False","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer2016_InstallationBinaires"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"function Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\necho \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_ImportBDD"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': '@@{MSO365_Teams_Title}@@',\n  'text': 'D\u00e9ploiement du SQL Serveur termin\u00e9. Vous pouvez vous y connectez vie l IP @@{address}@@ :-)',\n  'potentialAction': [\n    {\n      '@type': 'ActionCard',\n      'name': 'Details',\n      'inputs': [\n        {\n          '@type': 'TextInput',\n          'id': 'feedback',\n          'isMultiline': 'true',\n          'title': 'On peut ici mettre tout un tas d informations'\n        }\n      ],\n      'actions': [\n        {\n          '@type': 'HttpPOST',\n          'name': 'Lien',\n          'isPrimary': 'true',\n          'target': 'rdp:\/\/@@{DNSServer}@@'\n        }\n      ]\n    },\n    {\n      '@type': 'OpenUri',\n      'name': 'Connexions',\n      'targets': [\n        { 'os': 'default', 'uri': 'rdp:\/\/@@{DNSServer}@@' }\n      ]\n    }\n  ]\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{SLACK_HOOK}@@\"\n\npayload = {\n  'text': 'Nutanix CALM : Application @@{calm_application_name}@@ vient d etre deployee :-)'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Slack"}],"description":"","message_list":[],"uuid":"8756c7ec-551f-41d5-8327-ee8ddc23a907","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"10a0adf7-3bdf-4a13-8e98-18caa31a3463"},"name":"b54300dd_runbook_cloned_1_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"1598f85a-81ba-4e4f-bf27-b32227639b7d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},{"kind":"app_task","name":"Message_Teams","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},"edge_type":"user_defined","type":"","uuid":"150b7504-6e94-47a7-b440-193bb6e23af0","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\nrestart-computer","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_UnjoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': 'Nutanix CALM : @@{calm_application_name}@@ - Supprimee',\n  'text': 'Pense a montrer la suppression dans l AD.'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"9d90f32e-c972-4699-b2be-1f392823c39c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"1598f85a-81ba-4e4f-bf27-b32227639b7d"},"name":"ea9792f4_runbook_cloned_1_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Install_Crb_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}],"description":"","message_list":[],"uuid":"fa675554-ebae-4251-91f7-d15ea558f747","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"9df96a10-dc73-4a71-b302-81ba163f3c12"},"name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}},{"description":"System action for creating an application","message_list":[],"uuid":"e0cbad87-b1b1-4863-a32e-06c782c8fd59","name":"action_create","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"a76fa323-d4e2-42e4-b4d1-838943e5cabc","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"c5872a64-4876-4ebc-8057-97b7e72563e0"},{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"1379399f-ec5b-4d64-aab2-a58a69545e5a"},{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"c6d077b4-cd66-4fcd-88a0-83115ce1b6ba"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"1379399f-ec5b-4d64-aab2-a58a69545e5a"},"edge_type":"inherent","type":"","uuid":"885e4bc0-70c6-4b23-bc11-98a7b72ee246","to_task_reference":{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"c6d077b4-cd66-4fcd-88a0-83115ce1b6ba"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"c5872a64-4876-4ebc-8057-97b7e72563e0"},"edge_type":"inherent","type":"","uuid":"566a6ce7-8b1f-4c63-84c5-ad813f8f2d89","to_task_reference":{"kind":"app_task","name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"1379399f-ec5b-4d64-aab2-a58a69545e5a"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c5872a64-4876-4ebc-8057-97b7e72563e0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"fa675554-ebae-4251-91f7-d15ea558f747"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__install_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"1379399f-ec5b-4d64-aab2-a58a69545e5a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"889e469c_runbook_cloned_1_cloned_1","uuid":"921dc14b-d505-4d24-89cb-e44b5ccdad7d"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__create_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"c6d077b4-cd66-4fcd-88a0-83115ce1b6ba","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1_cloned_1","uuid":"0c5a91ae-a45e-4e0d-b918-d95f3e147594"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"21528efa-1171-49ad-b951-1b5e05265f05","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"a76fa323-d4e2-42e4-b4d1-838943e5cabc"},"name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}},{"description":"System action for uninstalling an application","message_list":[],"uuid":"208f0419-8824-4727-b176-dbac275ee793","name":"action_uninstall","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"12e52b83-c54e-4292-ba55-fa4a4e7768e5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__Uninstall_Crb_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"9dc3e289-5c8c-4f7d-ba74-caa3739f865b"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"CUSTOM_PACKAGE_UNINSTALL","uuid":"9dc3e289-5c8c-4f7d-ba74-caa3739f865b","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"10a0adf7-3bdf-4a13-8e98-18caa31a3463","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"027be01d-f58f-4899-9899-3937a6220868"},{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},{"kind":"app_task","name":"Message_Teams","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"},{"kind":"app_task","name":"Message_Slack","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},"edge_type":"user_defined","type":"","uuid":"ed239342-7866-4b48-8ec9-724aca2636fd","to_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},"edge_type":"user_defined","type":"","uuid":"3846a4c3-d682-4b0c-9f3a-b18a10a7f2e6","to_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"027be01d-f58f-4899-9899-3937a6220868"},"edge_type":"user_defined","type":"","uuid":"700383c8-2746-402f-9547-035f09db0319","to_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},"edge_type":"user_defined","type":"","uuid":"a8019cd4-c62e-422c-bd06-d6f438f12232","to_task_reference":{"kind":"app_task","name":"Message_Slack","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},"edge_type":"user_defined","type":"","uuid":"2fc73bea-9620-48f4-aef3-e1f7788e039b","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},"edge_type":"user_defined","type":"","uuid":"ad4ab116-be9a-42e6-8472-a752be7a5767","to_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},"edge_type":"user_defined","type":"","uuid":"0717e7d4-1dc2-424b-9132-947d3e976111","to_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"027be01d-f58f-4899-9899-3937a6220868","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$osversion = (Get-CimInstance Win32_OperatingSystem).Version \n$version = $osversion.split(\".\")[0] \n \nif ($version -eq 10) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n} ElseIf ($Version -eq 6) { \n    $sub = $version.split(\".\")[1] \n    if ($sub -eq 1 -or $sub -eq 0) { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n    } Else { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n    } \n} ElseIf ($Version -eq 5) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n} Else { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DisableUAC"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname : $HOSTNAME\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\n\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\n\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"90b90252-27c9-4599-b4ef-764a889b5265","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"netsh advfirewall set allprofiles state off\necho $Error","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DesactivationFirewall"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"D:\\setup.exe \/q \/ACTION=Install \/IACCEPTSQLSERVERLICENSETERMS \/FEATURES=SQL \/INSTANCENAME=\"@@{SQL_INSTANCE_NAME}@@\" \/SQLSVCACCOUNT=\"NT AUTHORITY\\SYSTEM\" \/SQLSYSADMINACCOUNTS=\"@@{DOMAIN_CRED.username}@@\" \/AGTSVCACCOUNT=\"NT AUTHORITY\\Network Service\" \/SQLSVCINSTANTFILEINIT=\"True\" \/IACCEPTSQLSERVERLICENSETERMS \/UpdateEnabled=False","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer2016_InstallationBinaires"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"function Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\necho \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_ImportBDD"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': '@@{MSO365_Teams_Title}@@',\n  'text': 'D\u00e9ploiement du SQL Serveur termin\u00e9. Vous pouvez vous y connectez vie l IP @@{address}@@ :-)',\n  'potentialAction': [\n    {\n      '@type': 'ActionCard',\n      'name': 'Details',\n      'inputs': [\n        {\n          '@type': 'TextInput',\n          'id': 'feedback',\n          'isMultiline': 'true',\n          'title': 'On peut ici mettre tout un tas d informations'\n        }\n      ],\n      'actions': [\n        {\n          '@type': 'HttpPOST',\n          'name': 'Lien',\n          'isPrimary': 'true',\n          'target': 'rdp:\/\/@@{DNSServer}@@'\n        }\n      ]\n    },\n    {\n      '@type': 'OpenUri',\n      'name': 'Connexions',\n      'targets': [\n        { 'os': 'default', 'uri': 'rdp:\/\/@@{DNSServer}@@' }\n      ]\n    }\n  ]\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{SLACK_HOOK}@@\"\n\npayload = {\n  'text': 'Nutanix CALM : Application @@{calm_application_name}@@ vient d etre deployee :-)'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Slack"}],"description":"","message_list":[],"uuid":"8756c7ec-551f-41d5-8327-ee8ddc23a907","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"10a0adf7-3bdf-4a13-8e98-18caa31a3463"},"name":"b54300dd_runbook_cloned_1_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"1598f85a-81ba-4e4f-bf27-b32227639b7d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},{"kind":"app_task","name":"Message_Teams","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},"edge_type":"user_defined","type":"","uuid":"150b7504-6e94-47a7-b440-193bb6e23af0","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\nrestart-computer","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_UnjoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': 'Nutanix CALM : @@{calm_application_name}@@ - Supprimee',\n  'text': 'Pense a montrer la suppression dans l AD.'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"9d90f32e-c972-4699-b2be-1f392823c39c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"1598f85a-81ba-4e4f-bf27-b32227639b7d"},"name":"ea9792f4_runbook_cloned_1_cloned_1"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Uninstall_Crb_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}],"description":"","message_list":[],"uuid":"90665890-4dd7-484a-8355-6cecc3be6d44","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"12e52b83-c54e-4292-ba55-fa4a4e7768e5"},"name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}},{"description":"System action for deleting an application. Deletes created VMs as well","message_list":[],"uuid":"c5ae5f0e-1d98-4f69-a9c8-d6f237b18747","name":"action_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"eca6c5b6-6109-44d0-bb52-5ed8434cd7f7","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"93cf9be5-231f-4190-9d19-f8965f5b6073"},{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"4c584932-02d1-4e67-89e7-fc7a75a2aea2"},{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"e647d14a-76f8-463e-b2d0-b5b960a9d631"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"93cf9be5-231f-4190-9d19-f8965f5b6073"},"edge_type":"inherent","type":"","uuid":"a165bee5-4253-4d3e-875f-579e7a42d5fe","to_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"4c584932-02d1-4e67-89e7-fc7a75a2aea2"}},{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"4c584932-02d1-4e67-89e7-fc7a75a2aea2"},"edge_type":"inherent","type":"","uuid":"1c3328ca-2011-4f3d-a639-22bd1ddbc1b0","to_task_reference":{"kind":"app_task","name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"e647d14a-76f8-463e-b2d0-b5b960a9d631"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"93cf9be5-231f-4190-9d19-f8965f5b6073","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1_cloned_1","uuid":"0def1695-83b1-4f67-b1e9-413081bca11e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"4c584932-02d1-4e67-89e7-fc7a75a2aea2","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"ba903ca4_runbook_cloned_1_cloned_1","uuid":"dc23771e-0f6c-40cb-9ac9-41151e197903"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"e647d14a-76f8-463e-b2d0-b5b960a9d631","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"90665890-4dd7-484a-8355-6cecc3be6d44"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__uninstall_CRb_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}],"description":"","message_list":[],"uuid":"394e8dbf-68d1-4623-8d6c-71d397427f9b","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"eca6c5b6-6109-44d0-bb52-5ed8434cd7f7"},"name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}},{"description":"System action for deleting an application. Does not delete created VMs","message_list":[],"uuid":"77c13682-1115-4534-9d34-822fe890b702","name":"action_soft_delete","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"0e842ec2-d16d-414c-bcae-8d09fb64dbe5","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"ae402e4d-2b5d-4f04-9462-4fe126e31674"},{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"da4972bc-1fb9-43b2-bd2e-0298c837a932"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"ae402e4d-2b5d-4f04-9462-4fe126e31674"},"edge_type":"inherent","type":"","uuid":"b60f824f-3b6a-4c8b-b165-7d2a69184460","to_task_reference":{"kind":"app_task","name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"da4972bc-1fb9-43b2-bd2e-0298c837a932"}}],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"ae402e4d-2b5d-4f04-9462-4fe126e31674","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"SYS_GEN__Runbook_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"e38a6c5f-fa3d-4ee4-8e8f-dd2febe64d29"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__soft_delete_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"},{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"SOFT_DELETE_ELEMENT","uuid":"da4972bc-1fb9-43b2-bd2e-0298c837a932","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Package_Element_Delete_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}],"description":"","message_list":[],"uuid":"4227c7d6-2f4e-47f8-b8c0-dfb4b91b26a5","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"0e842ec2-d16d-414c-bcae-8d09fb64dbe5"},"name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}},{"description":"System action for starting an application","message_list":[],"uuid":"80a29a2b-4798-4140-9070-35c42d3465fa","name":"action_start","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"18af2697-9ee7-44f0-8806-416c7b3a1c51","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"b740de83-c739-4f63-9b8d-7946c514b591"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"b740de83-c739-4f63-9b8d-7946c514b591","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"481c8fb9_runbook_cloned_1_cloned_1","uuid":"0c5a91ae-a45e-4e0d-b918-d95f3e147594"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__start_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"aa736fcd-b99a-411f-bfad-cd0f88f454d1","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"18af2697-9ee7-44f0-8806-416c7b3a1c51"},"name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}},{"description":"System action for restarting an application","message_list":[],"uuid":"cf0b5ded-7c52-48d9-857c-e3b5b834eff4","name":"action_restart","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"6dfb10f6-c4c8-4f2d-bce7-e94b2736b847","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__restart_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"d620183d-431c-4153-a23e-1d45fa592bcd"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"d620183d-431c-4153-a23e-1d45fa592bcd","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"e57299e8_runbook_cloned_1_cloned_1","uuid":"d8a863c0-d19e-4f85-939f-0f5d1ca8b68c"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__restart_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"c01844e4-b168-4747-936f-05d0e4e059eb","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"6dfb10f6-c4c8-4f2d-bce7-e94b2736b847"},"name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}},{"description":"System action for stopping an application","message_list":[],"uuid":"327d6c9c-0726-4736-9f31-1b3fd076e43d","name":"action_stop","state":"ACTIVE","critical":true,"attrs":{},"type":"system","runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"fb4f1926-a4ea-43f9-a918-ced01fb1ada4","child_tasks_local_reference_list":[{"kind":"app_task","name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29","uuid":"da4bb81c-ebda-42dc-afeb-9ff4aa76eb91"}],"state":"ACTIVE","attrs":{"edges":[],"type":"DAG"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"CALL_RUNBOOK","uuid":"da4bb81c-ebda-42dc-afeb-9ff4aa76eb91","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"inarg_list":[],"type":"CALL_RUNBOOK","runbook_reference":{"kind":"app_runbook","name":"1211f851_runbook_cloned_1_cloned_1","uuid":"0def1695-83b1-4f67-b1e9-413081bca11e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SYS_GEN__stop_CRb_Service_7ddee25c_3d5c_4dc5_b60c_d1f3433a1c29"}],"description":"","message_list":[],"uuid":"8ac869a6-3e29-4702-aaaf-05dee2768208","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"SYS_GEN__Composite_DAG_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a","uuid":"fb4f1926-a4ea-43f9-a918-ced01fb1ada4"},"name":"SYS_GEN__Runbook_Package_ca1c77a0_855d_41d6_bf4d_00b9a62da67a"}}],"message_list":[],"service_local_reference_list":[{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"}],"uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a","state":"ACTIVE","version":"","editables":{},"type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"10a0adf7-3bdf-4a13-8e98-18caa31a3463","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"027be01d-f58f-4899-9899-3937a6220868"},{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},{"kind":"app_task","name":"Message_Teams","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"},{"kind":"app_task","name":"Message_Slack","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},"edge_type":"user_defined","type":"","uuid":"ed239342-7866-4b48-8ec9-724aca2636fd","to_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},"edge_type":"user_defined","type":"","uuid":"3846a4c3-d682-4b0c-9f3a-b18a10a7f2e6","to_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"027be01d-f58f-4899-9899-3937a6220868"},"edge_type":"user_defined","type":"","uuid":"700383c8-2746-402f-9547-035f09db0319","to_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},"edge_type":"user_defined","type":"","uuid":"a8019cd4-c62e-422c-bd06-d6f438f12232","to_task_reference":{"kind":"app_task","name":"Message_Slack","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},"edge_type":"user_defined","type":"","uuid":"2fc73bea-9620-48f4-aef3-e1f7788e039b","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},"edge_type":"user_defined","type":"","uuid":"ad4ab116-be9a-42e6-8472-a752be7a5767","to_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},"edge_type":"user_defined","type":"","uuid":"0717e7d4-1dc2-424b-9132-947d3e976111","to_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"76326282_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"027be01d-f58f-4899-9899-3937a6220868","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$osversion = (Get-CimInstance Win32_OperatingSystem).Version \n$version = $osversion.split(\".\")[0] \n \nif ($version -eq 10) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n} ElseIf ($Version -eq 6) { \n    $sub = $version.split(\".\")[1] \n    if ($sub -eq 1 -or $sub -eq 0) { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n    } Else { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n    } \n} ElseIf ($Version -eq 5) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n} Else { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DisableUAC"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname : $HOSTNAME\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\n\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\n\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_RenameAndJoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"90b90252-27c9-4599-b4ef-764a889b5265","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_Attente1"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"netsh advfirewall set allprofiles state off\necho $Error","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_DesactivationFirewall"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"D:\\setup.exe \/q \/ACTION=Install \/IACCEPTSQLSERVERLICENSETERMS \/FEATURES=SQL \/INSTANCENAME=\"@@{SQL_INSTANCE_NAME}@@\" \/SQLSVCACCOUNT=\"NT AUTHORITY\\SYSTEM\" \/SQLSYSADMINACCOUNTS=\"@@{DOMAIN_CRED.username}@@\" \/AGTSVCACCOUNT=\"NT AUTHORITY\\Network Service\" \/SQLSVCINSTANTFILEINIT=\"True\" \/IACCEPTSQLSERVERLICENSETERMS \/UpdateEnabled=False","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer2016_InstallationBinaires"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"function Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\necho \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_ImportBDD"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': '@@{MSO365_Teams_Title}@@',\n  'text': 'D\u00e9ploiement du SQL Serveur termin\u00e9. Vous pouvez vous y connectez vie l IP @@{address}@@ :-)',\n  'potentialAction': [\n    {\n      '@type': 'ActionCard',\n      'name': 'Details',\n      'inputs': [\n        {\n          '@type': 'TextInput',\n          'id': 'feedback',\n          'isMultiline': 'true',\n          'title': 'On peut ici mettre tout un tas d informations'\n        }\n      ],\n      'actions': [\n        {\n          '@type': 'HttpPOST',\n          'name': 'Lien',\n          'isPrimary': 'true',\n          'target': 'rdp:\/\/@@{DNSServer}@@'\n        }\n      ]\n    },\n    {\n      '@type': 'OpenUri',\n      'name': 'Connexions',\n      'targets': [\n        { 'os': 'default', 'uri': 'rdp:\/\/@@{DNSServer}@@' }\n      ]\n    }\n  ]\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{SLACK_HOOK}@@\"\n\npayload = {\n  'text': 'Nutanix CALM : Application @@{calm_application_name}@@ vient d etre deployee :-)'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Slack"}],"description":"","message_list":[],"uuid":"8756c7ec-551f-41d5-8327-ee8ddc23a907","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"10a0adf7-3bdf-4a13-8e98-18caa31a3463"},"name":"b54300dd_runbook_cloned_1_cloned_1"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","description":"","type":"DAG","uuid":"1598f85a-81ba-4e4f-bf27-b32227639b7d","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},{"kind":"app_task","name":"Message_Teams","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},"edge_type":"user_defined","type":"","uuid":"150b7504-6e94-47a7-b440-193bb6e23af0","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"700b3d0e_dag"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\nrestart-computer","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"SQLServer_UnjoinDomain"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","description":"","type":"EXEC","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': 'Nutanix CALM : @@{calm_application_name}@@ - Supprimee',\n  'text': 'Pense a montrer la suppression dans l AD.'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"name":"Message_Teams"}],"description":"","message_list":[],"uuid":"9d90f32e-c972-4699-b2be-1f392823c39c","state":"ACTIVE","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"1598f85a-81ba-4e4f-bf27-b32227639b7d"},"name":"ea9792f4_runbook_cloned_1_cloned_1"}},"variable_list":[],"name":"SQLServer_Personnalisation"}]},"name":"Cedric_newbp"},"spec":{"name":"Cedric_newbp","resources":{"service_definition_list":[{"singleton":false,"name":"FileServer","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c","name":"FileServer"},"retries":"0","description":"","uuid":"7b5cf7bd-1824-4999-b016-f34c1d974a8d","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"72b916a5_dag"}],"description":"","uuid":"94e0a00c-976f-4cb5-920a-4268be095296","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"72b916a5_dag","uuid":"7b5cf7bd-1824-4999-b016-f34c1d974a8d"},"name":"889e469c_runbook_cloned_1"},"type":"system","uuid":"dacce6c4-ffc6-45e8-a912-cc566eec9626"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c","name":"FileServer"},"retries":"0","description":"","uuid":"2fd33e02-52ef-4cd3-bd6d-f68de7ac4280","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"429866a5_dag"}],"description":"","uuid":"5623b392-ade7-4e40-97e6-02f727e6861a","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"429866a5_dag","uuid":"2fd33e02-52ef-4cd3-bd6d-f68de7ac4280"},"name":"ba903ca4_runbook_cloned_1"},"type":"system","uuid":"6bc0d745-f4be-4cf1-9cdf-557ed3cc0e56"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c","name":"FileServer"},"retries":"0","description":"","uuid":"280f54d2-8f1e-46d7-9b7d-88cf383719c6","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"39e9ed37_dag"}],"description":"","uuid":"919c2825-3446-4bc8-9030-9255bca06701","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"39e9ed37_dag","uuid":"280f54d2-8f1e-46d7-9b7d-88cf383719c6"},"name":"e57299e8_runbook_cloned_1"},"type":"system","uuid":"f6428c1e-30fd-4b0b-914b-4ccda38fcba2"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c","name":"FileServer"},"retries":"0","description":"","uuid":"64364048-3271-4625-b3aa-22921c634df4","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"f65bed74_dag"}],"description":"","uuid":"3b39ba16-6503-4961-8fd4-a11deb2bb75a","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f65bed74_dag","uuid":"64364048-3271-4625-b3aa-22921c634df4"},"name":"481c8fb9_runbook_cloned_1"},"type":"system","uuid":"af4196a8-16ce-45d4-a1ce-07604fe71123"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c","name":"FileServer"},"retries":"0","description":"","uuid":"6b21cd57-d812-46d8-9fd5-211c22ad4679","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"dbc95a1b_dag"}],"description":"","uuid":"2f2a14fe-9647-4c1e-aaa9-5038b46d158e","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"dbc95a1b_dag","uuid":"6b21cd57-d812-46d8-9fd5-211c22ad4679"},"name":"1211f851_runbook_cloned_1"},"type":"system","uuid":"b185b389-b307-46ec-9246-458c199a236d"}],"description":"","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]},{"singleton":false,"name":"RODC","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9","name":"RODC"},"retries":"0","description":"","uuid":"b1fcc229-fcc9-46ec-890b-3dd2abda7f67","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"72b916a5_dag"}],"description":"","uuid":"8e106ca0-1c4c-42f1-add6-88aec41f5cf0","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"72b916a5_dag","uuid":"b1fcc229-fcc9-46ec-890b-3dd2abda7f67"},"name":"889e469c_runbook"},"type":"system","uuid":"176b24ec-b75a-4007-ac81-07248663eecb"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9","name":"RODC"},"retries":"0","description":"","uuid":"4cc45053-ba4f-4413-b625-f4e7a3daa890","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"429866a5_dag"}],"description":"","uuid":"a3fa9190-013f-401c-9a4e-ba93c3eeee21","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"429866a5_dag","uuid":"4cc45053-ba4f-4413-b625-f4e7a3daa890"},"name":"ba903ca4_runbook"},"type":"system","uuid":"5051fb5e-2515-4f48-9dc8-8326618218b0"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9","name":"RODC"},"retries":"0","description":"","uuid":"d608183b-f2d5-4d0b-9bab-ba865ee13544","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"39e9ed37_dag"}],"description":"","uuid":"0347369a-1f7c-4e26-98c4-2f0ec29df67d","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"39e9ed37_dag","uuid":"d608183b-f2d5-4d0b-9bab-ba865ee13544"},"name":"e57299e8_runbook"},"type":"system","uuid":"daca4429-0b42-4ba7-9858-bc226aff2c93"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9","name":"RODC"},"retries":"0","description":"","uuid":"4e51b45f-d65d-43fd-b832-c69b6253c3d3","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"f65bed74_dag"}],"description":"","uuid":"e5f95b58-0367-4c97-97f6-6c086396901c","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f65bed74_dag","uuid":"4e51b45f-d65d-43fd-b832-c69b6253c3d3"},"name":"481c8fb9_runbook"},"type":"system","uuid":"30273407-1d53-4681-8f2d-edacc699ceab"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9","name":"RODC"},"retries":"0","description":"","uuid":"66448083-4373-475c-ae90-fcae54daa0de","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"dbc95a1b_dag"}],"description":"","uuid":"36fa838d-2238-416b-af07-612d612f09e0","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"dbc95a1b_dag","uuid":"66448083-4373-475c-ae90-fcae54daa0de"},"name":"1211f851_runbook"},"type":"system","uuid":"a5ecf191-be7d-4d73-b7db-6c9d880517be"}],"description":"","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]},{"singleton":false,"name":"SQLServer","action_list":[{"description":"System action for creating an application","name":"action_create","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29","name":"SQLServer"},"retries":"0","description":"","uuid":"da5568f2-5bed-4115-a0c6-d57c6da569f4","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"72b916a5_dag"}],"description":"","uuid":"921dc14b-d505-4d24-89cb-e44b5ccdad7d","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"72b916a5_dag","uuid":"da5568f2-5bed-4115-a0c6-d57c6da569f4"},"name":"889e469c_runbook_cloned_1_cloned_1"},"type":"system","uuid":"1ab930e1-aa9f-4814-88f6-692277b85b66"},{"description":"System action for deleting an application. Deletes created VMs as well","name":"action_delete","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29","name":"SQLServer"},"retries":"0","description":"","uuid":"59dfcc25-88d1-4d90-a2d8-13c8f8a9feb4","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"429866a5_dag"}],"description":"","uuid":"dc23771e-0f6c-40cb-9ac9-41151e197903","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"429866a5_dag","uuid":"59dfcc25-88d1-4d90-a2d8-13c8f8a9feb4"},"name":"ba903ca4_runbook_cloned_1_cloned_1"},"type":"system","uuid":"052c5260-f177-4a59-89ff-cd32cae7fe23"},{"description":"System action for restarting an application","name":"action_restart","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29","name":"SQLServer"},"retries":"0","description":"","uuid":"bcbbebd4-aaf7-4efe-a94b-333b15639539","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"39e9ed37_dag"}],"description":"","uuid":"d8a863c0-d19e-4f85-939f-0f5d1ca8b68c","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"39e9ed37_dag","uuid":"bcbbebd4-aaf7-4efe-a94b-333b15639539"},"name":"e57299e8_runbook_cloned_1_cloned_1"},"type":"system","uuid":"67aa7276-4a63-42a0-b150-7ceb6cc81083"},{"description":"System action for starting an application","name":"action_start","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29","name":"SQLServer"},"retries":"0","description":"","uuid":"0faa8f2d-1f23-49a7-aecb-3d61fbd7c07f","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"f65bed74_dag"}],"description":"","uuid":"0c5a91ae-a45e-4e0d-b918-d95f3e147594","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"f65bed74_dag","uuid":"0faa8f2d-1f23-49a7-aecb-3d61fbd7c07f"},"name":"481c8fb9_runbook_cloned_1_cloned_1"},"type":"system","uuid":"3d350626-420c-4153-87f0-39d4d9e49a1c"},{"description":"System action for stopping an application","name":"action_stop","critical":false,"runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_service","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29","name":"SQLServer"},"retries":"0","description":"","uuid":"8d365e53-6da9-46cb-ae2b-d4a7c7ea8711","child_tasks_local_reference_list":[],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"dbc95a1b_dag"}],"description":"","uuid":"0def1695-83b1-4f67-b1e9-413081bca11e","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"dbc95a1b_dag","uuid":"8d365e53-6da9-46cb-ae2b-d4a7c7ea8711"},"name":"1211f851_runbook_cloned_1_cloned_1"},"type":"system","uuid":"c688fd7e-f9bc-4244-8728-814dc66b11d2"}],"description":"","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29","port_list":[],"tier":"","variable_list":[],"depends_on_list":[]}],"substrate_definition_list":[{"name":"TFileServer","action_list":[],"uuid":"75318bd1-7ab9-4e18-9388-7822c825080f","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"120","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"TFileServer","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n              <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""},{"name":"TRODC","action_list":[],"uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"120","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"TRODC","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n   \n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>  \n      \n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n      \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n            \n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""},{"name":"TSQLServer","action_list":[],"uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d","readiness_probe":{"connection_type":"POWERSHELL","retries":"5","disable_readiness_probe":false,"address":"@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@","delay_secs":"120","connection_port":5985,"login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"editables":{"create_spec":{"resources":{"nic_list":{},"serial_port_list":{},"disk_list":{}}}},"os_type":"Windows","type":"AHV_VM","create_spec":{"name":"TSQLServer","resources":{"nic_list":[{"nic_type":"NORMAL_NIC","network_function_chain_reference":null,"network_function_nic_type":"INGRESS","mac_address":"","subnet_reference":{"kind":"subnet","type":"","name":"","uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3"},"type":""}],"serial_port_list":[],"guest_tools":null,"num_vcpus_per_socket":1,"num_sockets":2,"gpu_list":[],"memory_size_mib":4096,"parent_reference":null,"hardware_clock_timezone":"","guest_customization":{"cloud_init":null,"type":"","sysprep":{"install_type":"PREPARED","unattend_xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<unattend xmlns=\"urn:schemas-microsoft-com:unattend\">\n   <settings pass=\"specialize\">\n\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-TCPIP\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <Interfaces>\n            <Interface wcm:action=\"add\">        \n               <Identifier>Ethernet<\/Identifier>\n               <Ipv4Settings>\n                  <DhcpEnabled>true<\/DhcpEnabled>\n                  <RouterDiscoveryEnabled>true<\/RouterDiscoveryEnabled>\n                  <Metric>30<\/Metric>\n               <\/Ipv4Settings>               \n               \n            <\/Interface>\n         <\/Interfaces>\n      <\/component>\n      <component name=\"Microsoft-Windows-DNS-Client\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\">\n            <Interfaces>\n                <Interface wcm:action=\"add\">\n                    <Identifier>Ethernet<\/Identifier>\n                    <DNSServerSearchOrder>\n                        <IpAddress wcm:action=\"add\" wcm:keyValue=\"1\">@@{DNSServer}@@<\/IpAddress>\n                    <\/DNSServerSearchOrder>\n                    <EnableAdapterDomainNameRegistration>true<\/EnableAdapterDomainNameRegistration>\n                     <DisableDynamicUpdate>false<\/DisableDynamicUpdate>\n                <\/Interface>\n            <\/Interfaces>\n        <\/component>\n        \n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-LocalSessionManager\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <fDenyTSConnections>false<\/fDenyTSConnections>\n      <\/component>\n      <component xmlns=\"\" name=\"Microsoft-Windows-TerminalServices-RDP-WinStationExtensions\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\" processorArchitecture=\"amd64\">\n         <UserAuthentication>0<\/UserAuthentication>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Networking-MPSSVC-Svc\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <FirewallGroups>\n            <FirewallGroup wcm:action=\"add\" wcm:keyValue=\"RemoteDesktop\">\n               <Active>true<\/Active>\n               <Profile>all<\/Profile>\n               <Group>@FirewallAPI.dll,-28752<\/Group>\n            <\/FirewallGroup>\n         <\/FirewallGroups>\n      <\/component>\n   <\/settings>\n   <settings pass=\"oobeSystem\">\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-Shell-Setup\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <UserAccounts>\n            <AdministratorPassword>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/AdministratorPassword>\n         <\/UserAccounts>\n         <AutoLogon>\n            <Password>\n               <Value>@@{LOCAL.secret}@@<\/Value>\n               <PlainText>true<\/PlainText>\n            <\/Password>\n            <Enabled>true<\/Enabled>\n            <Username>@@{LOCAL.username}@@<\/Username>\n         <\/AutoLogon>\n         <FirstLogonCommands>\n         \n            <SynchronousCommand wcm:action=\"add\">\n               <CommandLine>cmd.exe \/c netsh firewall add portopening TCP 5985 \"Port 5985\"<\/CommandLine>\n               <Description>Win RM port open<\/Description>\n               <Order>1<\/Order>\n               <RequiresUserInput>true<\/RequiresUserInput>\n            <\/SynchronousCommand>\n            \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled False<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>2<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n            <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command enable-psremoting<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>3<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command set-executionpolicy remotesigned<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>4<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n             <SynchronousCommand wcm:action=\"add\">\n \t\t\t\t<CommandLine>%WINDIR%\\System32\\\\WindowsPowerShell\\\\v1.0\\\\PowerShell.exe -command start-service winrm<\/CommandLine>\n             \t<Description>ADDC Deploy<\/Description>\n             \t<Order>5<\/Order>\n             \t<RequiresUserInput>false<\/RequiresUserInput>\n             <\/SynchronousCommand>\n             \n         <\/FirstLogonCommands>\n         <OOBE>\n            <HideEULAPage>true<\/HideEULAPage>\n            <SkipMachineOOBE>true<\/SkipMachineOOBE>\n         <\/OOBE>\n      <\/component>\n      <component xmlns:wcm=\"http:\/\/schemas.microsoft.com\/WMIConfig\/2002\/State\" xmlns:xsi=\"http:\/\/www.w3.org\/2001\/XMLSchema-instance\" name=\"Microsoft-Windows-International-Core\" processorArchitecture=\"amd64\" publicKeyToken=\"31bf3856ad364e35\" language=\"neutral\" versionScope=\"nonSxS\">\n         <InputLocale>fr-FR<\/InputLocale>\n         <SystemLocale>fr-FR<\/SystemLocale>\n         <UILanguageFallback>en-us<\/UILanguageFallback>\n         <UILanguage>fr-FR<\/UILanguage>\n         <UserLocale>fr-FR<\/UserLocale>\n      <\/component>\n   <\/settings>\n<\/unattend>","type":""}},"power_state":"ON","type":"","account_uuid":"efc034e3-b50e-4a48-b02d-25036aeb8bd3","boot_config":{"boot_device":{"type":"","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}},"type":"","mac_address":""},"disk_list":[{"data_source_reference":{"kind":"image","name":"Win2k12r2_Sysprep.qcow2","uuid":"4df886ca-c671-4025-ae29-406c562bd5d0"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"DISK","disk_address":{"adapter_type":"SCSI","device_index":0,"type":""}}},{"data_source_reference":{"kind":"image","name":"SQLServer2014SP2-FullSlipstream-x64-ENU","uuid":"ae7b7652-bddf-41b2-8920-fa3d5bd0be9a"},"type":"","disk_size_mib":0,"volume_group_reference":null,"device_properties":{"type":"","device_type":"CDROM","disk_address":{"adapter_type":"IDE","device_index":1,"type":""}}}]},"availability_zone_reference":null,"backup_policy":null,"type":"","cluster_reference":null,"categories":""},"variable_list":[],"description":""}],"credential_definition_list":[{"username":"administrator@contoso.com","uuid":"07289b6f-f397-447c-8872-6c32c22addf4","name":"DOMAIN_CRED","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"3844ef93-125d-4471-bd29-aaffb9ba1636"}}},"type":"PASSWORD","description":""},{"username":"administrator","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e","name":"LOCAL","secret":{"attrs":{"is_secret_modified":false,"secret_reference":{"uuid":"c723081f-4826-4117-9806-0f4e65a5e0eb"}}},"type":"PASSWORD","description":""}],"type":"USER","app_profile_list":[{"deployment_create_list":[{"name":"be8bfd7f_deployment","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"TRODC","uuid":"9857aea5-4537-4f57-8d6c-4e339a588a42"},"type":"GREENFIELD","variable_list":[],"uuid":"50d6c84b-a803-4f21-88ce-f40143d6ef3b"},{"name":"be8bfd7f_deployment_cloned_1","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"TFileServer","uuid":"75318bd1-7ab9-4e18-9388-7822c825080f"},"type":"GREENFIELD","variable_list":[],"uuid":"6730876c-8762-4800-96ad-6f4608b42d57"},{"name":"be8bfd7f_deployment_cloned_1_cloned_1","action_list":[],"package_local_reference_list":[{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"}],"description":"","published_service_local_reference_list":[],"min_replicas":"1","depends_on_list":[],"max_replicas":"1","substrate_local_reference":{"kind":"app_substrate","name":"TSQLServer","uuid":"0127ece5-7d50-4b05-a3cb-5bae6188a70d"},"type":"GREENFIELD","variable_list":[],"uuid":"aac639ed-f946-487a-bd26-4427fa28fd29"}],"description":"","action_list":[{"description":"","name":"ReinitBDD","critical":false,"runbook":{"task_definition_list":[{"retries":"0","description":"","uuid":"a856c1c7-fa4e-468b-bbaf-433991ef5123","child_tasks_local_reference_list":[{"kind":"app_task","name":"RestaurationBDD","uuid":"495eeeb5-e85f-4edd-8cb9-17ae0dc71a89"}],"attrs":{"edges":[],"type":""},"timeout_secs":"0","type":"DAG","variable_list":[],"name":"82263ac5_dag"},{"target_any_local_reference":{"kind":"app_service","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29","name":"SQLServer"},"retries":"0","description":"","uuid":"495eeeb5-e85f-4edd-8cb9-17ae0dc71a89","child_tasks_local_reference_list":[],"attrs":{"exit_status":[],"script":"echo \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","type":"EXEC","variable_list":[],"name":"RestaurationBDD"}],"description":"","uuid":"174a5b30-0626-434c-aa7c-9c06a0466469","variable_list":[],"main_task_local_reference":{"kind":"app_task","name":"82263ac5_dag","uuid":"a856c1c7-fa4e-468b-bbaf-433991ef5123"},"name":"d5b36229_runbook"},"type":"user","uuid":"54ce81be-9374-4dbe-8c8b-a7c9c7429cfa"}],"name":"Default","variable_list":[{"val_type":"STRING","description":"","uuid":"72d22eb8-afd9-4a3c-ba0d-2908a31ec339","value":"10.46.6.5","label":"","attrs":{"type":""},"type":"LOCAL","name":"DNSServer"},{"val_type":"STRING","description":"","uuid":"04d8a2f4-af3d-4473-b6f3-63b3658b1208","value":"contoso.com","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"DOMAIN"},{"val_type":"STRING","description":"","uuid":"d3f348f5-1401-4a73-a698-397d025e5466","value":"RODC","label":"","attrs":{"type":""},"editables":{"value":true},"type":"LOCAL","name":"DOMAIN_TYPE"},{"val_type":"STRING","description":"","uuid":"8ef66bf2-eb4d-4e71-b1bc-e8342e6f4956","value":"On en fait un autre ???","label":"","attrs":{"type":""},"type":"LOCAL","name":"MSO365_Teams_Message"},{"val_type":"STRING","description":"","uuid":"ec1f99fe-2a0b-4bd9-b4d0-ef5d452e788d","value":"Deploiement termine","label":"","attrs":{"type":""},"type":"LOCAL","name":"MSO365_Teams_Title"},{"val_type":"STRING","description":"","uuid":"94947970-6bd5-45da-ab95-52b3b7e7f4f2","value":"https:\/\/outlook.office.com\/webhook\/4117132b-9424-40c7-a67a-547478c993c1@f82dcf67-d8b9-429f-a265-0b7a306e57e7\/IncomingWebhook\/eacfeec3457241bd8270bb476abf1cb3\/9f21995d-87ec-4dd0-91d9-149d7911c24f","label":"","attrs":{"type":""},"type":"LOCAL","name":"O365_Teams_Connector_Url"},{"val_type":"STRING","description":"","uuid":"3c6e9ea8-fa53-43ef-a40e-42e9f4205f0c","value":"https:\/\/hooks.slack.com\/services\/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","label":"","attrs":{"type":""},"type":"LOCAL","name":"SLACK_HOOK"},{"val_type":"STRING","description":"","uuid":"9cbad754-4e2d-499d-8746-8cf6c11b6697","value":"","label":"","attrs":{"type":""},"type":"LOCAL","name":"CHILD_DOMAIN"},{"val_type":"STRING","description":"","uuid":"39f050ad-9ba1-4007-b048-e3e56150b3b5","value":"MSSQLSERVER","label":"","attrs":{"type":""},"type":"LOCAL","name":"SQL_INSTANCE_NAME"}],"uuid":"70b281f5-dfae-4f5a-81d5-87864fa9b218"}],"published_service_definition_list":[],"default_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"},"package_definition_list":[{"uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"}],"name":"FileServer_Package","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","name":"76326282_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_RenameAndJoinDomain","uuid":"afeb4e3b-2afd-4b99-934f-9bf6f16404df"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"dfd36107-1092-4979-8b37-8c32e0435e20"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","name":"FileServer_RenameAndJoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname : $HOSTNAME\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\n\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"afeb4e3b-2afd-4b99-934f-9bf6f16404df"}],"name":"b54300dd_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"dfd36107-1092-4979-8b37-8c32e0435e20"},"uuid":"256f72ff-c651-42a6-bcdf-ce00961eead3"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"FileServer_Package","uuid":"b7b0360e-52f7-4579-a838-10e3bfebfe4d"},"retries":"0","name":"700b3d0e_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"FileServer_UnjoinDoman","uuid":"73341ce6-8e9c-4cf2-8c26-487682d6df3f"}],"state":"ACTIVE","attrs":{"edges":[],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"12fc7bdf-f3b0-43da-b62f-413f9b256454"},{"target_any_local_reference":{"kind":"app_service","name":"FileServer","uuid":"ef25d881-8ff8-4af7-b89b-569f31f9af0c"},"retries":"0","name":"FileServer_UnjoinDoman","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"73341ce6-8e9c-4cf2-8c26-487682d6df3f"}],"name":"ea9792f4_runbook_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"12fc7bdf-f3b0-43da-b62f-413f9b256454"},"uuid":"1788a81e-229d-4d94-a4f4-b18812f62636"}},"variable_list":[],"description":""},{"uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"}],"name":"RODC_Package","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","name":"76326282_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},"edge_type":"user_defined","type":"","uuid":"6afab150-4f84-40ef-9219-b2407879422f","to_task_reference":{"kind":"app_task","name":"RODC_ConfigurationRoleRODC","uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}},{"from_task_reference":{"kind":"app_task","name":"RODC_RenameAndJoinDomain","uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},"edge_type":"user_defined","type":"","uuid":"d464b35b-867b-4fc3-aeb0-9335890bffad","to_task_reference":{"kind":"app_task","name":"RODC_Attente1","uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"488cbef6-bfb4-480e-954c-8a7bf098f25e"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","name":"RODC_RenameAndJoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif(\"@@{DOMAIN_TYPE}@@\" -eq \"DC\"){\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses \"127.0.0.1\"\n  Restart-Computer -Force -AsJob\n  exit 0\n}\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\n\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"9aadcfe5-4ca6-40b6-85f0-2d3a46bd3afc"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","name":"RODC_Attente1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"149b373a-ff80-4512-b334-3e4095b57ffd"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","name":"RODC_ConfigurationRoleRODC","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : ActiveDirectoryBundle.ps1\n# Author      : K Sarath Kumar\n# Version     : 1.0\n# Description : Installs and configures domain controller features AD, CDC, ADC & RODC.\n##############################################\n\n$WS2008R2_MAJOR                 = '6.1'\n$WS2012_MAJOR                   = '6.2'\n$WS2012R2_MAJOR                 = '6.3'\n$WS2016_MAJOR                   = '10.0'\n\n# -*- Checks AD Domain services Installation\nfunction Check-ActiveDirectoryFeature {\n   return $(Get-WindowsFeature AD-Domain-Services -ErrorAction SilentlyContinue).Installed\n}\n# -*- Installs AD Domain services\nfunction Install-ActiveDirectory {\n  Write-Output \"Installing AD Features.\"\n  Install-WindowsFeature -Name AD-Domain-Services -IncludeManagementTools\n}\n# -*- Checks the pre existance of domain\nfunction Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\n# -*- Configures AD Domain service\nfunction Configure-ActiveDirectory {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$false)]\n      [string]$DatabasePath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainMode,\n      [parameter(Mandatory=$true)]\n      [string]$ForestMode,\n      [parameter(Mandatory=$false)]\n      [string]$LogPath=\"C:\\Windows\\NTDS\",\n      [parameter(Mandatory=$false)]\n      [string]$SysvolPath=\"C:\\Windows\\SYSVOL\",\n      [parameter(Mandatory=$true)]\n      [string]$DomainType,\n      [parameter(Mandatory=$false)]\n      [string]$ChildDomainName\n  )\n  Write-Output \"Import-Module ADDSDeployment\"\n  Import-Module ADDSDeployment\n\n  $secpasswd = ConvertTo-SecureString $Password -AsPlainText -Force\n  $credential = New-Object System.Management.Automation.PSCredential(\"$DomainName\\calm\",$secpasswd)\n  $netbios = $DomainName.Split(\".\")[0].ToUpper()\n  Write-Output \"Configuring Domain services.\"\n  switch ($DomainType){\n    \"DC\"{\n    \tWrite-Output \"01 Install DC Role\"\n      Install-ADDSForest -CreateDnsDelegation:$false -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainName $DomainName -DomainNetbiosName $netbios -ForestMode $ForestMode -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd\n    }\n    \"ADC\"{\n    \tWrite-Output \"01 Install ADC Role\"\n      Install-ADDSDomainController -NoGlobalCatalog:$false -CreateDnsDelegation:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"CDC\"{\n    \tWrite-Output \"01 Install CDC Role\"\n      Install-ADDSDomain -NoGlobalCatalog:$false -CreateDnsDelegation:$true -DatabasePath $DatabasePath -DomainMode $DomainMode -DomainType \"ChildDomain\" -InstallDns:$true -LogPath $LogPath -NewDomainName $ChildDomainName -NewDomainNetbiosName $ChildDomainName.ToUpper() -ParentDomainName $DomainName -NoRebootOnCompletion:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    \"RODC\"{\n      Write-Output \"01 Install RODC Role\"\n      $SafeModePassword = ConvertTo-SecureString Nutanix\/4u -AsPlainText -Force\n      Write-Output \"01 Install RODC Role - Test\"\n      Test-ADDSDomainControllerInstallation -Credential $credential -SafeModeAdministratorPassword $SafeModePassword -DomainName a56.demo\n      Write-Output \"01 Install RODC Role - Install\"\n      Install-ADDSDomainController -AllowPasswordReplicationAccountName @(\"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est autoris\u00e9\") -NoGlobalCatalog:$false -CriticalReplicationOnly:$false -DatabasePath $DatabasePath -DenyPasswordReplicationAccountName @(\"BUILTIN\\Administrateurs\", \"BUILTIN\\Op\u00e9rateurs de serveur\", \"BUILTIN\\Op\u00e9rateurs de sauvegarde\", \"BUILTIN\\Op\u00e9rateurs de compte\", \"$netbios\\Groupe de r\u00e9plication dont le mot de passe RODC est refus\u00e9\") -DomainName $DomainName -InstallDns:$true -LogPath $LogPath -NoRebootOnCompletion:$true -ReadOnlyReplica:$true -SiteName \"Default-First-Site-Name\" -SysvolPath $SysvolPath -Force:$true -SafeModeAdministratorPassword $secpasswd -Credential $credential\n    }\n    default{\n      Write-Output \"01 Invalid DomainType\"\n    }\n}\n}\n# -*- Cheking Exitance of Active directory Feature.\nif (Check-ActiveDirectoryFeature){\n  Write-Output \"Active Directory already installed.\"\n} else{\n  Install-ActiveDirectory\n}\n\nif (Check-DomainExistance){\n  Write-Output \"Domain exists already.\"\n} else{\n  $MajorOSVersion= [string](Get-WmiObject Win32_OperatingSystem | Select-Object @{n=\"Major\";e={($_.Version.Split(\".\")[0]+\".\"+$_.Version.Split(\".\")[1])}}).Major\n  Write-Output \"Domain doesn't exist\"\n  Write-Output \"OS Detected version : $MajorOSVersion\"\n  if ($MajorOSVersion -eq $WS2012R2_MAJOR){\n    $DomainMode = \"Win2012R2\"\n  } elseif ($MajorOSVersion -eq $WS2016_MAJOR){\n    $DomainMode = \"WinThreshold\"\n  }\n  Write-Output \"Domain mode : $DomainMode\"\n  Configure-ActiveDirectory -DomainName \"@@{DOMAIN}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -DomainMode $DomainMode -ForestMode $DomainMode -DomainType \"@@{DOMAIN_TYPE}@@\" -ChildDomainName \"@@{CHILD_DOMAIN}@@\"\n}\nStart-Sleep -Seconds 5\n\necho $Error\n\nRestart-Computer -Force -AsJob\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"7e103689-9ef9-422d-85ac-e30b8f2470a0"}],"name":"b54300dd_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"488cbef6-bfb4-480e-954c-8a7bf098f25e"},"uuid":"cfb71c35-8055-40c0-937b-af1252490e29"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"RODC_Package","uuid":"13b0c7e9-528a-4f2c-a5b1-0e4c50e7ef68"},"retries":"0","name":"700b3d0e_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"RODC_Unistall_AD_Services","uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},"edge_type":"user_defined","type":"","uuid":"28fd9471-206c-4516-8e27-689ff3b970bc","to_task_reference":{"kind":"app_task","name":"RODC_UnjoinDomain","uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"5e3c5bb3-694f-45db-b7ca-3969caed61ae"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","name":"RODC_Unistall_AD_Services","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nUninstall-ADDSDomainController -Credential $credential -DemoteOperationMasterRole -NoRebootOnCompletion -Force -ForceRemoval -LocalAdministratorPassword $adminpassword","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"2c4b3cc0-b5f7-46ad-a2ca-e55f07512cb9"},{"target_any_local_reference":{"kind":"app_service","name":"RODC","uuid":"0fddcd66-fb37-45b5-8f36-84b302f644d9"},"retries":"0","name":"RODC_UnjoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\n\nRestart-Computer -Force -AsJob","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"0f526423-c552-4614-aa86-1ec8a3da99a4"}],"name":"ea9792f4_runbook","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"5e3c5bb3-694f-45db-b7ca-3969caed61ae"},"uuid":"d353ecaa-011c-4807-9d5a-0a33446228c5"}},"variable_list":[],"description":""},{"uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a","action_list":[],"service_local_reference_list":[{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"}],"name":"SQLServer_Personnalisation","version":"","type":"DEB","options":{"install_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","name":"76326282_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"027be01d-f58f-4899-9899-3937a6220868"},{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},{"kind":"app_task","name":"Message_Slack","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"},{"kind":"app_task","name":"Message_Teams","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},"edge_type":"user_defined","type":"","uuid":"ed239342-7866-4b48-8ec9-724aca2636fd","to_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DesactivationFirewall","uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},"edge_type":"user_defined","type":"","uuid":"3846a4c3-d682-4b0c-9f3a-b18a10a7f2e6","to_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_DisableUAC","uuid":"027be01d-f58f-4899-9899-3937a6220868"},"edge_type":"user_defined","type":"","uuid":"700383c8-2746-402f-9547-035f09db0319","to_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},"edge_type":"user_defined","type":"","uuid":"a8019cd4-c62e-422c-bd06-d6f438f12232","to_task_reference":{"kind":"app_task","name":"Message_Slack","uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},"edge_type":"user_defined","type":"","uuid":"2fc73bea-9620-48f4-aef3-e1f7788e039b","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer2016_InstallationBinaires","uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},"edge_type":"user_defined","type":"","uuid":"ad4ab116-be9a-42e6-8472-a752be7a5767","to_task_reference":{"kind":"app_task","name":"SQLServer_ImportBDD","uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"}},{"from_task_reference":{"kind":"app_task","name":"SQLServer_RenameAndJoinDomain","uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},"edge_type":"user_defined","type":"","uuid":"0717e7d4-1dc2-424b-9132-947d3e976111","to_task_reference":{"kind":"app_task","name":"SQLServer_Attente1","uuid":"90b90252-27c9-4599-b4ef-764a889b5265"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"10a0adf7-3bdf-4a13-8e98-18caa31a3463"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"SQLServer_DisableUAC","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$osversion = (Get-CimInstance Win32_OperatingSystem).Version \n$version = $osversion.split(\".\")[0] \n \nif ($version -eq 10) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n} ElseIf ($Version -eq 6) { \n    $sub = $version.split(\".\")[1] \n    if ($sub -eq 1 -or $sub -eq 0) { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n    } Else { \n        Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n    } \n} ElseIf ($Version -eq 5) { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"EnableLUA\" -Value \"0\" \n} Else { \n    Set-ItemProperty \"HKLM:\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Policies\\System\" -Name \"ConsentPromptBehaviorAdmin\" -Value \"0\" \n}","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"027be01d-f58f-4899-9899-3937a6220868"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"SQLServer_RenameAndJoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"##############################################\n# Name        : JoinDomain.ps1\n# Author      : K Sarat Kumar\n# Version     : 1.0\n# Description : Script is used to Change hostname of machines and join to domain.\n##############################################\n$HOSTNAME = \"@@{name}@@\"\nfunction Set-Hostname{\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$Hostname\n)\n  if ($Hostname -eq  $(hostname)){\n    Write-Output \"Hostname already set.\"\n  }\n  else{\n  \tWrite-Output \"Rename to $HOSTNAME\"\n    Rename-Computer -NewName $HOSTNAME -ErrorAction Stop\n  }\n}\n\nfunction JointoDomain {\n  [CmdletBinding()]\n  Param(\n      [parameter(Mandatory=$true)]\n      [string]$DomainName,\n      [parameter(Mandatory=$false)]\n      [string]$OU,\n      [parameter(Mandatory=$true)]\n      [string]$Username,\n      [parameter(Mandatory=$true)]\n      [string]$Password,\n      [parameter(Mandatory=$true)]\n      [string]$Server\n  )\n  $adapter = Get-NetAdapter | ? {$_.Status -eq \"up\"}\n  $adapter | Set-DnsClientServerAddress -ServerAddresses $Server\n\n  if ($env:computername  -eq $env:userdomain) {\n    Write-Output \"N'est pas joint au domaine.\"\n    $adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"$Password\"\n    Write-Output \"Tentative de jonction au domaine avec les credentials : $Username , $password .\"\n    $credential = New-Object System.Management.Automation.PSCredential($Username, $adminpassword)\n    Add-computer -DomainName $DomainName -Credential $credential -force -Options JoinWithNewName,AccountCreate -PassThru -ErrorAction Stop\n  }\n  else {\n     Write-Output \"Already in domain\"\n  }\n}\n\nif ($HOSTNAME -ne $Null){\n  Write-Output \"Setting Hostname : $HOSTNAME\"\n  Set-Hostname -Hostname $HOSTNAME\n}\n\nif( (\"@@{DNSServer}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.username}@@\" -eq \"\") -or (\"@@{DOMAIN_CRED.secret}@@\" -eq \"\")){\n\tWrite-Output \"Please pass all mandatory variables DOMAIN,DNSServer & CREDS\"\n    exit 1\n}\n\nEnable-PSRemoting -Force\nJointoDomain -DomainName \"@@{DOMAIN}@@\" -Username \"@@{DOMAIN_CRED.username}@@\" -Password \"@@{DOMAIN_CRED.secret}@@\" -Server \"@@{DNSServer}@@\"\nWrite-Output \"Restarting\"\nRestart-Computer -Force -AsJob\n\nexit 0\n","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"LOCAL","uuid":"f798eb56-dc79-491f-beec-09ecc15db66e"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"b855dd44-4bc0-42e5-bdbf-323f94a1fc0a"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"SQLServer_Attente1","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\nsleep(90)"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"90b90252-27c9-4599-b4ef-764a889b5265"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"SQLServer_DesactivationFirewall","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"netsh advfirewall set allprofiles state off\necho $Error","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"23fbc91f-3d8d-4eb5-bd69-6de8485848f3"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"SQLServer2016_InstallationBinaires","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"D:\\setup.exe \/q \/ACTION=Install \/IACCEPTSQLSERVERLICENSETERMS \/FEATURES=SQL \/INSTANCENAME=\"@@{SQL_INSTANCE_NAME}@@\" \/SQLSVCACCOUNT=\"NT AUTHORITY\\SYSTEM\" \/SQLSYSADMINACCOUNTS=\"@@{DOMAIN_CRED.username}@@\" \/AGTSVCACCOUNT=\"NT AUTHORITY\\Network Service\" \/SQLSVCINSTANTFILEINIT=\"True\" \/IACCEPTSQLSERVERLICENSETERMS \/UpdateEnabled=False","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"243a5485-e477-4cbe-aed9-4fc39cca7930"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"SQLServer_ImportBDD","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"function Check-DomainExistance {\n  #if (Get-ADDomainController -Discover -ErrorAction SilentlyContinue){\n  if (\"$((wmic ComputerSystem get DomainRole)[2])\".trim() -eq \"5\"){\n   return $true\n  } else{\n    return $false\n  }\n}\n\necho \"Restauration de la base de donn\u00e9es.\"\nRestore-SqlDatabase -ServerInstance \"SQLServer\\\" -Database \"DEMO\" -BackupFile \"\\\\DC1\\backup\\DEMO.bak\"\necho \"Restauration termin\u00e9e.\"\n\nexit 0","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"680273dc-5d51-40b2-a8ab-0c2842601c63"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"Message_Slack","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{SLACK_HOOK}@@\"\n\npayload = {\n  'text': 'Nutanix CALM : Application @@{calm_application_name}@@ vient d etre deployee :-)'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"c37750b8-715f-4433-9342-30f3b2bf7c52"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"Message_Teams","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': '@@{MSO365_Teams_Title}@@',\n  'text': 'D\u00e9ploiement du SQL Serveur termin\u00e9. Vous pouvez vous y connectez vie l IP @@{address}@@ :-)',\n  'potentialAction': [\n    {\n      '@type': 'ActionCard',\n      'name': 'Details',\n      'inputs': [\n        {\n          '@type': 'TextInput',\n          'id': 'feedback',\n          'isMultiline': 'true',\n          'title': 'On peut ici mettre tout un tas d informations'\n        }\n      ],\n      'actions': [\n        {\n          '@type': 'HttpPOST',\n          'name': 'Lien',\n          'isPrimary': 'true',\n          'target': 'rdp:\/\/@@{DNSServer}@@'\n        }\n      ]\n    },\n    {\n      '@type': 'OpenUri',\n      'name': 'Connexions',\n      'targets': [\n        { 'os': 'default', 'uri': 'rdp:\/\/@@{DNSServer}@@' }\n      ]\n    }\n  ]\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"d6542d6f-10ad-4d79-bf03-509e2623aae3"}],"name":"b54300dd_runbook_cloned_1_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"76326282_dag","uuid":"10a0adf7-3bdf-4a13-8e98-18caa31a3463"},"uuid":"8756c7ec-551f-41d5-8327-ee8ddc23a907"},"type":"","uninstall_runbook":{"task_definition_list":[{"target_any_local_reference":{"kind":"app_package","name":"SQLServer_Personnalisation","uuid":"ca1c77a0-855d-41d6-bf4d-00b9a62da67a"},"retries":"0","name":"700b3d0e_dag","type":"DAG","description":"","child_tasks_local_reference_list":[{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},{"kind":"app_task","name":"Message_Teams","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}],"state":"ACTIVE","attrs":{"edges":[{"from_task_reference":{"kind":"app_task","name":"SQLServer_UnjoinDomain","uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},"edge_type":"user_defined","type":"","uuid":"150b7504-6e94-47a7-b440-193bb6e23af0","to_task_reference":{"kind":"app_task","name":"Message_Teams","uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}}],"type":""},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"1598f85a-81ba-4e4f-bf27-b32227639b7d"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"SQLServer_UnjoinDomain","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"exit_status":[],"script":"$adminpassword = ConvertTo-SecureString -asPlainText -Force -String \"@@{DOMAIN_CRED.secret}@@\"\nWrite-Output \"@@{DOMAIN_CRED.username}@@ , @@{DOMAIN_CRED.secret}@@\"\n$credential = New-Object System.Management.Automation.PSCredential(\"@@{DOMAIN_CRED.username}@@\", $adminpassword)\n\nRemove-Computer -UnjoinDomaincredential $credential -Force -PassThru -Verbose -Restart -WorkgroupName Workgroup\nrestart-computer","script_type":"npsscript","type":"","command_line_args":"","login_credential_local_reference":{"kind":"app_credential","name":"DOMAIN_CRED","uuid":"07289b6f-f397-447c-8872-6c32c22addf4"}},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"fd846ff6-999c-46d2-bb0c-7c00d4f924b0"},{"target_any_local_reference":{"kind":"app_service","name":"SQLServer","uuid":"7ddee25c-3d5c-4dc5-b60c-d1f3433a1c29"},"retries":"0","name":"Message_Teams","type":"EXEC","description":"","child_tasks_local_reference_list":[],"state":"ACTIVE","attrs":{"script_type":"static","type":"","command_line_args":"","exit_status":[],"script":"#script\n\nheaders = {'Content-Type': 'application\/json'}\napi_url = \"@@{O365_Teams_Connector_Url}@@\"\n\npayload = {\n  '@context': 'http:\/\/schema.org\/extensions',\n  '@type': 'MessageCard',\n  'themeColor': '0072C6',\n  'title': 'Nutanix CALM : @@{calm_application_name}@@ - Supprimee',\n  'text': 'Pense a montrer la suppression dans l AD.'\n}\n\nr = urlreq(api_url, verb='POST', headers=headers, params=json.dumps(payload))\n\nif r.ok:\n  print r.content\nelse:\n  print \"Post request failed\", r.content\n  exit(1)"},"timeout_secs":"0","message_list":[],"variable_list":[],"uuid":"4d77be48-140a-4e5a-9ffc-fdb8209e5412"}],"name":"ea9792f4_runbook_cloned_1_cloned_1","description":"","state":"ACTIVE","variable_list":[],"message_list":[],"main_task_local_reference":{"kind":"app_task","name":"700b3d0e_dag","uuid":"1598f85a-81ba-4e4f-bf27-b32227639b7d"},"uuid":"9d90f32e-c972-4699-b2be-1f392823c39c"}},"variable_list":[],"description":""}],"client_attrs":{"aac639ed-f946-487a-bd26-4427fa28fd29":{"y":-603.3817214849,"x":-33.1364306329},"50d6c84b-a803-4f21-88ce-f40143d6ef3b":{"y":-506.9097307601,"x":-311.0824523451},"6730876c-8762-4800-96ad-6f4608b42d57":{"y":-355.0279700423,"x":-540.2037824022}}},"description":""},"api_version":"3.0","metadata":{"last_update_time":"1551954518179249","owner_reference":{"kind":"user","uuid":"00000000-0000-0000-0000-000000000000","name":"admin"},"kind":"blueprint","uuid":"5dda4cfb-1728-43ea-8da7-6e40aa7246e2","project_reference":{"kind":"project","name":"default","uuid":"209e0a42-6f2d-4999-9a9b-5aa705d25661"},"spec_version":4,"creation_time":"1551954150787838","name":"Cedric_newbp"}}